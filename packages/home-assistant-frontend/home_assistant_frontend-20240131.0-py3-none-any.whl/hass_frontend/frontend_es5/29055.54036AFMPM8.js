"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[29055],{55642:function(e,a,t){t.d(a,{h:function(){return u}});var n=t(68990),i=t(71650),r=t(33368),s=t(68308),o=t(69205),c=(t(51467),t(82073),t(46798),t(9849),t(50289),t(94167),t(68144)),l=t(57835),u=(0,l.XM)(function(e){function a(e){var t;if((0,i.Z)(this,a),(t=(0,s.Z)(this,a,[e]))._element=void 0,e.type!==l.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings");return t}return(0,o.Z)(a,e),(0,r.Z)(a,[{key:"update",value:function(e,a){var t=this,i=(0,n.Z)(a,2),r=i[0],s=i[1];return this._element&&this._element.localName===r?(s&&Object.entries(s).forEach((function(e){var a=(0,n.Z)(e,2),i=a[0],r=a[1];t._element[i]=r})),c.Jb):this.render(r,s)}},{key:"render",value:function(e,a){var t=this;return this._element=document.createElement(e),a&&Object.entries(a).forEach((function(e){var a=(0,n.Z)(e,2),i=a[0],r=a[1];t._element[i]=r})),this._element}}]),a}(l.Xe))},36741:function(e,a,t){t.r(a),t.d(a,{HuiAreaCardEditor:function(){return E}});var n,i=t(88962),r=t(99312),s=t(81043),o=t(53709),c=t(33368),l=t(71650),u=t(68308),d=t(82390),h=t(69205),_=t(91808),v=(t(97393),t(87438),t(40271),t(51358),t(46349),t(37313),t(22859),t(85717),t(46798),t(10733),t(78399),t(60163),t(5239),t(9849),t(22890),t(70320),t(56086),t(47884),t(81912),t(64584),t(41483),t(12367),t(9454),t(98490),t(68144)),f=t(95260),m=t(14516),p=t(93088),y=t(47181),k=(t(68331),t(95795)),b=t(98346),Z=t(58831),g=t(85415),C=t(41499),w=(0,p.f0)(b.I,(0,p.Ry)({area:(0,p.jt)((0,p.Z_)()),navigation_path:(0,p.jt)((0,p.Z_)()),theme:(0,p.jt)((0,p.Z_)()),show_camera:(0,p.jt)((0,p.O7)()),camera_view:(0,p.jt)((0,p.Z_)()),aspect_ratio:(0,p.jt)((0,p.Z_)()),alert_classes:(0,p.jt)((0,p.IX)((0,p.Z_)())),sensor_classes:(0,p.jt)((0,p.IX)((0,p.Z_)()))})),E=(0,_.Z)([(0,f.Mo)("hui-area-card-editor")],(function(e,a){var t,_=function(a){function t(){var a;(0,l.Z)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=(0,u.Z)(this,t,[].concat(i)),e((0,d.Z)(a)),a}return(0,h.Z)(t,a),(0,c.Z)(t)}(a);return{F:_,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_numericDeviceClasses",value:void 0},{kind:"field",key:"_schema",value:function(){return(0,m.Z)((function(e,a,t){return[{name:"area",selector:{area:{}}},{name:"show_camera",required:!1,selector:{boolean:{}}}].concat((0,o.Z)(e?[{name:"camera_view",selector:{select:{options:["auto","live"]}}}]:[]),[{name:"",type:"grid",schema:[{name:"navigation_path",required:!1,selector:{navigation:{}}},{name:"theme",required:!1,selector:{theme:{}}},{name:"aspect_ratio",default:k.DEFAULT_ASPECT_RATIO,selector:{text:{}}}]},{name:"alert_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:a}}},{name:"sensor_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:t}}}])}))}},{kind:"field",key:"_binaryClassesForArea",value:function(){var e=this;return(0,m.Z)((function(a){return e._classesForArea(a,"binary_sensor")}))}},{kind:"field",key:"_sensorClassesForArea",value:function(){var e=this;return(0,m.Z)((function(a,t){return e._classesForArea(a,"sensor",t)}))}},{kind:"method",key:"_classesForArea",value:function(e,a,t){var n=this,i=Object.values(this.hass.entities).filter((function(t){return(0,Z.M)(t.entity_id)===a&&!t.entity_category&&!t.hidden&&(t.area_id===e||t.device_id&&n.hass.devices[t.device_id].area_id===e)})).map((function(e){var a;return(null===(a=n.hass.states[e.entity_id])||void 0===a?void 0:a.attributes.device_class)||""})).filter((function(e){return e&&("sensor"!==a||!t||t.includes(e))}));return(0,o.Z)(new Set(i))}},{kind:"field",key:"_buildBinaryOptions",value:function(){var e=this;return(0,m.Z)((function(a,t){return e._buildOptions("binary_sensor",a,t)}))}},{kind:"field",key:"_buildSensorOptions",value:function(){var e=this;return(0,m.Z)((function(a,t){return e._buildOptions("sensor",a,t)}))}},{kind:"method",key:"_buildOptions",value:function(e,a,t){var n=this,i=(0,o.Z)(new Set([].concat((0,o.Z)(a),(0,o.Z)(t)))).map((function(a){return{value:a,label:n.hass.localize("component.".concat(e,".entity_component.").concat(a,".name"))||a}}));return i.sort((function(e,a){return(0,g.f)(e.label,a.label,n.hass.locale.language)})),i}},{kind:"method",key:"setConfig",value:function(e){(0,p.hu)(e,w),this._config=e}},{kind:"method",key:"updated",value:(t=(0,s.Z)((0,r.Z)().mark((function e(){var a,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hass||this._numericDeviceClasses){e.next=6;break}return e.next=3,(0,C.ib)(this.hass);case 3:a=e.sent,t=a.numeric_device_classes,this._numericDeviceClasses=t;case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return v.Ld;var e=this._binaryClassesForArea(this._config.area||""),a=this._sensorClassesForArea(this._config.area||"",this._numericDeviceClasses),t=this._buildBinaryOptions(e,this._config.alert_classes||k.DEVICE_CLASSES.binary_sensor),r=this._buildSensorOptions(a,this._config.sensor_classes||k.DEVICE_CLASSES.sensor),s=this._schema(this._config.show_camera||!1,t,r),o=Object.assign({camera_view:"auto",alert_classes:k.DEVICE_CLASSES.binary_sensor,sensor_classes:k.DEVICE_CLASSES.sensor},this._config);return(0,v.dy)(n||(n=(0,i.Z)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> '])),this.hass,o,s,this._computeLabelCallback,this._valueChanged)}},{kind:"method",key:"_valueChanged",value:function(e){var a=e.detail.value;a.show_camera||delete a.camera_view,(0,y.B)(this,"config-changed",{config:a})}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(a){switch(a.name){case"theme":return"".concat(e.hass.localize("ui.panel.lovelace.editor.card.generic.theme")," (").concat(e.hass.localize("ui.panel.lovelace.editor.card.config.optional"),")");case"area":return e.hass.localize("ui.panel.lovelace.editor.card.area.name");case"navigation_path":return e.hass.localize("ui.panel.lovelace.editor.action-editor.navigation_path");case"aspect_ratio":return e.hass.localize("ui.panel.lovelace.editor.card.generic.aspect_ratio");case"camera_view":return e.hass.localize("ui.panel.lovelace.editor.card.generic.camera_view")}return e.hass.localize("ui.panel.lovelace.editor.card.area.".concat(a.name))}}}]}}),v.oi)},98346:function(e,a,t){t.d(a,{I:function(){return i}});var n=t(93088),i=(0,n.Ry)({type:(0,n.Z_)(),view_layout:(0,n.Yj)()})}}]);
//# sourceMappingURL=29055.54036AFMPM8.js.map