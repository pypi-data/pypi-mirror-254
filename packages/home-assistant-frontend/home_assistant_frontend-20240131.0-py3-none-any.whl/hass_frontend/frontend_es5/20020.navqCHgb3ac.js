"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[20020],{93748:function(n,t,e){e.d(t,{B$:function(){return r},Es:function(){return a},Gd:function(){return u},HF:function(){return p},Ip:function(){return g},J8:function(){return v},Pl:function(){return h},SC:function(){return c},SQ:function(){return d},Xm:function(){return m},Yc:function(){return s},r4:function(){return l},sq:function(){return f}});e(85717);var i,o=e(83849),r="single",s=10,u=function(n){if("condition"in n&&Array.isArray(n.condition))return{condition:"and",conditions:n.condition};for(var t=0,e=["and","or","not"];t<e.length;t++){var i=e[t];if(i in n)return{condition:i,conditions:n[i]}}return n},a=function(n,t){n.callService("automation","trigger",{entity_id:t,skip_condition:!0})},c=function(n,t){return n.callApi("DELETE","config/automation/config/".concat(t))},l=function(n,t){return n.callApi("GET","config/automation/config/".concat(t))},d=function(n,t){return n.callWS({type:"automation/config",entity_id:t})},f=function(n,t,e){return n.callApi("POST","config/automation/config/".concat(t),e)},g=function(n){i=n,(0,o.c)("/config/automation/edit/new")},p=function(n){g(Object.assign(Object.assign({},n),{},{id:void 0,alias:void 0}))},h=function(){var n=i;return i=void 0,n},m=function(n,t,e,i){return n.connection.subscribeMessage(t,{type:"subscribe_trigger",trigger:e,variables:i})},v=function(n,t,e){return n.callWS({type:"test_condition",condition:t,variables:e})}},20020:function(n,t,e){e.r(t),e.d(t,{attachExternalToApp:function(){return s}});var i=e(47181),o=e(72055),r=e(93748),s=function(n){window.addEventListener("haptic",(function(t){return n.hass.auth.external.fireMessage({type:"haptic",payload:{hapticType:t.detail}})})),n.hass.auth.external.addCommandHandler((function(t){return u(n,t)}))},u=function(n,t){var e=n.hass.auth.external;if("restart"===t.command)n.hass.connection.reconnect(!0),e.fireMessage({id:t.id,type:"result",success:!0,result:null});else if("notifications/show"===t.command)(0,i.B)(n,"hass-show-notifications"),e.fireMessage({id:t.id,type:"result",success:!0,result:null});else if("sidebar/toggle"===t.command){var s;if(null!==(s=o.E.history.state)&&void 0!==s&&s.open)return e.fireMessage({id:t.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.B)(n,"hass-toggle-menu"),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}else if("sidebar/show"===t.command){var u;if(null!==(u=o.E.history.state)&&void 0!==u&&u.open)return e.fireMessage({id:t.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.B)(n,"hass-toggle-menu",{open:!0}),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}else{if("automation/editor/show"!==t.command)return!1;var a;(0,r.Ip)(null===(a=t.payload)||void 0===a?void 0:a.config),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}return!0}}}]);
//# sourceMappingURL=20020.navqCHgb3ac.js.map