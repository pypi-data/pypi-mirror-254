"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[29746],{57266:function(e,t,n){n.d(t,{jV:function(){return d},o1:function(){return p},MY:function(){return h},sS:function(){return g},ri:function(){return w},hb:function(){return v},Yc:function(){return b}});var r=n(99312),c=n(81043),a=(n(46798),n(47084),n(63789),n(94570),n(24074),n(88640),n(49706)),o=n(58831),i=n(22311),s=n(21780),u=function(e,t){return function(e){switch(e){case"de":case"lb":return!0;default:return!1}}(t)?(0,s.f)(e):e.toLocaleLowerCase(t)},_=n(56007),l="ui.components.logbook.messages",d=["counter","proximity","sensor","zone"],f={"numeric state of":"triggered_by_numeric_state_of","state of":"triggered_by_state_of",event:"triggered_by_event",time:"triggered_by_time","time pattern":"triggered_by_time_pattern","Home Assistant stopping":"triggered_by_homeassistant_stopping","Home Assistant starting":"triggered_by_homeassistant_starting"},g=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n,c){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(t,n,void 0,void 0,c));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(e,t,n,r,c,a){if((r||a)&&(!r||0===r.length)&&(!a||0===a.length))return Promise.resolve([]);var o={type:"logbook/get_events",start_time:t};return n&&(o.end_time=n),null!=r&&r.length&&(o.entity_ids=r),null!=a&&a.length&&(o.device_ids=a),c&&(o.context_id=c),e.callWS(o)},b=function(e,t,n,r,c,a){if((c||a)&&(!c||0===c.length)&&(!a||0===a.length))return Promise.reject("No entities or devices");var o={type:"logbook/event_stream",start_time:n,end_time:r};return null!=c&&c.length&&(o.entity_ids=c),null!=a&&a.length&&(o.device_ids=a),e.connection.subscribeMessage((function(e){return t(e)}),o)},p=function(e,t){return{entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:a.iY.has((0,o.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:a.iY.has((0,o.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}},v=function(e,t){for(var n in f)if(t.startsWith(n))return t.replace(n,"".concat(e("ui.components.logbook.".concat(f[n]))));return t},w=function(e,t,n,r,c){switch(c){case"device_tracker":case"person":return"not_home"===n?t("".concat(l,".was_away")):"home"===n?t("".concat(l,".was_at_home")):t("".concat(l,".was_at_state"),{state:n});case"sun":return t("".concat(l,"above_horizon"===n?".rose":".set"));case"binary_sensor":var o=n===a.uo,i=n===a.lC,s=r.attributes.device_class;switch(s){case"battery":if(o)return t("".concat(l,".was_low"));if(i)return t("".concat(l,".was_normal"));break;case"connectivity":if(o)return t("".concat(l,".was_connected"));if(i)return t("".concat(l,".was_disconnected"));break;case"door":case"garage_door":case"opening":case"window":if(o)return t("".concat(l,".was_opened"));if(i)return t("".concat(l,".was_closed"));break;case"lock":if(o)return t("".concat(l,".was_unlocked"));if(i)return t("".concat(l,".was_locked"));break;case"plug":if(o)return t("".concat(l,".was_plugged_in"));if(i)return t("".concat(l,".was_unplugged"));break;case"presence":if(o)return t("".concat(l,".was_at_home"));if(i)return t("".concat(l,".was_away"));break;case"safety":if(o)return t("".concat(l,".was_unsafe"));if(i)return t("".concat(l,".was_safe"));break;case"cold":case"gas":case"heat":case"moisture":case"motion":case"occupancy":case"power":case"problem":case"smoke":case"sound":case"vibration":if(o)return t("".concat(l,".detected_device_class"),{device_class:u(t("component.binary_sensor.entity_component.".concat(s,".name")),e.language)});if(i)return t("".concat(l,".cleared_device_class"),{device_class:u(t("component.binary_sensor.entity_component.".concat(s,".name")),e.language)});break;case"tamper":if(o)return t("".concat(l,".detected_tampering"));if(i)return t("".concat(l,".cleared_tampering"))}break;case"cover":switch(n){case"open":return t("".concat(l,".was_opened"));case"opening":return t("".concat(l,".is_opening"));case"closing":return t("".concat(l,".is_closing"));case"closed":return t("".concat(l,".was_closed"))}break;case"event":return t("".concat(l,".detected_event_no_type"));case"lock":switch(n){case"unlocked":return t("".concat(l,".was_unlocked"));case"locking":return t("".concat(l,".is_locking"));case"unlocking":return t("".concat(l,".is_unlocking"));case"locked":return t("".concat(l,".was_locked"));case"jammed":return t("".concat(l,".is_jammed"))}}return n===a.uo?t("".concat(l,".turned_on")):n===a.lC?t("".concat(l,".turned_off")):n===_.lz?t("".concat(l,".became_unknown")):n===_.nZ?t("".concat(l,".became_unavailable")):e.localize("".concat(l,".changed_to_state"),{state:r?e.formatEntityState(r,n):n})},h=function(e){return"sensor"!==(0,i.N)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class}},83320:function(e,t,n){n.d(t,{w:function(){return a}});n(51358),n(46798),n(78399),n(5239),n(56086),n(47884),n(81912),n(64584),n(41483),n(12367),n(9454),n(98490),n(7355),n(26602),n(93479),n(51432),n(73089),n(8864),n(17875);var r=n(7778),c=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),a=function(e){return(0,r.Tw)("element",e,c)}},5110:function(e,t,n){var r=n(68077),c=n(55418),a=n(97673),o=n(29191),i=n(93892),s=n(18431),u=RangeError,_=String,l=Math.floor,d=c(i),f=c("".slice),g=c(1..toFixed),m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)},b=function(e,t,n){for(var r=-1,c=n;++r<6;)c+=t*e[r],e[r]=c%1e7,c=l(c/1e7)},p=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=l(r/t),r=r%t*1e7},v=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=_(e[t]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:s((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!s((function(){g({})}))},{toFixed:function(e){var t,n,r,c,i=o(this),s=a(e),l=[0,0,0,0,0,0],g="",w="0";if(s<0||s>20)throw new u("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return _(i);if(i<0&&(g="-",i=-i),i>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*m(2,69,1))-69)<0?i*m(2,-t,1):i/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(b(l,0,n),r=s;r>=7;)b(l,1e7,0),r-=7;for(b(l,m(10,r,1),0),r=t-1;r>=23;)p(l,1<<23),r-=23;p(l,1<<r),b(l,1,1),p(l,2),w=v(l)}else b(l,0,n),b(l,1<<-t,0),w=v(l)+d("0",s);return w=s>0?g+((c=w.length)<=s?"0."+d("0",s-c)+w:f(w,0,c-s)+"."+f(w,c-s)):g+w}})}}]);
//# sourceMappingURL=29746.OihP3cqpfD0.js.map