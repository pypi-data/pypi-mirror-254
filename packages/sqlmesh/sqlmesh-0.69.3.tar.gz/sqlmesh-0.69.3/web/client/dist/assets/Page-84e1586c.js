import{r as s,a9 as Z,aa as Le,ab as Ie,x as Q,A as q,ac as dt,F as R,R as O,ad as ut,ae as Re,af as de,X as J,I as te,G as ye,ag as mt,ah as ft,ai as pt,aj as xt,T as j,Q as he,ak as ge,al as vt,am as Y,an as Te,ao as ze,y as ht,z as Be,ap as Me,aq as $e,H as gt,J as wt,K as bt,ar as jt,as as Rt,j as r,f as fe,$ as De,p as w,t as yt,a as C,l as _,D as se,i as Et,c as kt,M as S,e as we,at as Nt,au as Ct,a5 as Pt,g as H,S as be,n as ne,m as ae,h as ue,s as _e,u as We,a8 as It,L as Mt,av as $t,a2 as Ve,B as je,aw as Dt,Z as Ft,ax as At,E as Ot}from"./index-66e2613f.js";import{s as St,v as ee,M as Ge,P as He,S as Lt,k as Fe}from"./_commonjs-dynamic-modules-c3e257af.js";import{c as Tt,d as zt,e as L,x as Bt,T as _t,p as Wt,f as Vt,L as Gt,b as Ht,I as Ae}from"./ModelLineage-9c773d12.js";import{R as Ut}from"./ReportErrors-b8df51db.js";function Kt({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 013.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 10-1.06 1.06l3 3a.75.75 0 001.06 0l3-3a.75.75 0 00-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 00-4.392-4.392 49.422 49.422 0 00-7.436 0A4.756 4.756 0 003.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 101.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 013.01-3.01c1.19-.09 2.392-.135 3.605-.135zm-6.97 6.22a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 004.392 4.392 49.413 49.413 0 007.436 0 4.756 4.756 0 004.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 00-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 01-3.01 3.01 47.953 47.953 0 01-7.21 0 3.256 3.256 0 01-3.01-3.01 47.759 47.759 0 01-.1-1.759L6.97 15.53a.75.75 0 001.06-1.06l-3-3z",clipRule:"evenodd"}))}const Qt=s.forwardRef(Kt),Ue=Qt;function qt({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M3.75 12a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}const Jt=s.forwardRef(qt),Xt=Jt;function Yt({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const Zt=s.forwardRef(Yt),er=Zt;function Ke({container:e,accept:t,walk:n,enabled:a=!0}){let l=s.useRef(t),c=s.useRef(n);s.useEffect(()=>{l.current=t,c.current=n},[t,n]),Z(()=>{if(!e||!a)return;let o=Le(e);if(!o)return;let i=l.current,d=c.current,x=Object.assign(g=>i(g),{acceptNode:i}),b=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,x,!1);for(;b.nextNode();)d(b.currentNode)},[e,a,l,c])}var tr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(tr||{}),rr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(rr||{}),nr=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(nr||{});function ve(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=ze(t(e.items.slice()),c=>c.dataRef.current.domRef.current),l=n?a.indexOf(n):null;return l===-1&&(l=null),{items:a,activeItemIndex:l}}let ar={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n;let a=ve(e),l=Bt(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:l,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(o=>{var i;return((i=o.dataRef.current.textValue)==null?void 0:i.startsWith(a))&&!o.dataRef.current.disabled}),c=l?e.items.indexOf(l):-1;return c===-1||c===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:c,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=ve(e,a=>[...a,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=ve(e,a=>{let l=a.findIndex(c=>c.id===t.id);return l!==-1&&a.splice(l,1),a});return{...e,...n,activationTrigger:1}}},Ee=s.createContext(null);Ee.displayName="MenuContext";function pe(e){let t=s.useContext(Ee);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pe),n}return t}function sr(e,t){return Re(t.type,ar,e,t)}let lr=s.Fragment;function or(e,t){let{__demoMode:n=!1,...a}=e,l=s.useReducer(sr,{__demoMode:n,menuState:n?0:1,buttonRef:s.createRef(),itemsRef:s.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:c,itemsRef:o,buttonRef:i},d]=l,x=q(t);dt([i,o],(m,E)=>{var f;d({type:1}),pt(E,xt.Loose)||(m.preventDefault(),(f=i.current)==null||f.focus())},c===0);let b=R(()=>{d({type:1})}),g=s.useMemo(()=>({open:c===0,close:b}),[c,b]),p={ref:x};return O.createElement(Ee.Provider,{value:l},O.createElement(ut,{value:Re(c,{0:de.Open,1:de.Closed})},J({ourProps:p,theirProps:a,slot:g,defaultTag:lr,name:"Menu"})))}let ir="button";function cr(e,t){var n;let a=te(),{id:l=`headlessui-menu-button-${a}`,...c}=e,[o,i]=pe("Menu.Button"),d=q(o.buttonRef,t),x=ye(),b=R(f=>{switch(f.key){case j.Space:case j.Enter:case j.ArrowDown:f.preventDefault(),f.stopPropagation(),i({type:0}),x.nextFrame(()=>i({type:2,focus:L.First}));break;case j.ArrowUp:f.preventDefault(),f.stopPropagation(),i({type:0}),x.nextFrame(()=>i({type:2,focus:L.Last}));break}}),g=R(f=>{switch(f.key){case j.Space:f.preventDefault();break}}),p=R(f=>{if(he(f.currentTarget))return f.preventDefault();e.disabled||(o.menuState===0?(i({type:1}),x.nextFrame(()=>{var I;return(I=o.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})})):(f.preventDefault(),i({type:0})))}),m=s.useMemo(()=>({open:o.menuState===0}),[o]),E={ref:d,id:l,type:St(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:b,onKeyUp:g,onClick:p};return J({ourProps:E,theirProps:c,slot:m,defaultTag:ir,name:"Menu.Button"})}let dr="div",ur=Ie.RenderStrategy|Ie.Static;function mr(e,t){var n,a;let l=te(),{id:c=`headlessui-menu-items-${l}`,...o}=e,[i,d]=pe("Menu.Items"),x=q(i.itemsRef,t),b=mt(i.itemsRef),g=ye(),p=ft(),m=(()=>p!==null?(p&de.Open)===de.Open:i.menuState===0)();s.useEffect(()=>{let u=i.itemsRef.current;u&&i.menuState===0&&u!==(b==null?void 0:b.activeElement)&&u.focus({preventScroll:!0})},[i.menuState,i.itemsRef,b]),Ke({container:i.itemsRef.current,enabled:i.menuState===0,accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});let E=R(u=>{var D,F;switch(g.dispose(),u.key){case j.Space:if(i.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),d({type:3,value:u.key});case j.Enter:if(u.preventDefault(),u.stopPropagation(),d({type:1}),i.activeItemIndex!==null){let{dataRef:y}=i.items[i.activeItemIndex];(F=(D=y.current)==null?void 0:D.domRef.current)==null||F.click()}Te(i.buttonRef.current);break;case j.ArrowDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:L.Next});case j.ArrowUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:L.Previous});case j.Home:case j.PageUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:L.First});case j.End:case j.PageDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:L.Last});case j.Escape:u.preventDefault(),u.stopPropagation(),d({type:1}),ge().nextFrame(()=>{var y;return(y=i.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});break;case j.Tab:u.preventDefault(),u.stopPropagation(),d({type:1}),ge().nextFrame(()=>{vt(i.buttonRef.current,u.shiftKey?Y.Previous:Y.Next)});break;default:u.key.length===1&&(d({type:3,value:u.key}),g.setTimeout(()=>d({type:4}),350));break}}),f=R(u=>{switch(u.key){case j.Space:u.preventDefault();break}}),I=s.useMemo(()=>({open:i.menuState===0}),[i]),z={"aria-activedescendant":i.activeItemIndex===null||(n=i.items[i.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(a=i.buttonRef.current)==null?void 0:a.id,id:c,onKeyDown:E,onKeyUp:f,role:"menu",tabIndex:0,ref:x};return J({ourProps:z,theirProps:o,slot:I,defaultTag:dr,features:ur,visible:m,name:"Menu.Items"})}let fr=s.Fragment;function pr(e,t){let n=te(),{id:a=`headlessui-menu-item-${n}`,disabled:l=!1,...c}=e,[o,i]=pe("Menu.Item"),d=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===a:!1,x=s.useRef(null),b=q(t,x);Z(()=>{if(o.__demoMode||o.menuState!==0||!d||o.activationTrigger===0)return;let y=ge();return y.requestAnimationFrame(()=>{var k,W;(W=(k=x.current)==null?void 0:k.scrollIntoView)==null||W.call(k,{block:"nearest"})}),y.dispose},[o.__demoMode,x,d,o.menuState,o.activationTrigger,o.activeItemIndex]);let g=Tt(x),p=s.useRef({disabled:l,domRef:x,get textValue(){return g()}});Z(()=>{p.current.disabled=l},[p,l]),Z(()=>(i({type:5,id:a,dataRef:p}),()=>i({type:6,id:a})),[p,a]);let m=R(()=>{i({type:1})}),E=R(y=>{if(l)return y.preventDefault();i({type:1}),Te(o.buttonRef.current)}),f=R(()=>{if(l)return i({type:2,focus:L.Nothing});i({type:2,focus:L.Specific,id:a})}),I=zt(),z=R(y=>I.update(y)),u=R(y=>{I.wasMoved(y)&&(l||d||i({type:2,focus:L.Specific,id:a,trigger:0}))}),D=R(y=>{I.wasMoved(y)&&(l||d&&i({type:2,focus:L.Nothing}))}),F=s.useMemo(()=>({active:d,disabled:l,close:m}),[d,l,m]);return J({ourProps:{id:a,ref:b,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,disabled:void 0,onClick:E,onFocus:f,onPointerEnter:z,onMouseEnter:z,onPointerMove:u,onMouseMove:u,onPointerLeave:D,onMouseLeave:D},theirProps:c,slot:F,defaultTag:fr,name:"Menu.Item"})}let xr=Q(or),vr=Q(cr),hr=Q(mr),gr=Q(pr),ie=Object.assign(xr,{Button:vr,Items:hr,Item:gr}),Qe=s.createContext(null);function qe(){let e=s.useContext(Qe);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,qe),t}return e}function Je(){let[e,t]=s.useState([]);return[e.length>0?e.join(" "):void 0,s.useMemo(()=>function(n){let a=R(c=>(t(o=>[...o,c]),()=>t(o=>{let i=o.slice(),d=i.indexOf(c);return d!==-1&&i.splice(d,1),i}))),l=s.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return O.createElement(Qe.Provider,{value:l},n.children)},[t])]}let wr="label";function br(e,t){let n=te(),{id:a=`headlessui-label-${n}`,passive:l=!1,...c}=e,o=qe(),i=q(t);Z(()=>o.register(a),[a,o.register]);let d={ref:i,...o.props,id:a};return l&&("onClick"in d&&(delete d.htmlFor,delete d.onClick),"onClick"in c&&delete c.onClick),J({ourProps:d,theirProps:c,slot:o.slot||{},defaultTag:wr,name:o.name||"Label"})}let jr=Q(br),Rr=Object.assign(jr,{});var yr=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(yr||{});let Er={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:ze(n,a=>a.element.current)}},1(e,t){let n=e.options.slice(),a=e.options.findIndex(l=>l.id===t.id);return a===-1?e:(n.splice(a,1),{...e,options:n})}},ke=s.createContext(null);ke.displayName="RadioGroupDataContext";function Xe(e){let t=s.useContext(ke);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xe),n}return t}let Ne=s.createContext(null);Ne.displayName="RadioGroupActionsContext";function Ye(e){let t=s.useContext(Ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ye),n}return t}function kr(e,t){return Re(t.type,Er,e,t)}let Nr="div";function Cr(e,t){let n=te(),{id:a=`headlessui-radiogroup-${n}`,value:l,defaultValue:c,form:o,name:i,onChange:d,by:x=(v,M)=>v===M,disabled:b=!1,...g}=e,p=R(typeof x=="string"?(v,M)=>{let P=x;return(v==null?void 0:v[P])===(M==null?void 0:M[P])}:x),[m,E]=s.useReducer(kr,{options:[]}),f=m.options,[I,z]=Je(),[u,D]=Be(),F=s.useRef(null),y=q(F,t),[k,W]=_t(l,d,c),A=s.useMemo(()=>f.find(v=>!v.propsRef.current.disabled),[f]),V=s.useMemo(()=>f.some(v=>p(v.propsRef.current.value,k)),[f,k]),T=R(v=>{var M;if(b||p(v,k))return!1;let P=(M=f.find(G=>p(G.propsRef.current.value,v)))==null?void 0:M.propsRef.current;return P!=null&&P.disabled?!1:(W==null||W(v),!0)});Ke({container:F.current,accept(v){return v.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let xe=R(v=>{let M=F.current;if(!M)return;let P=Le(M),G=f.filter(N=>N.propsRef.current.disabled===!1).map(N=>N.element.current);switch(v.key){case j.Enter:Wt(v.currentTarget);break;case j.ArrowLeft:case j.ArrowUp:if(v.preventDefault(),v.stopPropagation(),Me(G,Y.Previous|Y.WrapAround)===$e.Success){let N=f.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&T(N.propsRef.current.value)}break;case j.ArrowRight:case j.ArrowDown:if(v.preventDefault(),v.stopPropagation(),Me(G,Y.Next|Y.WrapAround)===$e.Success){let N=f.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&T(N.propsRef.current.value)}break;case j.Space:{v.preventDefault(),v.stopPropagation();let N=f.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&T(N.propsRef.current.value)}break}}),B=R(v=>(E({type:0,...v}),()=>E({type:1,id:v.id}))),le=s.useMemo(()=>({value:k,firstOption:A,containsCheckedOption:V,disabled:b,compare:p,...m}),[k,A,V,b,p,m]),lt=s.useMemo(()=>({registerOption:B,change:T}),[B,T]),ot={ref:y,id:a,role:"radiogroup","aria-labelledby":I,"aria-describedby":u,onKeyDown:xe},it=s.useMemo(()=>({value:k}),[k]),oe=s.useRef(null),ct=ye();return s.useEffect(()=>{oe.current&&c!==void 0&&ct.addEventListener(oe.current,"reset",()=>{T(c)})},[oe,T]),O.createElement(D,{name:"RadioGroup.Description"},O.createElement(z,{name:"RadioGroup.Label"},O.createElement(Ne.Provider,{value:lt},O.createElement(ke.Provider,{value:le},i!=null&&k!=null&&Vt({[i]:k}).map(([v,M],P)=>O.createElement(gt,{features:wt.Hidden,ref:P===0?G=>{var N;oe.current=(N=G==null?void 0:G.closest("form"))!=null?N:null}:void 0,...bt({key:v,as:"input",type:"radio",checked:M!=null,hidden:!0,readOnly:!0,form:o,name:v,value:M})})),J({ourProps:ot,theirProps:g,slot:it,defaultTag:Nr,name:"RadioGroup"})))))}var Pr=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Pr||{});let Ir="div";function Mr(e,t){var n;let a=te(),{id:l=`headlessui-radiogroup-option-${a}`,value:c,disabled:o=!1,...i}=e,d=s.useRef(null),x=q(d,t),[b,g]=Je(),[p,m]=Be(),{addFlag:E,removeFlag:f,hasFlag:I}=jt(1),z=Rt({value:c,disabled:o}),u=Xe("RadioGroup.Option"),D=Ye("RadioGroup.Option");Z(()=>D.registerOption({id:l,element:d,propsRef:z}),[l,D,d,e]);let F=R(B=>{var le;if(he(B.currentTarget))return B.preventDefault();D.change(c)&&(E(2),(le=d.current)==null||le.focus())}),y=R(B=>{if(he(B.currentTarget))return B.preventDefault();E(2)}),k=R(()=>f(2)),W=((n=u.firstOption)==null?void 0:n.id)===l,A=u.disabled||o,V=u.compare(u.value,c),T={ref:x,id:l,role:"radio","aria-checked":V?"true":"false","aria-labelledby":b,"aria-describedby":p,"aria-disabled":A?!0:void 0,tabIndex:(()=>A?-1:V||!u.containsCheckedOption&&W?0:-1)(),onClick:A?void 0:F,onFocus:A?void 0:y,onBlur:A?void 0:k},xe=s.useMemo(()=>({checked:V,disabled:A,active:I(2)}),[V,A,I]);return O.createElement(m,{name:"RadioGroup.Description"},O.createElement(g,{name:"RadioGroup.Label"},J({ourProps:T,theirProps:i,slot:xe,defaultTag:Ir,name:"RadioGroup.Option"})))}let $r=Q(Cr),Dr=Q(Mr),ce=Object.assign($r,{Option:Dr,Label:Rr,Description:ht});function Fr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"}))}const Ar=s.forwardRef(Fr),Or=Ar;function Sr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"}))}const Lr=s.forwardRef(Sr),Tr=Lr;function zr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M3 3.5A1.5 1.5 0 014.5 2h6.879a1.5 1.5 0 011.06.44l4.122 4.12A1.5 1.5 0 0117 7.622V16.5a1.5 1.5 0 01-1.5 1.5h-11A1.5 1.5 0 013 16.5v-13zm10.857 5.691a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 00-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const Br=s.forwardRef(zr),_r=Br;function Wr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"}))}const Vr=s.forwardRef(Wr),Gr=Vr;function Hr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const Ur=s.forwardRef(Hr),Kr=Ur;function Qr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"}))}const qr=s.forwardRef(Qr),Jr=qr;function Xr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z",clipRule:"evenodd"}))}const Yr=s.forwardRef(Xr),Zr=Yr;function en({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M9.661 2.237a.531.531 0 01.678 0 11.947 11.947 0 007.078 2.749.5.5 0 01.479.425c.069.52.104 1.05.104 1.59 0 5.162-3.26 9.563-7.834 11.256a.48.48 0 01-.332 0C5.26 16.564 2 12.163 2 7c0-.538.035-1.069.104-1.589a.5.5 0 01.48-.425 11.947 11.947 0 007.077-2.75zm4.196 5.954a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const tn=s.forwardRef(en),rn=tn;function nn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const an=s.forwardRef(nn),sn=an;function ln({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const on=s.forwardRef(ln),cn=on;function dn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"}))}const un=s.forwardRef(dn),mn=un;function fn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const pn=s.forwardRef(fn),xn=pn;function vn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))}const hn=s.forwardRef(vn),gn=hn;function wn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"}))}const bn=s.forwardRef(wn),jn=bn;function Rn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const yn=s.forwardRef(Rn),En=yn;function kn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"}))}const Nn=s.forwardRef(kn),Cn=Nn;function Pn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"}))}const In=s.forwardRef(Pn),Mn=In;function $n({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"}))}const Dn=s.forwardRef($n),Fn=Dn,$={ResetPlanOptions:"reset-plan-options",ResetPlanDates:"reset-plan-dates",PlanOptions:"plan-options",Dates:"dates",DateStart:"date-start",DateEnd:"date-end",Category:"category",External:"external",ResetTestsReport:"reset-tests-report",TestsReportErrors:"tests-report-errors",TestsReportMessages:"tests-report-messages"},h={Add:"add",Remove:"remove",Direct:"direct",Indirect:"indirect",Metadata:"metadata",Default:"default"},Oe={BreakingChange:"breaking-change",NonBreakingChange:"non-breaking-change"},[An,On]=Tn(),Ze={skip_tests:!1,no_gaps:!1,skip_backfill:!1,forward_only:!1,auto_apply:!1,no_auto_categorization:!1,include_unmodified:!0,restate_models:void 0,create_from:"prod"},et={start:void 0,end:void 0},Ce={...et,...Ze,categories:On,defaultCategory:An,change_categorization:new Map,virtualUpdateDescription:"All changes and their downstream dependencies can be fully previewed before they get promoted. If during plan creation no data gaps have been detected and only references to new model versions need to be updated, then such an update is referred to as a Virtual Update. Virtual Updates impose no additional runtime overhead or cost.",isInitialPlanRun:!1,errors:[],testsReportErrors:void 0,testsReportMessages:void 0},tt=s.createContext(Ce),rt=s.createContext(()=>{});function Yn({children:e}){const[t,n]=s.useReducer(Sn,Object.assign(Ce));return r.jsx(tt.Provider,{value:Object.assign(t),children:r.jsx(rt.Provider,{value:n,children:e})})}function Pe(){return s.useContext(tt)}function nt(){return s.useContext(rt)}function Sn(e,t){return t=Array.isArray(t)?t:[t],t.reduce(Ln,e)}function Ln(e=Ce,{type:t,...n}){switch(t){case $.ResetPlanDates:return Object.assign({},e,et);case $.ResetPlanOptions:return Object.assign({},e,Ze);case $.ResetTestsReport:return Object.assign({},e,{testsReportErrors:void 0,testsReportMessages:void 0});case $.PlanOptions:return Object.assign({},e,n);case $.Dates:return Object.assign({},e,{start:n.start,end:n.end});case $.External:return Object.assign({},e,{isInitialPlanRun:n.isInitialPlanRun??!1});case $.DateStart:return Object.assign({},e,{start:n.start});case $.DateEnd:return Object.assign({},e,{end:n.end});case $.TestsReportErrors:return Object.assign({},e,{testsReportErrors:n.testsReportErrors});case $.TestsReportMessages:return Object.assign({},e,{testsReportMessages:n.testsReportMessages});case $.Category:{const{change:a,category:l}=n;return fe(a==null?void 0:a.name)&&e.change_categorization.set(a.name,{category:l,change:a}),Object.assign({},e,{change_categorization:new Map(e.change_categorization)})}default:return Object.assign({},e)}}function Tn(){const e={id:Oe.BreakingChange,name:"Breaking Change",description:"It will rebuild all models",value:De.NUMBER_1},t=[e,{id:Oe.NonBreakingChange,name:"Non-Breaking Change",description:"It will exclude all indirect models caused by this change",value:De.NUMBER_2}];return[e,t]}function K({children:e,headline:t,type:n,className:a}){return r.jsxs("div",{className:w("flex flex-col rounded-md p-4",n===h.Add&&"bg-success-5",n===h.Remove&&"bg-danger-5",n===h.Direct&&"bg-secondary-5",n===h.Indirect&&"bg-warning-5",n===h.Default&&"bg-neutral-5",a),children:[fe(t)&&r.jsx("h4",{className:w("mb-2 font-bold whitespace-nowrap",n===h.Add&&"text-success-600 dark:text-success-300",n===h.Remove&&"text-danger-600 dark:text-danger-300",n===h.Direct&&"text-secondary-600 dark:text-secondary-300",n===h.Indirect&&"text-warning-600 dark:text-warning-300",n===h.Default&&"text-neutral-600 dark:text-neutral-300"),children:t}),e]})}function zn({changes:e=[],type:t}){return r.jsx("ul",{children:e.map(n=>r.jsxs("li",{className:w("flex items-center px-1 leading-5 mb-1",t===h.Add&&"text-success-600 dark:text-success-300",t===h.Remove&&"text-danger-600 dark:text-danger-300",t===h.Direct&&"text-secondary-600 dark:text-secondary-300",t===h.Indirect&&"text-warning-600 dark:text-warning-300",t===h.Default&&"text-neutral-600 dark:text-neutral-300"),children:[t===h.Add?r.jsx(er,{className:"h-3 mr-2"}):t===h.Remove?r.jsx(Xt,{className:"h-3 mr-2"}):r.jsx(Ue,{className:"h-4 mr-2"}),r.jsx("small",{title:n.displayViewName,className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:yt(n.displayViewName,50,25)})]},n.name))})}function Bn({changes:e=[]}){const t=nt(),{categories:n}=Pe(),a=C(l=>l.models);return s.useEffect(()=>{t(e.map(l=>({type:$.Category,category:n.find(({value:c})=>c===l.change_category),change:l})))},[e]),r.jsx("ul",{children:e.map(l=>r.jsx("li",{className:"text-secondary-500 dark:text-primary-500 mt-1",children:r.jsx(ee,{children:({open:c})=>r.jsxs(r.Fragment,{children:[r.jsxs(ee.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[r.jsx(me,{className:"w-full",change:l}),(()=>{const o=c?Ge:He;return r.jsx(o,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500"})})()]}),r.jsxs(ee.Panel,{className:"text-sm px-4 mb-4 overflow-hidden",children:[_(l.indirect)&&r.jsx(at,{type:"indirect",models:l.indirect}),r.jsx(se,{className:"border-neutral-200 mt-2"}),r.jsx(_n,{change:l}),r.jsx(se,{className:"border-neutral-200 mt-2"}),r.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:[fe(l==null?void 0:l.diff)&&r.jsx(st,{diff:l==null?void 0:l.diff}),(()=>{var i;const o=a.get(l.name);return Et(o)?r.jsx(r.Fragment,{}):r.jsx("div",{className:"h-[16rem] bg-theme-lighter rounded-xl p-2",children:r.jsx(Gt,{showColumns:!1,showConnected:!0,children:r.jsx(Ht,{model:o,highlightedNodes:{"border-4 border-warning-500":((i=l.indirect)==null?void 0:i.map(d=>d.name))??[],"border-4 border-secondary-500":[l.name],"*":[]}})})})})()]})]})]})})},l.name))})}function _n({change:e}){var l;const t=nt(),{change_categorization:n,categories:a}=Pe();return r.jsx(ce,{className:"flex flex-col mt-2",value:((l=n.get(e.name))==null?void 0:l.category.value)??e.change_category,onChange:c=>{t({type:$.Category,category:a.find(({value:o})=>o===c),change:e})},children:a.map(c=>r.jsx(ce.Option,{value:c.value,className:()=>w("relative flex rounded-md"),children:({checked:o})=>r.jsxs("div",{className:w("text-sm flex items-center px-2 py-1 w-full rounded-lg",o?"text-secondary-500 dark:text-primary-300":"text-prose"),children:[r.jsx("div",{className:"mt-[0.125rem] mr-2 border-2 border-neutral-400 min-w-[1rem] h-4 rounded-full flex justify-center items-center",children:o&&r.jsx("span",{className:"inline-block w-2 h-2 bg-secondary-500 dark:bg-primary-300 rounded-full"})}),r.jsxs("div",{children:[r.jsx(ce.Label,{as:"p",children:c.name}),r.jsx(ce.Description,{as:"span",className:"text-xs text-neutral-500",children:c.description})]})]})},c.name))})}function Wn({changes:e=[]}){return r.jsx("ul",{children:e.map(t=>r.jsx("li",{className:"text-warning-700 dark:text-warning-500",children:_(t.direct)?r.jsx(ee,{children:({open:n})=>r.jsxs(r.Fragment,{children:[r.jsxs(ee.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[r.jsx(me,{change:t}),(()=>{const a=n?Ge:He;return r.jsx(a,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500 mt-0.5"})})()]}),r.jsx(ee.Panel,{className:"text-sm px-4 mb-4",children:r.jsx(at,{type:"direct",models:t.direct??[]})})]})}):r.jsx(me,{change:t})},t.name))})}function me({change:e,className:t}){var l;const{change_categorization:n}=Pe(),a=(l=n.get(e.name))==null?void 0:l.category;return r.jsxs("div",{className:w("flex items-center font-bold",t),children:[r.jsx(Ue,{className:"h-4 mr-2"}),r.jsx("small",{className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:e.displayViewName}),fe(a)&&r.jsx("span",{className:"ml-2 text-xs px-1 bg-neutral-400 text-neutral-100  dark:bg-neutral-400 dark:text-neutral-800 rounded whitespace-nowrap mr-2",children:a.name})]})}function at({type:e,models:t}){return r.jsx("ul",{className:w("mt-2 ml-4",e==="indirect"&&"text-warning-700 dark:text-warning-500",e==="direct"&&"text-secondary-500 dark:text-primary-500"),children:t.map(n=>r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"h-3 w-3 border-l-2 border-b-2 inline-block mr-2"}),n.displayViewName]},n.name))})}function st({diff:e}){return r.jsx("div",{className:"my-4 bg-dark-lighter rounded-lg overflow-hidden",children:r.jsx("pre",{className:"p-4 text-primary-100 max-h-[30vh] text-xs overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e.split(`
`).map((t,n)=>r.jsx("p",{className:w(t.startsWith("+")&&"text-success-500 bg-success-500/10 px-2",t.startsWith("-")&&"text-danger-500 bg-danger-500/10 px-2",t.startsWith("@@")&&"text-primary-300 my-5 px-2"),children:t},`${t}-${n}`))})})}K.Default=zn;K.Direct=Bn;K.Indirect=Wn;K.Diff=st;K.Title=me;function Zn({sidebar:e,content:t}){const n=kt(),a=C(o=>o.splitPaneSizes),l=C(o=>o.setSplitPaneSizes),c=C(o=>o.modules);return r.jsx(r.Fragment,{children:r.jsxs(Lt,{sizes:a,minSize:[0,0],snapOffset:0,className:"flex w-full h-full overflow-hidden",onDragEnd:l,children:[r.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[c.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex min-w-[10rem] px-2 h-8 w-full",children:r.jsx(Gn,{})}),r.jsx(se,{})]}),r.jsx("div",{className:"w-full h-full overflow-hidden",children:e})]}),r.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[c.includes(S.environments)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-w-[10rem] px-2 h-8 w-full flex items-center",children:[r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>n(-1),className:"inline-block text-neutral-500 text-xs hover:bg-neutral-5 px-1 py-1 rounded-full",children:r.jsx(Or,{className:"min-w-4 h-4"})}),r.jsx("button",{onClick:()=>n(1),className:"inline-block text-neutral-500 text-xs hover:bg-neutral-5 px-1 py-1 rounded-full",children:r.jsx(Tr,{className:"min-w-4 h-4"})})]}),r.jsx(Vn,{})]}),r.jsx(se,{})]}),r.jsx("div",{className:"w-full h-full overflow-hidden",children:t})]})]})})}function Vn(){const e=C(d=>d.environment),t=C(d=>d.modules),n=we(d=>d.planAction),a=we(d=>d.planOverview),{isFetching:l}=Nt(),{isFetching:c}=Ct(),{isFetching:o}=Pt(e.name,{planOptions:{skip_tests:!0,include_unmodified:!0}}),i=t.includes(S.plans)||t.includes(S["plan-progress"]);return r.jsx("div",{className:"h-8 flex w-full items-center justify-end text-neutral-500",children:c?r.jsx(Se,{children:"Loading Environments..."}):l?r.jsx(Se,{children:"Loading Models..."}):r.jsxs(r.Fragment,{children:[i&&r.jsx(r.Fragment,{children:n.isProcessing?r.jsx(U,{title:n.displayStatus(a),to:H.Plan,icon:r.jsx(be,{variant:ne.Success,className:"w-3"}),iconActive:r.jsx(be,{variant:ne.Success,className:"w-3"}),before:r.jsx("p",{className:"block mx-1 text-xs text-success-100 font-bold",children:n.displayStatus(a)}),className:"px-2 py-1 bg-success-500",classActive:"bg-success-500"}):r.jsx(U,{title:"Plan",to:H.Plan,icon:r.jsx(Cn,{className:w("w-5",a.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100")}),iconActive:r.jsx(Zr,{className:w("w-5",a.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100")}),before:r.jsx("p",{className:w("block mx-1 text-xs font-bold",a.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100"),children:"Plan"}),className:w("px-2",a.isFailed?"bg-danger-10 dark:bg-danger-500":"bg-success-500"),classActive:w(a.isFailed?"bg-danger-10 dark:bg-danger-500":"bg-success-500")})}),r.jsx(Un,{className:"border-none h-6 ",size:ae.sm,showAddEnvironment:t.includes(S.plans),disabled:o||n.isProcessing||e.isInitialProd}),ue(a.isLatest)&&_e(a.hasChanges)&&r.jsx(Hn,{}),t.includes(S.errors)&&r.jsx(Ut,{})]})})}function Gn(){const{errors:e}=We(),t=C(l=>l.models),n=C(l=>l.modules),a=Array.from(new Set(t.values())).length;return r.jsxs("div",{className:"h-8 flex w-full items-center justify-center px-1 py-0.5 text-neutral-500",children:[n.includes(S.editor)&&r.jsx(U,{title:"File Explorer",to:H.Editor,className:"text-primary-500",classActive:"px-2 bg-primary-10 text-primary-500",icon:r.jsx(jn,{className:"w-4"}),iconActive:r.jsx(Jr,{className:"w-4"})}),n.includes(S.docs)&&r.jsx(U,{title:"Docs",to:H.Docs,icon:r.jsx(xn,{className:"w-4"}),iconActive:r.jsx(Gr,{className:"w-4"}),children:r.jsx("span",{className:"block ml-1 text-xs",children:a})}),n.includes(S.errors)&&r.jsx(U,{title:"Errors",to:H.Errors,className:e.size>0?"text-danger-500":"",classActive:"px-2 bg-danger-10 text-danger-500",icon:r.jsx(gn,{className:"w-4"}),iconActive:r.jsx(Kr,{className:"w-4"}),disabled:e.size===0,children:e.size>0&&r.jsx("span",{className:"block ml-1 text-xs",children:e.size})}),n.includes(S.tests)&&r.jsx(U,{title:"Tests",to:H.Tests,icon:r.jsx(mn,{className:"w-4"}),iconActive:r.jsx(_r,{className:"w-4"})}),n.includes(S.audits)&&r.jsx(U,{title:"Audits",to:H.Audits,icon:r.jsx(Mn,{className:"w-4"}),iconActive:r.jsx(rn,{className:"w-4"})})]})}function U({title:e,to:t,icon:n,iconActive:a,classActive:l="px-2 bg-neutral-10",disabled:c=!1,children:o,before:i,className:d}){return r.jsx(It,{title:e,to:t,className:({isActive:x})=>w("mx-1 py-0.5 flex items-center rounded-full",c&&"opacity-50 cursor-not-allowed",x&&ue(c)&&l,d),style:({isActive:x})=>x||c?{pointerEvents:"none"}:{},children:({isActive:x})=>r.jsxs("span",{className:w("flex items-center",x?"font-bold":"font-normal"),children:[i,x?a:n,o]})})}function Se({children:e}){return r.jsxs(Mt,{className:"inline-block",children:[r.jsx(be,{className:"w-3 h-3 border border-neutral-10 mr-2"}),r.jsx("span",{className:"inline-block text-xs",children:e})]})}function Hn(){const e=we(t=>t.planOverview);return r.jsxs("span",{className:"flex group items-center bg-neutral-10 px-1 py-1 rounded-full",children:[_e(e.hasChanges)&&r.jsx("p",{className:"flex text-xs ml-2 mr-2 dark:text-neutral-300",children:"Changes"}),_(e.added)&&r.jsx(X,{headline:"Added",type:h.Add,changes:e.added,className:"-mr-2 group-hover:mr-0 z-[5]"}),_(e.direct)&&r.jsx(X,{headline:"Directly Modified",type:h.Direct,changes:e.direct,className:"-mr-2 group-hover:mr-0 z-[4]"}),_(e.indirect)&&r.jsx(X,{headline:"Indirectly Modified",type:h.Indirect,changes:e.indirect,className:"-mr-2 group-hover:mr-0 z-[3]"}),_(e.metadata)&&r.jsx(X,{headline:"Metadata",type:h.Metadata,changes:e.metadata,className:"-mr-2 group-hover:mr-0 z-[2]"}),_(e.removed)&&r.jsx(X,{headline:"Removed",type:h.Remove,changes:e.removed,className:"-mr-2 group-hover:mr-0 z-[1]"}),_(e.backfills)?r.jsx(X,{headline:"Backfills",type:h.Default,changes:e.backfills,className:"ml-4 group-hover:ml-2 z-[6]"}):r.jsx("div",{className:"ml-2 group-hover:ml-2 z-[6]"})]})}function Un({disabled:e=!1,className:t,showAddEnvironment:n=!0,size:a=ae.sm,onSelect:l}){const{addError:c}=We(),o=C(p=>p.environment),i=C(p=>p.environments),d=C(p=>p.setEnvironment),x=C(p=>p.removeLocalEnvironment),b=$t(ie.Button);function g(p){At(p.name).then(()=>{x(p)}).catch(m=>{c(Ot.Environments,m)})}return r.jsx(ie,{as:"div",className:"relative",children:({close:p})=>r.jsxs(r.Fragment,{children:[r.jsxs(b,{variant:ne.Info,size:a,disabled:e,className:w(t,"bg-neutral-10"),children:[r.jsx("span",{className:w("block overflow-hidden truncate",(o.isLocal||e)&&"text-neutral-500",o.isRemote&&"text-primary-600 dark:text-primary-300"),children:o.name}),r.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-2",children:r.jsx(cn,{className:w("w-4",e?"text-neutral-400 dark:text-neutral-200":"text-neutral-800 dark:text-neutral-200"),"aria-hidden":"true"})})]}),r.jsx(Ve,{as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"absolute top-10 right-1 min-w-[20rem] max-w-[25vw] overflow-hidden shadow-xl bg-theme border-2 border-neutral-100 dark:border-neutral-800 rounded-md flex flex-col z-10",children:r.jsxs(ie.Items,{className:"overflow-auto max-h-80 pb-2 hover:scrollbar scrollbar--vertical",children:[Array.from(i).map(m=>r.jsx(ie.Item,{disabled:m===o,children:({active:E})=>r.jsxs("div",{onClick:f=>{f.stopPropagation(),d(m),l==null||l()},className:w("flex justify-between items-center pl-2 pr-1 py-1 overflow-auto",m===o?"cursor-default":"cursor-pointer"),children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(sn,{className:w("w-4 h-4 mt-[6px]",m===o&&"opacity-100 text-primary-500",E&&"opacity-100 text-neutral-500",m!==o&&"opacity-0")}),r.jsxs("span",{className:"block",children:[r.jsxs("span",{className:"flex items-baseline",children:[r.jsx("span",{className:w("block truncate ml-2",m.isRemote&&"text-primary-500"),children:m.name}),r.jsxs("small",{className:"block ml-2",children:["(",m.type,")"]})]}),m.isProd&&r.jsx("span",{className:"flex ml-2",children:r.jsx("small",{className:"text-xs text-neutral-500",children:"Production Environment"})}),m.isDefault&&r.jsx("span",{className:"flex ml-2",children:r.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),r.jsxs("div",{className:"flex items-center",children:[m.isPinned&&r.jsx(Fn,{title:"Pinned",className:"w-4 text-primary-500 dark:text-primary-100 mx-1"}),ue(m.isPinned)&&m.isLocal&&m!==o&&r.jsx(je,{className:"!m-0 !px-1 bg-transparent hover:bg-transparent border-none",size:ae.xs,format:Dt.Ghost,variant:ne.Neutral,onClick:f=>{f.stopPropagation(),x(m)},children:r.jsx(En,{className:"w-4 text-neutral-500 dark:text-neutral-100"})}),ue(m.isPinned)&&m.isRemote&&m!==o&&r.jsx(je,{className:"!px-2 !my-0",size:ae.xs,variant:ne.Danger,onClick:f=>{f.stopPropagation(),g(m)},children:"Delete"})]})]})},m.name)),n&&r.jsxs(r.Fragment,{children:[r.jsx(se,{}),r.jsx(Kn,{onAdd:p,className:"mt-2 px-2"})]})]})})})]})})}function Kn({onAdd:e,className:t,label:n="Add",size:a=ae.sm}){const l=C(g=>g.getNextEnvironment),c=C(g=>g.isExistingEnvironment),o=C(g=>g.addLocalEnvironment),[i,d]=s.useState(""),[x,b]=s.useState(l().name);return r.jsxs("div",{className:w("flex w-full items-center",t),children:[r.jsx(Ae,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:a,children:({className:g})=>r.jsx(Ae.Textfield,{className:w(g,"w-full"),placeholder:"Environment",value:i,onInput:p=>{p.stopPropagation(),d(p.target.value)}})}),r.jsx(je,{className:"my-0 mx-0 font-bold",size:a,disabled:Ft(i)||c(i),onClick:g=>{g.stopPropagation(),o(i,x),d(""),b(l().name),e==null||e()},children:n})]})}function X({headline:e,type:t,changes:n,className:a}){const[l,c]=s.useState(!1);return r.jsx(Fe,{onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},className:"relative flex",children:()=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:w("transition-all flex min-w-[1rem] h-4 text-center mx-0.5 px-1 rounded-full text-[10px] font-black text-neutral-100 cursor-default border border-inherit",t===h.Add&&"bg-success-500 border-success-500",t===h.Remove&&"bg-danger-500 border-danger-500",t===h.Direct&&"bg-secondary-500 border-secondary-500",t===h.Indirect&&"bg-warning-500 border-warning-500",t===h.Metadata&&"bg-neutral-400 border-neutral-400",t===h.Default&&"bg-neutral-600 border-neutral-600",a),children:n.length}),r.jsx(Ve,{show:l,as:s.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:r.jsx(Fe.Panel,{className:"absolute top-6 right-0 z-10 transform flex p-2 bg-theme-lighter shadow-xl focus:ring-2 ring-opacity-5 rounded-lg ",children:r.jsx(K,{headline:e,type:t,className:"w-full h-full max-w-[50vw] max-h-[40vh] overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical",children:r.jsx(K.Default,{type:t,changes:n})})})})]})})}export{Kn as A,Tr as C,$ as E,Je as H,Rr as M,Zn as P,Un as S,Pe as a,h as b,K as c,Yn as d,er as e,nt as u};
