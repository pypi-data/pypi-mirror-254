(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{51471:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(90849),i=r(34896),o=r(88038),s=r.n(o),a=r(86677),c=(r(27378),r(90768)),u=r(51365),d=r(29549),l=r(60709),f=r(24246),p=function(){var e=(0,a.useRouter)();return(0,f.jsx)(i.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(i.xu,{children:[(0,f.jsxs)(i.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(i.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(d.zx,{size:"sm",variant:"outline",onClick:function(){e.push(l.fz)},children:"Configure"})]}),(0,f.jsxs)(i.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.children,r=e.title,n=e.mainProps,o=(0,c.hz)(),d=(0,a.useRouter)(),l="/privacy-requests"===d.pathname||"/datastore-connection"===d.pathname,g=!(o.flags.privacyRequestsConfiguration&&l),j=(0,u.JE)(void 0,{skip:g}).data,h=(0,u.PW)(void 0,{skip:g}).data,m=o.flags.privacyRequestsConfiguration&&(!j||!h)&&l;return(0,f.jsxs)(i.kC,{"data-testid":r,direction:"column",height:"calc(100vh - 48px)",children:[(0,f.jsxs)(s(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",r]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsxs)(i.kC,b(b({as:"main",direction:"column",py:6,px:10,flex:1,minWidth:0,overflow:"auto"},n),{},{children:[m?(0,f.jsx)(p,{}):null,t]}))]})}},24753:function(e,t,r){"use strict";r.d(t,{MA:function(){return d},Vo:function(){return f},t5:function(){return l}});var n=r(90849),i=r(34896),o=r(24246);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},u=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=function(e){var t=(0,o.jsx)(c,{children:e});return a(a({},d),{description:t})},f=function(e){var t=(0,o.jsx)(u,{children:e});return a(a({},d),{description:t,status:"error"})}},4821:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(34896),i=r(51471),o=r(41609),s=r(55732),a=r(97865),c=r(90849),u=r(34707),d=r.n(u),l=r(70409),f=r(29549),p=r(34090),g=r(27378),b=r(68301),j=r(43139),h=r(78624),m=r(24753),y=r(24246);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var x={description:"",fides_key:o.Av,name:""},O=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)},w=b.Ry().shape({description:b.Z_().required().label("Description"),fides_key:b.Z_().required().label("Organization Fides Key"),name:b.Z_().required().label("Name")}),P=function(e){var t=e.organization,r=e.onSuccess,i=(0,o.$f)(),c=(0,a.Z)(i,2),u=c[0],b=c[1],v=(0,g.useMemo)((function(){return t?O(t):x}),[t]),P=(0,l.pm)(),k=function(){var e=(0,s.Z)(d().mark((function e(t,n){var i,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={description:(a=t).description,fides_key:a.fides_key,name:a.name},o=function(e){if((0,h.D4)(e)){var o=(0,h.e$)(e.error,"An unexpected error occurred while editing the organization. Please try again.");P((0,m.Vo)(o))}else P((0,m.t5)("Organization configuration saved.")),n.resetForm({values:t}),r&&r(i)},e.next=4,u(i);case 4:s=e.sent,o(s);case 6:case"end":return e.stop()}var a}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=!t||b.isLoading;return(0,y.jsx)(p.J9,{initialValues:v,enableReinitialize:!0,onSubmit:k,validationSchema:w,children:function(e){var t=e.dirty,r=e.isValid;return(0,y.jsx)(p.l0,{"data-testid":"organization-form",children:(0,y.jsxs)(n.Kq,{spacing:4,children:[(0,y.jsx)(j.j0,{id:"fides_key",name:"fides_key",label:"Fides Key",disabled:!0,tooltip:"A unique key that identifies your organization. Not editable via UI.",variant:"stacked"}),(0,y.jsx)(j.j0,{id:"name",name:"name",label:"Name",disabled:z,tooltip:"User-friendly name for your organization, used in messaging to end-users and other public locations.",variant:"stacked"}),(0,y.jsx)(j.j0,{id:"description",name:"description",label:"Description",disabled:z,tooltip:"Short description of your organization, your services, etc.",variant:"stacked"}),(0,y.jsx)(n.xu,{textAlign:"right",children:(0,y.jsx)(f.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:z||!t||!r,isLoading:z,"data-testid":"save-btn",children:"Save"})})]})})}})},k=function(){var e=(0,o.GQ)(o.Av).data;return(0,y.jsx)(i.Z,{title:"Organization",children:(0,y.jsxs)(n.xu,{"data-testid":"organization-management",children:[(0,y.jsx)(n.X6,{marginBottom:4,fontSize:"2xl",children:"Organization Management"}),(0,y.jsxs)(n.xu,{maxWidth:"600px",children:[(0,y.jsx)(n.xv,{marginBottom:10,fontSize:"sm",children:"Please use this section to manage your organization\u2018s details, including key information that will be recorded in the RoPA (Record of Processing Activities)."}),(0,y.jsx)(n.xu,{background:"gray.50",padding:2,children:(0,y.jsx)(P,{organization:e})})]})]})})}},10279:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/organization",function(){return r(4821)}])}},function(e){e.O(0,[7751,6432,3453,8301,6557,9774,2888,179],(function(){return t=10279,e(e.s=t);var t}));var t=e.O();_N_E=t}]);