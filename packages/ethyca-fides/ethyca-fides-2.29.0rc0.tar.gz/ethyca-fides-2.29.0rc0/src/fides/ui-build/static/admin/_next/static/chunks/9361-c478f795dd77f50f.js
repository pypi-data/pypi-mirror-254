"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9361],{30794:function(e,t,n){n.d(t,{SD:function(){return g},Sn:function(){return u},Vp:function(){return c}});var r=n(13018),i=n(32393),o=n(14007),s=n(27378);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var a=["isDisabled","children"],c=(0,i.Gp)((function(e,t){var n=(0,i.jC)("Tag",e),r=(0,i.Lr)(e),o=l({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},n.container);return s.createElement(i.Fo,{value:n},s.createElement(i.m$.span,l({ref:t},r,{__css:o})))}));o.Ts&&(c.displayName="Tag");var u=(0,i.Gp)((function(e,t){var n=(0,i.yK)();return s.createElement(i.m$.span,l({ref:t,isTruncated:!0},e,{__css:n.label}))}));o.Ts&&(u.displayName="TagLabel");var d=(0,i.Gp)((function(e,t){return s.createElement(r.JO,l({ref:t,verticalAlign:"top",marginEnd:"0.5rem"},e))}));o.Ts&&(d.displayName="TagLeftIcon");var f=(0,i.Gp)((function(e,t){return s.createElement(r.JO,l({ref:t,verticalAlign:"top",marginStart:"0.5rem"},e))}));o.Ts&&(f.displayName="TagRightIcon");var p=function(e){return s.createElement(r.JO,l({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),s.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))};o.Ts&&(p.displayName="TagCloseIcon");var g=function(e){var t=e.isDisabled,n=e.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),o=l({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},(0,i.yK)().closeButton);return s.createElement(i.m$.button,l({"aria-label":"close"},r,{type:"button",disabled:t,__css:o}),n||s.createElement(p,null))};o.Ts&&(g.displayName="TagCloseButton")},51471:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(90849),i=n(34896),o=n(88038),s=n.n(o),l=n(86677),a=(n(27378),n(90768)),c=n(51365),u=n(29549),d=n(60709),f=n(24246),p=function(){var e=(0,l.useRouter)();return(0,f.jsx)(i.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(i.xu,{children:[(0,f.jsxs)(i.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(i.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(u.zx,{size:"sm",variant:"outline",onClick:function(){e.push(d.fz)},children:"Configure"})]}),(0,f.jsxs)(i.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.children,n=e.title,r=e.mainProps,o=(0,a.hz)(),u=(0,l.useRouter)(),d="/privacy-requests"===u.pathname||"/datastore-connection"===u.pathname,g=!(o.flags.privacyRequestsConfiguration&&d),m=(0,c.JE)(void 0,{skip:g}).data,b=(0,c.PW)(void 0,{skip:g}).data,j=o.flags.privacyRequestsConfiguration&&(!m||!b)&&d;return(0,f.jsxs)(i.kC,{"data-testid":n,direction:"column",height:"calc(100vh - 48px)",children:[(0,f.jsxs)(s(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsxs)(i.kC,h(h({as:"main",direction:"column",py:6,px:10,flex:1,minWidth:0,overflow:"auto"},r),{},{children:[j?(0,f.jsx)(p,{}):null,t]}))]})}},2458:function(e,t,n){var r=n(90849),i=n(60530),o=n(34896),s=n(29549),l=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,a=e.onCancel,u=e.title,d=e.message,f=e.cancelButtonText,p=e.cancelButtonThemingProps,g=e.continueButtonText,h=e.continueButtonThemingProps,m=e.isLoading,b=e.returnFocusOnClose,j=e.isCentered,x=e.testId,v=void 0===x?"confirmation-modal":x,y=e.icon;return(0,l.jsxs)(i.u_,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===b||void 0===b||b,isCentered:j,children:[(0,l.jsx)(i.ZA,{}),(0,l.jsxs)(i.hz,{textAlign:"center",p:6,"data-testid":v,children:[y?(0,l.jsx)(o.M5,{mb:2,children:y}):null,u?(0,l.jsx)(i.xB,{fontWeight:"medium",pb:0,children:u}):null,d?(0,l.jsx)(i.fe,{children:d}):null,(0,l.jsx)(i.mz,{children:(0,l.jsxs)(o.MI,{columns:2,width:"100%",children:[(0,l.jsx)(s.zx,c(c({variant:"outline",mr:3,onClick:function(){a&&a(),n()},"data-testid":"cancel-btn",isDisabled:m},p),{},{children:f||"Cancel"})),(0,l.jsx)(s.zx,c(c({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:m},h),{},{children:g||"Continue"}))]})})]})]})}},56069:function(e,t,n){var r=n(90849),i=n(90089),o=n(34896),s=n(29549),l=n(73452),a=n(79894),c=n.n(a),u=n(24246),d=["backPath"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.backPath,n=(0,i.Z)(e,d);return(0,u.jsxs)(o.kC,p(p({alignItems:"center",mt:-4,mb:3},n),{},{children:[(0,u.jsx)(c(),{href:t,passHref:!0,children:(0,u.jsx)(s.hU,{"aria-label":"Back",icon:(0,u.jsx)(l.Rp,{}),mr:2,size:"xs",variant:"outline"})}),(0,u.jsx)(c(),{href:t,passHref:!0,children:(0,u.jsx)(o.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},48778:function(e,t,n){n.d(t,{$:function(){return M}});var r=n(55732),i=n(90849),o=n(97865),s=n(34707),l=n.n(s),a=n(34896),c=n(9992),u=n(70409),d=n(21084),f=n(83125),p=n(29549),g=n(30794),h=n(92222),m=n(59003),b=n(90768),j=n(78624),x=n(25803),v=n(24753),y=n(86677),O=n(27378),C=n(6848),w=n(2458),P=n(60709),S=n(23571),k=n(44047),z=n(77751),R=n(60530),D=n(24246);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.onChange,n=e.displayText,r=e.isChecked,i=e.value;return(0,D.jsx)(z.XZ,{id:"checkbox-".concat(i),value:i,height:"20px",mb:3,isChecked:r,onChange:t,colorScheme:"complimentary",mr:5,children:(0,D.jsx)(a.xv,{fontSize:"sm",lineHeight:5,height:"20px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:n})},i)},I={GVL:!1,AC:!1},T=function(e){var t=e.isOpen,n=e.onClose,r=e.tableInstance,i=(0,O.useState)(I),o=i[0],s=i[1];(0,O.useMemo)((function(){var e={id:"vendor_id",value:[]};o.GVL&&e.value.push("gvl"),o.AC&&e.value.push("gacp"),r.setColumnFilters([e])}),[o,r]);return(0,D.jsxs)(R.u_,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,D.jsx)(R.ZA,{}),(0,D.jsxs)(R.hz,{children:[(0,D.jsx)(R.xB,{children:"Filters"}),(0,D.jsx)(R.ol,{}),(0,D.jsx)(a.iz,{}),(0,D.jsxs)(R.fe,{maxH:"85vh",px:6,py:4,overflowX:"auto",children:[(0,D.jsx)(a.xv,{fontSize:"md",fontWeight:"bold",mb:2,children:"Sources"}),(0,D.jsx)(_,{onChange:function(){s((function(e){return L(L({},e),{},{GVL:!e.GVL})}))},displayText:j.iC.gvl.fullName,isChecked:o.GVL,value:"gvl"}),(0,D.jsx)(_,{onChange:function(){s((function(e){return L(L({},e),{},{AC:!e.AC})}))},displayText:j.iC.gacp.fullName,isChecked:o.AC,value:"gacp"})]}),(0,D.jsx)(R.mz,{children:(0,D.jsxs)(a.xu,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,D.jsx)(p.zx,{variant:"outline",size:"sm",mr:3,onClick:function(){r.setColumnFilters([]),s(I)},flexGrow:1,children:"Reset Filters"}),(0,D.jsx)(p.zx,{"data-testid":"filter-done-btn",colorScheme:"primary",size:"sm",onClick:n,flexGrow:1,children:"Done"})]})})]})]})};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t,n=e.value,r=(0,j.cj)(n),i=null!==(t=j.iC[r])&&void 0!==t?t:{label:"",fullName:""};return(0,D.jsx)(a.kC,{alignItems:"center",justifyContent:"center",height:"100%",mr:"2",children:(0,D.jsx)(c.u,{label:i.fullName,placement:"top",children:(0,D.jsx)(a.Ct,{children:i.label})})})},Z=(0,h.Cl)(),G=function(){return(0,D.jsxs)(a.gC,{mt:6,p:10,spacing:4,boxShadow:"md",borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",children:[(0,D.jsxs)(a.gC,{children:[(0,D.jsx)(a.xv,{fontSize:"md",fontWeight:"600",children:"No results found."}),(0,D.jsx)(a.xv,{fontSize:"sm",children:'Can\'t find the vendor you are looking for? Add custom systems or unlisted\n      vendors by selecting the "Add custom vendor" button below.'})]}),(0,D.jsx)(S.Z,{buttonLabel:"Add custom vendor"})]})},M=function(e){var t=e.redirectRoute,n="Vendor",i=(0,u.pm)(),s=(0,b.hz)(),z=s.dictionaryService,R=s.tcf,E=(0,k.x8)().isLoading,L=(0,y.useRouter)(),_=(0,k.iN)(void 0,{skip:!z}).isLoading,I=(0,k.Qk)(),A=(0,o.Z)(I,2),M=A[0],V=A[1],W=V.isLoading,B=V.isSuccess,H=(0,C.C)(k.gG),q=(0,O.useState)(),$=q[0],J=q[1],K=(0,d.qY)(),Y=K.isOpen,U=K.onOpen,X=K.onClose,Q=(0,d.qY)(),ee=Q.isOpen,te=Q.onClose,ne=Q.onOpen,re=(0,O.useState)(!1),ie=re[0],oe=re[1],se=H.every((function(e){return e.linked_system})),le=(0,O.useMemo)((function(){return[Z.display({id:"select",header:function(e){var t=e.table;return(0,D.jsx)(x.k,{dataTestId:"select-page-checkbox",isChecked:t.getIsAllPageRowsSelected(),isDisabled:se||t.getPaginationRowModel().rows.filter((function(e){return e.original.linked_system})).length===t.getState().pagination.pageSize,isIndeterminate:t.getPaginationRowModel().rows.filter((function(e){return e.getCanSelect()})).some((function(e){return!e.getIsSelected()})),onChange:function(){t.setRowSelection((function(e){var n=F({},e);return t.getRowModel().rows.forEach((function(e){e.getCanSelect()&&(n[e.id]=!n[e.id])})),n})),oe((function(e){return!e}))}})},cell:function(e){var t=e.row;return(0,D.jsx)(x.k,{isChecked:t.getIsSelected(),isDisabled:!t.getCanSelect(),isIndeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})}}),Z.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,D.jsx)(x.G3,{value:e.getValue()})},header:function(e){return(0,D.jsx)(x.Rr,F({value:n},e))}}),Z.accessor((function(e){return e.vendor_id}),{id:"vendor_id",cell:function(e){return(0,D.jsx)(N,{value:e.getValue()})},header:function(e){return(0,D.jsx)(x.Rr,F({value:"Source"},e))},enableColumnFilter:R,filterFn:"arrIncludesSome"})]}),[se,n,R]),ae=(0,m.b7)({columns:le,data:H,getCoreRowModel:(0,h.sC)(),getSortedRowModel:(0,h.tj)(),getFilteredRowModel:(0,h.vL)(),getPaginationRowModel:(0,h.G_)(),onGlobalFilterChange:J,enableRowSelection:function(e){return!e.original.linked_system},enableSorting:!0,enableGlobalFilter:!0,state:{globalFilter:$,columnVisibility:{vendor_id:R}},initialState:{pagination:{pageSize:x.W3[0]},columnSizing:{select:0,vendor_id:0}},enableColumnResizing:!0,columnResizeMode:"onChange"});(0,O.useEffect)((function(){var e={};H.forEach((function(t,n){t.linked_system&&(e[n]=!0)})),Object.keys(e).length&&ae.setRowSelection(e)}),[H,ae]);var ce=(0,x.bX)(ae),ue=ce.totalRows,de=ce.onPreviousPageClick,fe=ce.isPreviousPageDisabled,pe=ce.onNextPageClick,ge=ce.isNextPageDisabled,he=ce.setPageSize,me=ce.startRange,be=ce.endRange,je=function(){var e=(0,r.Z)(l().mark((function e(){var r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=ae.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).map((function(e){return e.original.vendor_id}))).length>0)){e.next=7;break}return e.next=4,M(r);case 4:o=e.sent,L.push(t),(0,j.D4)(o)?i((0,v.Vo)((0,j.e$)(o.error))):i((0,v.t5)("Successfully added ".concat(r.length," ").concat(n.toLocaleLowerCase())));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=ae.getSelectedRowModel().rows.some((function(e){return!e.original.linked_system})),ve=(0,O.useMemo)((function(){return!(!xe||se)}),[xe,se]);if(!z&&!E)return L.push(P.gp),null;if(W||B)return(0,D.jsx)(a.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,D.jsx)(f.$,{})});if(_)return(0,D.jsx)(x.I4,{rowHeight:36,numRows:15});var ye=se?"All ".concat(n.toLocaleLowerCase()," have already been added"):"Select a ".concat(n.toLocaleLowerCase()," "),Oe=ae.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length,Ce=ae.getState().columnFilters.length>0?ae.getState().columnFilters.filter((function(e){return"vendor_id"===e.id}))[0].value.length:0;return(0,D.jsxs)(a.kC,{flex:1,direction:"column",overflow:"auto","data-testid":"add-multiple-systems-tbl",children:[(0,D.jsx)(w.Z,{isOpen:ee,isCentered:!0,onCancel:te,onClose:te,onConfirm:je,title:"Confirmation",message:"You are about to add ".concat(Oe.toLocaleString("en")," ").concat(n.toLocaleLowerCase()).concat(Oe>1?"s":"")}),(0,D.jsx)(T,{isOpen:Y,onClose:X,tableInstance:ae}),(0,D.jsxs)(x.Q$,{children:[(0,D.jsxs)(a.kC,{alignItems:"center",grow:1,children:[(0,D.jsx)(a.xu,{maxW:"420px",width:"100%",children:(0,D.jsx)(x.HO,{globalFilter:$,setGlobalFilter:J,placeholder:"Search"})}),Oe>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(a.xv,{fontWeight:"700",fontSize:"sm",lineHeight:"2",ml:4,children:[Oe.toLocaleString("en")," selected"]}),(0,D.jsx)(c.u,{label:ye,shouldWrapChildren:!0,placement:"top",isDisabled:ve,children:(0,D.jsx)(p.zx,{onClick:ne,"data-testid":"add-multiple-systems-btn",size:"xs",variant:"outline",disabled:!xe,ml:4,children:"Add"})})]}):null]}),(0,D.jsxs)(a.Ug,{spacing:4,alignItems:"center",children:[(0,D.jsx)(S.Z,{buttonLabel:"Add custom vendor",buttonVariant:"outline"}),R?(0,D.jsx)("span",{children:(0,D.jsxs)(p.zx,{onClick:U,"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",children:["Filter"," ",Ce>0?(0,D.jsxs)(g.Vp,{borderRadius:"full",size:"sm",ml:2,children:[" ",Ce," "]}):null]})}):null]})]}),(0,D.jsx)(x.ZK,{tableInstance:ae,rowActionBar:(0,D.jsx)(x.AA,{tableInstance:ae,selectedRows:Oe,isOpen:ie}),renderRowTooltipLabel:function(e){if(!e.getCanSelect())return"This vendor has already been added. You can view the properties of this vendor by going to View Systems."}}),(0,D.jsx)(x.s8,{pageSizes:x.W3,totalRows:ue,onPreviousPageClick:de,isPreviousPageDisabled:fe,onNextPageClick:pe,isNextPageDisabled:ge,setPageSize:he,startRange:me,endRange:be}),0===ue?(0,D.jsx)(G,{}):null]})}}}]);