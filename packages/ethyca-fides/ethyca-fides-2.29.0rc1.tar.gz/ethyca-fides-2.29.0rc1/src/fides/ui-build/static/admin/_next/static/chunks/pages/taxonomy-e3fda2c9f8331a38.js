(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4202],{51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(90849),i=n(34896),o=n(88038),s=n.n(o),a=n(86677),c=(n(27378),n(90768)),l=n(51365),u=n(29549),d=n(60709),f=n(24246),p=function(){var e=(0,a.useRouter)();return(0,f.jsx)(i.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(i.xu,{children:[(0,f.jsxs)(i.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(i.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(u.zx,{size:"sm",variant:"outline",onClick:function(){e.push(d.fz)},children:"Configure"})]}),(0,f.jsxs)(i.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.children,n=e.title,r=e.mainProps,o=(0,c.hz)(),u=(0,a.useRouter)(),d="/privacy-requests"===u.pathname||"/datastore-connection"===u.pathname,y=!(o.flags.privacyRequestsConfiguration&&d),x=(0,l.JE)(void 0,{skip:y}).data,h=(0,l.PW)(void 0,{skip:y}).data,b=o.flags.privacyRequestsConfiguration&&(!x||!h)&&d;return(0,f.jsxs)(i.kC,{"data-testid":n,direction:"column",height:"calc(100vh - 48px)",children:[(0,f.jsxs)(s(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsxs)(i.kC,v(v({as:"main",direction:"column",py:6,px:10,flex:1,minWidth:0,overflow:"auto"},r),{},{children:[b?(0,f.jsx)(p,{}):null,t]}))]})}},2458:function(e,t,n){"use strict";var r=n(90849),i=n(60530),o=n(34896),s=n(29549),a=n(24246);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,c=e.onCancel,u=e.title,d=e.message,f=e.cancelButtonText,p=e.cancelButtonThemingProps,y=e.continueButtonText,v=e.continueButtonThemingProps,x=e.isLoading,h=e.returnFocusOnClose,b=e.isCentered,m=e.testId,j=void 0===m?"confirmation-modal":m,g=e.icon;return(0,a.jsxs)(i.u_,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===h||void 0===h||h,isCentered:b,children:[(0,a.jsx)(i.ZA,{}),(0,a.jsxs)(i.hz,{textAlign:"center",p:6,"data-testid":j,children:[g?(0,a.jsx)(o.M5,{mb:2,children:g}):null,u?(0,a.jsx)(i.xB,{fontWeight:"medium",pb:0,children:u}):null,d?(0,a.jsx)(i.fe,{children:d}):null,(0,a.jsx)(i.mz,{children:(0,a.jsxs)(o.MI,{columns:2,width:"100%",children:[(0,a.jsx)(s.zx,l(l({variant:"outline",mr:3,onClick:function(){c&&c(),n()},"data-testid":"cancel-btn",isDisabled:x},p),{},{children:f||"Cancel"})),(0,a.jsx)(s.zx,l(l({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:x},v),{},{children:y||"Continue"}))]})})]})]})}},24753:function(e,t,n){"use strict";n.d(t,{MA:function(){return u},Vo:function(){return f},t5:function(){return d}});var r=n(90849),i=n(34896),o=n(24246);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},l=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(c,{children:e});return a(a({},u),{description:t})},f=function(e){var t=(0,o.jsx)(l,{children:e});return a(a({},u),{description:t,status:"error"})}},2424:function(e,t,n){"use strict";var r=n(90849),i=n(90089),o=n(30794),s=n(24246),a=["name","onClose"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,a),c=l({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,s.jsxs)(o.Vp,l(l({display:"flex",justifyContent:"space-between"},c),{},{children:[(0,s.jsx)(o.Sn,{children:t}),(0,s.jsx)(o.SD,{onClick:n,color:"white"})]})):(0,s.jsx)(o.Vp,l(l({},c),{},{children:t}))}},64929:function(e,t,n){"use strict";n.d(t,{C:function(){return r},P:function(){return i}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i,o=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:e(t,o),is_default:null!==(r=n.is_default)&&void 0!==r&&r,active:null!==(i=n.active)&&void 0!==i&&i}}))},i=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},53136:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var r=n(34896),i=n(51471),o=n(29549),s=n(6848),a=n(44204),c=n(55732),l=n(97865),u=n(90849),d=n(34707),f=n.n(d),p=n(27378),y=n(14275),v=n(1261),x=n(20324),h=[{label:"Yes",value:"true"},{label:"No",value:"false"}],b=n(43139),m=n(78624),j=n(47134),g=n(75846),O=n(64929),_=n(10612),k=n(24246);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e,t){var n,r,i,o,s,a,c,l;return{fides_key:null!==(n=e.fides_key)&&void 0!==n?n:"",name:null!==(r=e.name)&&void 0!==r?r:"",description:null!==(i=e.description)&&void 0!==i?i:"",parent_key:null!==(o=e.parent_key)&&void 0!==o?o:"",is_default:null!==(s=e.is_default)&&void 0!==s&&s,version_added:null!==(a=e.version_added)&&void 0!==a?a:void 0,version_deprecated:null!==(c=e.version_deprecated)&&void 0!==c?c:void 0,replaced_by:null!==(l=e.replaced_by)&&void 0!==l?l:void 0,customFieldValues:t}},P=function(e,t){var n=""===e.fides_key,r=C({},t);if(n){var i=(0,O.P)(t.fides_key);r.parent_key=""===i?void 0:i}else r.parent_key=""===e.parent_key?void 0:e.parent_key,r.fides_key=e.fides_key;return delete r.customFieldValues,r},D=n(30794),T=n(21084),S=n(70409),F=n(83125),Z=n(62332);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.nodes,n=e.focusedKey,i=e.renderHover,o=e.renderTag,s=(0,p.useState)(void 0),a=s[0],c=s[1],l=function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(null===a||void 0===a?void 0:a.value)===t.value,u=n===t.value,d={borderBottom:"1px solid",borderColor:"gray.200",display:"flex",justifyContent:"space-between",alignItems:"center",pl:3*s,_hover:{bg:"gray.50"},onMouseEnter:function(){c(t)},onMouseLeave:function(){c(void 0)}},f=l&&i?i(t):null;return 0===t.children.length?(0,k.jsxs)(r.xu,V(V({py:2},d),{},{children:[(0,k.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,k.jsx)(r.xv,{"data-testid":"item-".concat(t.label),pl:5,color:u?"complimentary.500":void 0,mr:2,children:t.label}),o?o(t):null]}),f]})):(0,k.jsxs)(Z.Qd,{p:0,border:"none",children:[(0,k.jsxs)(r.xu,V(V({},d),{},{children:[(0,k.jsxs)(Z.KF,{_expanded:{color:"complimentary.500"},_hover:{bg:"gray.50"},pl:0,color:u?"complimentary.500":void 0,children:[(0,k.jsx)(Z.XE,{}),(0,k.jsx)(r.xv,{"data-testid":"accordion-item-".concat(t.label),mr:2,children:t.label}),o?o(t):null]}),f]})),(0,k.jsx)(Z.Hk,{p:0,children:t.children.map((function(t){return(0,k.jsx)(p.Fragment,{children:e(t,s+1)},t.value)}))})]})};return(0,k.jsx)(r.xu,{boxSizing:"border-box",children:(0,k.jsx)(Z.UQ,{allowMultiple:!0,children:t.map((function(e){return(0,k.jsx)(r.xu,{children:l(e)},e.value)}))})})},K=n(2458),M=n(24753),L=n(33167),I=n(73452),U=n(62709),q=function(e){var t=e.node,n=e.onEdit,i=e.onDelete,s=e.onDisable,a=!t.is_default;return(0,k.jsxs)(r.Ug,{mr:4,children:[(0,k.jsxs)(o.hE,{size:"xs",variant:"outline",colorScheme:"gray","data-testid":"action-btns",children:[(0,k.jsx)(o.hU,{"aria-label":"Edit",icon:(0,k.jsx)(I.dY,{boxSize:3}),onClick:function(){return n(t)},"data-testid":"edit-btn"}),a?(0,k.jsx)(o.hU,{"aria-label":"Delete",icon:(0,k.jsx)(I.pJ,{boxSize:3}),onClick:function(){return i(t)},"data-testid":"delete-btn"}):null]}),(0,k.jsx)(U.r,{size:"sm",colorScheme:"purple",defaultChecked:t.active,onChange:function(){return s(t)}}),(0,k.jsx)(r.xv,{children:"Enabled"})]})},R=n(92975),B=n(32751),W=n(34090),X=n(68301),G=n(2424),N=function(e){var t=e.labels,n=e.onCancel,i=e.onSubmit,s=e.renderExtraFormFields,a=e.initialValues,l=(0,S.pm)(),u=(0,p.useState)(null),d=u[0],y=u[1],v=X.Ry().shape({fides_key:X.Z_().required().label(t.fides_key)}),x=""===a.fides_key,h=function(e){var t=(0,m.nU)(e);y(t.message)},j=function(){var e=(0,c.Z)(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(null),e.next=3,i(a,t);case 3:r=e.sent,(0,m.D4)(r)?h(r.error):(l((0,M.t5)("Taxonomy successfully ".concat(x?"created":"updated"))),x&&n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsxs)(r.Kq,{pl:6,spacing:6,"data-testid":"".concat(x?"create":"edit","-taxonomy-form"),children:[(0,k.jsxs)(r.X6,{size:"md",textTransform:"capitalize","data-testid":"form-heading",children:[x?"Create":"Modify"," ",t.fides_key]}),(0,k.jsx)(W.J9,{initialValues:a,onSubmit:j,validationSchema:v,enableReinitialize:!0,children:function(e){var i=e.dirty,c=e.values;return(0,k.jsxs)(W.l0,{children:[(0,k.jsxs)(r.Kq,{mb:6,children:[x?(0,k.jsx)(b.j0,{name:"fides_key",label:t.fides_key}):(0,k.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,k.jsx)(R.lX,{children:t.fides_key}),(0,k.jsx)(r.xu,{children:(0,k.jsx)(G.Z,{name:a.fides_key})})]}),(0,k.jsx)(b.j0,{name:"name",label:t.name}),(0,k.jsx)(b.Ks,{name:"description",label:t.description}),t.parent_key&&(x?(0,k.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,k.jsx)(R.lX,{children:t.parent_key}),(0,k.jsx)(r.xu,{mr:"2",children:(0,k.jsx)(B.II,{"data-testid":"input-parent_key",disabled:!0,value:(0,O.P)(c.fides_key),size:"sm"})})]}):(0,k.jsx)(b.j0,{name:"parent_key",label:t.parent_key,disabled:!x})),s?s(c):null]}),d?(0,k.jsx)(r.xv,{color:"red",mb:2,"data-testid":"taxonomy-form-error",children:d}):null,(0,k.jsxs)(o.hE,{size:"sm",children:[(0,k.jsx)(o.zx,{"data-testid":"cancel-btn",variant:"outline",onClick:n,children:"Cancel"}),(0,k.jsx)(o.zx,{"data-testid":"submit-btn",variant:"primary",type:"submit",disabled:!x&&!i,children:x?"Create entity":"Update entity"})]})]})}})]})},Y=function(e){var t=e.node;return t.is_default?null:(0,k.jsx)(D.Vp,{backgroundColor:"purple.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(t.label),children:"CUSTOM"})},J=function(e){var t=e.node;return t.active?null:(0,k.jsx)(D.Vp,{backgroundColor:"gray.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(t.label),children:"DISABLED"})},H={fides_key:"",parent_key:"",name:"",description:""},Q=function(e){var t=e.useTaxonomy,n=(0,s.T)(),i=t(),o=i.isLoading,a=i.data,l=i.labels,u=i.entityToEdit,d=i.setEntityToEdit,y=i.handleCreate,v=i.handleEdit,x=i.handleDelete,h=i.handleToggleEnabled,b=i.renderExtraFormFields,j=i.transformEntityToInitialValues,g=(0,p.useMemo)((function(){return a?(0,O.C)(a):null}),[a]),w=(0,p.useState)(null),C=w[0],E=w[1],P=(0,p.useState)(null),D=P[0],Z=P[1],z=(0,s.C)(_.yK);(0,p.useEffect)((function(){z&&d(null)}),[z,d]);var V=function(){n((0,_.Gz)(!1))},I=(0,T.qY)(),U=I.isOpen,R=I.onOpen,B=I.onClose,W=(0,T.qY)(),X=W.isOpen,G=W.onOpen,Q=W.onClose,$=(0,S.pm)();if(o)return(0,k.jsx)(r.M5,{children:(0,k.jsx)(F.$,{})});if(!g)return(0,k.jsx)(r.xv,{children:"Could not find data."});var ee=l.fides_key.toLocaleLowerCase(),te=function(e){var t;z&&V();var n=null!==(t=null===a||void 0===a?void 0:a.find((function(t){return t.fides_key===e.value})))&&void 0!==t?t:null;d(n)},ne=function(e){E(e),R()},re=function(e){Z(e),G()},ie=function(){var e=(0,c.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=7;break}return e.next=3,x(C.value);case 3:t=e.sent,(0,L.isErrorResult)(t)?$((0,M.Vo)((0,m.e$)(t.error))):$((0,M.t5)("Successfully deleted ".concat(ee))),B(),d(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,c.Z)(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null!==(t=D&&(null===a||void 0===a?void 0:a.find((function(e){return e.fides_key===D.value}))))&&void 0!==t?t:null)){e.next=9;break}return r=null===D||void 0===D?void 0:D.active,e.next=5,h(n,!r);case 5:i=e.sent,(0,L.isErrorResult)(i)?$((0,M.Vo)((0,m.e$)(i.error))):$((0,M.t5)("Successfully ".concat(r?"disabled":"enabled"," ").concat(ee))),Q(),d(null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(r.MI,{columns:2,spacing:2,children:[(0,k.jsx)(A,{nodes:g,focusedKey:null===u||void 0===u?void 0:u.fides_key,renderHover:function(e){return(0,k.jsx)(q,{onDelete:ne,onEdit:te,onDisable:re,node:e})},renderTag:function(e){return(0,k.jsxs)(r.Ug,{spacing:2,children:[(0,k.jsx)(Y,{node:e}),(0,k.jsx)(J,{node:e})]})}}),u?(0,k.jsx)(N,{labels:l,onCancel:function(){return d(null)},onSubmit:v,renderExtraFormFields:b,initialValues:j(u)}):null,z?(0,k.jsx)(N,{labels:l,onCancel:V,onSubmit:y,renderExtraFormFields:b,initialValues:j(H)}):null]}),C?(0,k.jsx)(K.Z,{isOpen:U,onClose:B,onConfirm:ie,title:"Delete ".concat(ee),message:(0,k.jsxs)(r.Kq,{children:[(0,k.jsxs)(r.xv,{children:["You are about to permanently delete the ",ee," ",(0,k.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:C.value})," ","from your taxonomy. Are you sure you would like to continue?"]}),C.children.length?(0,k.jsxs)(r.xv,{color:"red","data-testid":"delete-children-warning",children:["Deleting"," ",(0,k.jsx)(r.xv,{as:"span",fontWeight:"bold",children:C.value})," ","will also delete all of its children."]}):null]})}):null,D?(0,k.jsx)(K.Z,{isOpen:X,onClose:Q,onConfirm:oe,title:"".concat(D.active?"Disable":"Enable"," ").concat(ee),message:(0,k.jsx)(r.Kq,{children:(0,k.jsxs)(r.xv,{children:["This will ",D.active?"disable":"enable"," ","the ",ee," ",(0,k.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:D.value})," ","from your taxonomy."]})})}):null]})},$=[{label:"Data Categories",content:(0,k.jsx)(Q,{useTaxonomy:function(){var e=x.P6.DATA_CATEGORY,t=(0,p.useState)(null),n=t[0],r=t[1],i=(0,_.MO)(),o=i.data,s=i.isLoading,a=(0,_.Ti)(),u=(0,l.Z)(a,1)[0],d=(0,_.jU)(),h=(0,l.Z)(d,1)[0],b=(0,_.K9)(),m=(0,l.Z)(b,1)[0],j=(0,v.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),g=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t,n),e.next=3,u(r);case 3:if(i=e.sent,!j.isEnabled){e.next=7;break}return e.next=7,j.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t,n),i=h(r),!j.isEnabled){e.next=5;break}return e.next=5,j.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=m,D=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C(C({},t),{},{active:n}),i=h(r),e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:o,isLoading:s,labels:{fides_key:"Data category",name:"Category name",description:"Category description",parent_key:"Parent category"},resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:g,handleEdit:O,handleDelete:w,handleToggleEnabled:D,renderExtraFormFields:function(t){return(0,k.jsx)(y.uc,{resourceFidesKey:t.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){return E(e,j.customFieldValues)}}}})},{label:"Data Uses",content:(0,k.jsx)(Q,{useTaxonomy:function(){var e=x.P6.DATA_USE,t=(0,p.useState)(null),n=t[0],r=t[1],i=(0,g.fd)(),o=i.data,s=i.isLoading,a=(0,g.Ql)(),u=(0,l.Z)(a,1)[0],d=(0,g.LG)(),h=(0,l.Z)(d,1)[0],b=(0,g.gu)(),m=(0,l.Z)(b,1)[0],j=function(e){return C({},e)},O=(0,v.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),_=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j(P(t,n)),e.next=3,u(r);case 3:if(i=e.sent,!O.isEnabled){e.next=7;break}return e.next=7,O.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j(P(t,n)),i=h(r),!O.isEnabled){e.next=5;break}return e.next=5,O.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=m,T=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=C(C({},t),{},{active:n}),i=h(r),!O.isEnabled){e.next=5;break}return e.next=5,O.upsertCustomFields(r);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:o,isLoading:s,labels:{fides_key:"Data use",name:"Data use name",description:"Data use description",parent_key:"Parent data use"},resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:_,handleEdit:w,handleDelete:D,handleToggleEnabled:T,renderExtraFormFields:function(t){return(0,k.jsx)(y.uc,{resourceFidesKey:t.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){return C({},E(e,O.customFieldValues))}}}})},{label:"Data Subjects",content:(0,k.jsx)(Q,{useTaxonomy:function(){var e=x.P6.DATA_SUBJECT,t=(0,p.useState)(null),n=t[0],r=t[1],i=(0,j.te)(),o=i.data,s=i.isLoading,a={fides_key:"Data subject",name:"Data subject name",description:"Data subject description",rights:"Rights",strategy:"Strategy",automatic_decisions:"Automatic decisions or profiling"},u=(0,j.wG)(),d=(0,l.Z)(u,1)[0],g=(0,j.h8)(),O=(0,l.Z)(g,1)[0],_=(0,j.Kv)(),w=(0,l.Z)(_,1)[0],D=function(e){var t,n=C(C({},e),{},{rights:e.rights.length?{values:e.rights,strategy:e.strategy}:void 0,automatic_decisions_or_profiling:!("true"!==(null===(t=e.automated_decisions_or_profiling)||void 0===t?void 0:t.toString()))});return delete n.strategy,n},T=(0,v.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),S=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(P(t,n)),e.next=3,d(r);case 3:if(i=e.sent,!T.isEnabled){e.next=7;break}return e.next=7,T.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(P(t,n)),i=O(r),!T.isEnabled){e.next=5;break}return e.next=5,T.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=w,z=function(){var e=(0,c.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=C(C({},t),{},{active:n}),i=O(r),!T.isEnabled){e.next=5;break}return e.next=5,T.upsertCustomFields(r);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:o,isLoading:s,labels:a,resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:S,handleEdit:F,handleDelete:Z,handleToggleEnabled:z,renderExtraFormFields:function(t){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b.AP,{name:"rights",label:a.rights,options:(0,m.MM)(x.ts),isMulti:!0}),t.rights&&t.rights.length?(0,k.jsx)(b.AP,{name:"strategy",label:a.strategy,options:(0,m.MM)(x.jX)}):null,(0,k.jsx)(b.xt,{name:"automatic_decisions_or_profiling",label:a.automatic_decisions,options:h}),(0,k.jsx)(y.uc,{resourceFidesKey:t.fides_key,resourceType:e})]})},transformEntityToInitialValues:function(e){var t,n,r;return C(C({},E(e,T.customFieldValues)),{},{rights:null!==(t=null===(n=e.rights)||void 0===n?void 0:n.values)&&void 0!==t?t:[],strategy:null===(r=e.rights)||void 0===r?void 0:r.strategy,automatic_decisions_or_profiling:null==e.automated_decisions_or_profiling?"false":e.automated_decisions_or_profiling.toString()})}}}})}],ee=function(){var e=(0,s.T)();return(0,k.jsxs)(r.xu,{"data-testid":"taxonomy-tabs",display:"flex",children:[(0,k.jsx)(a.Z,{border:"full-width",data:$,flexGrow:1,isLazy:!0}),(0,k.jsx)(r.xu,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,k.jsx)(o.zx,{size:"sm",variant:"outline",onClick:function(){e((0,_.Gz)(!0))},"data-testid":"add-taxonomy-btn",children:"Add Taxonomy Entity +"})})]})},te=function(){return(0,k.jsxs)(i.Z,{title:"Datasets",children:[(0,k.jsx)(r.X6,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Taxonomy Management"}),(0,k.jsx)(ee,{})]})}},33167:function(e,t,n){"use strict";n.d(t,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=n(60041)},71180:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taxonomy",function(){return n(53136)}])}},function(e){e.O(0,[7751,6432,530,3452,3453,8301,6155,4196,6557,4275,9774,2888,179],(function(){return t=71180,e(e.s=t);var t}));var t=e.O();_N_E=t}]);