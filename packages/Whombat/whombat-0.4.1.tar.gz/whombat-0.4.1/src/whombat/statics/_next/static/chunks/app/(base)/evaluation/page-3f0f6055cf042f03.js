(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6310],{5087:function(e,t,n){Promise.resolve().then(n.bind(n,92170))},92170:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var a=n(57437),s=n(24033),l=n(2265),i=n(5925),r=n(7933),o=n(20841),c=n(30398),u=n(61396),d=n.n(u),x=n(83117),m=n(45987);function h(e){let{evaluationSet:t}=e;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-100",children:[(0,a.jsx)("span",{className:"inline-block w-6 h-6 align-middle text-stone-500",children:(0,a.jsx)(m.Fl,{})})," ",(0,a.jsx)(d(),{className:"hover:font-bold hover:text-emerald-500",href:{pathname:"/evaluation/detail/",query:{evaluation_set_uuid:t.uuid}},children:t.name}),(0,a.jsx)("span",{className:"ms-4 text-sm text-stone-500",children:t.task})]}),(0,a.jsx)("p",{className:"mt-1 w-full text-sm leading-5 text-stone-600 dark:text-stone-400",children:t.description})]}),(0,a.jsx)("div",{className:"flex flex-row py-4",children:(0,a.jsx)(x.h,{label:(0,a.jsx)(m.Qu,{className:"w-4 h-4 align-middle"}),value:t.created_on.toDateString()})})]})}var f=n(38110),v=n(23588),j=n(61865),p=n(94678),g=n(81698),b=n(90262);let N=[{id:"clip_classification",label:"Clip Classification",value:"clip_classification"},{id:"clip_multi_label_classification",label:"Clip Multi Label Classification",value:"clip_multi_label_classification"},{id:"sound_event_detection",label:"Sound Event Detection",value:"sound_event_detection"},{id:"sound_event_classification",label:"Sound Event Classification",value:"sound_event_classification"}];function k(e){var t,n,s;let{onCreate:i,onError:r}=e,{handleSubmit:o,control:c,formState:{errors:u},register:d}=(0,j.cI)({resolver:(0,f.F)(p.YK),mode:"onChange"}),{mutateAsync:x}=(0,v.D)({mutationFn:g.Z.evaluationSets.create,onError:r}),m=(0,l.useCallback)(async e=>{let t=x(e);null==i||i(t)},[x,i]);return(0,a.jsxs)("form",{className:"w-full",onSubmit:o(m),children:[(0,a.jsx)(b.BZ,{label:"Name",name:"name",help:"Please provide a name this evaluation set.",error:null===(t=u.name)||void 0===t?void 0:t.message,children:(0,a.jsx)(b.II,{...d("name")})}),(0,a.jsx)(b.BZ,{label:"Description",name:"description",help:"Describe the purpose of this evaluation set.",error:null===(n=u.description)||void 0===n?void 0:n.message,children:(0,a.jsx)(b.Kx,{rows:6,...d("description")})}),(0,a.jsx)(b.BZ,{name:"task",label:"Select which task to evaluate",help:"Select the name of the particular Machine Learning task that you want to evaluate this model run on.",error:null===(s=u.task)||void 0===s?void 0:s.message,children:(0,a.jsx)(j.Qr,{control:c,name:"task",render:e=>{let{field:t}=e;return(0,a.jsx)(b.Ph,{options:N,selected:N.find(e=>e.value===t.value)||N[0],onChange:e=>t.onChange(e)})}})}),(0,a.jsx)(b.k4,{children:"Create Evaluation Set"})]})}function w(e){var t;let{onCreate:n}=e,{register:s,handleSubmit:i,setError:r,control:o,formState:{errors:c}}=(0,j.cI)({mode:"onChange"}),{mutateAsync:u}=(0,v.D)({mutationFn:g.Z.evaluationSets.import,onError:e=>{var t;(null===(t=e.response)||void 0===t?void 0:t.status)===422&&e.response.data.detail.forEach(e=>{r(e.loc[1],{message:e.msg})})}}),d=(0,l.useCallback)(async e=>{let t=new FormData,a=e.evaluation_set[0],s=e.task;t.append("evaluation_set",a),t.append("task",s);let l=u(t);null==n||n(l)},[u,n]);return(0,a.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:i(d),children:[(0,a.jsx)(b.BZ,{name:"evaluation_set",label:"Select an Evaluation Set file to import",help:"The file must be in AOEF format",error:null===(t=c.file)||void 0===t?void 0:t.message,children:(0,a.jsx)(b.II,{type:"file",...s("evaluation_set"),required:!0})}),(0,a.jsx)(b.BZ,{name:"task",label:"Select which task to evaluate",help:"Select the name of the particular Machine Learning task that you want to evaluate this model run on.",children:(0,a.jsx)(j.Qr,{control:o,name:"task",render:e=>{let{field:t}=e;return(0,a.jsx)(b.Ph,{options:N,selected:N.find(e=>e.value===t.value)||N[0],onChange:e=>t.onChange(e)})}})}),(0,a.jsxs)(b.k4,{children:[(0,a.jsx)(m.rG,{className:"inline-block h-6 w-6 align-middle mr-2"}),"Import"]})]})}var _=n(58372),S=n(13615),C=n(61421),Z=n(35532),y=n(57022);let E={},F=[];function I(){return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(m.aN,{className:"w-8 h-8 text-stone-500"}),(0,a.jsx)("p",{children:"No evaluation sets found."}),(0,a.jsxs)("p",{children:["To create an evaluation set, click on the",(0,a.jsxs)("span",{className:"text-emerald-500",children:[(0,a.jsx)(m.dt,{className:"inline-block mr-1 ml-2 w-4 h-4"}),"Create"," "]})," ","button above."]})]})}function D(e){let{onCreate:t}=e,{items:n,pagination:s,filter:l,isLoading:i}=function(){let{filter:e=E,fixed:t=F,pageSize:n=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,Z.Z)({defaults:e,fixed:t}),{query:s,pagination:l,items:i,total:r}=(0,y.Z)({name:"evaluation_sets",queryFn:g.Z.evaluationSets.getMany,pageSize:n,filter:a.filter});return{...s,items:i,filter:a,pagination:l,total:r}}();return(0,a.jsxs)("div",{className:"flex flex-col p-8 space-y-2 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(_.Z,{label:"Search",placeholder:"Search evaluation set...",value:l.get("search"),onChange:e=>l.set("search",e),onSubmit:()=>l.submit(),icon:(0,a.jsx)(m.Fl,{})})}),(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(o.Z,{mode:"text",title:"Import an Evaluation Set",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.rG,{className:"inline-block w-4 h-4 align-middle"})," ","Import"]}),children:()=>(0,a.jsx)(w,{onCreate:t})})}),(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(o.Z,{mode:"text",title:"Create Evaluation Set",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.dt,{className:"inline-block w-4 h-4 align-middle"})," Create"]}),children:()=>(0,a.jsx)(k,{onCreate:t})})})]}),i?(0,a.jsx)(r.Z,{}):(0,a.jsxs)(a.Fragment,{children:[0===n.length&&(0,a.jsx)(I,{}),(0,a.jsx)(C.Z,{items:n.map(e=>(0,a.jsx)(h,{evaluationSet:e},e.uuid))}),n.length>0&&(0,a.jsx)(S.Z,{...s})]})]})}var B=n(37275);function H(){let e=(0,s.useRouter)(),t=(0,l.useCallback)(t=>{i.ZP.promise(t,{loading:"Creating evaluation set... This can take a while when importing a large file.",success:"Evaluation set created!",error:"Failed to create evaluation set."}),t.then(t=>e.push("/evaluation/detail/?evaluation_set_uuid=".concat(t.uuid)))},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.Z,{text:"Evaluation Sets"}),(0,a.jsx)(D,{onCreate:t})]})}},7933:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437),s=n(25137);function l(){return(0,a.jsx)("div",{className:"w-full h-full flex flex-row justify-center items-center",children:(0,a.jsx)(s.Z,{})})}},45518:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437);function s(e){let{children:t}=e;return(0,a.jsx)("header",{className:"bg-stone-50 shadow dark:bg-stone-800",children:(0,a.jsx)("div",{className:"max-w-7xl px-2 py-3 sm:px-3 lg:px-6",children:t})})}},2964:function(e,t,n){"use strict";n.d(t,{H1:function(){return i},H2:function(){return r},H3:function(){return o},H4:function(){return c}});var a=n(57437),s=n(54440),l=n.n(s);function i(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h1",{className:l()("text-2xl font-bold text-stone-800 dark:text-stone-300",n),...s,children:t})}function r(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h2",{className:l()("text-xl font-bold text-stone-800 dark:text-stone-300",n),...s,children:t})}function o(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h3",{className:l()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",n),...s,children:t})}function c(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h4",{className:l()(n,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...s,children:t})}},37275:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437),s=n(45518),l=n(2964);function i(e){let{text:t}=e;return(0,a.jsx)(s.Z,{children:(0,a.jsx)(l.H1,{children:t})})}},83117:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},h:function(){return r}});var a=n(57437),s=n(61396),l=n.n(s),i=n(45987);function r(e){let{label:t,value:n}=e;return(0,a.jsxs)("div",{className:"flex flex-row mx-4 space-x-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-stone-500",children:t}),(0,a.jsx)("div",{className:"text-sm text-stone-700 dark:text-stone-300",children:n})]})}function o(e){let{dataset:t}=e;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-100",children:[(0,a.jsx)("span",{className:"inline-block w-6 h-6 align-middle text-stone-500",children:(0,a.jsx)(i.lQ,{})})," ",(0,a.jsx)(l(),{className:"hover:font-bold hover:text-emerald-500",href:{pathname:"/datasets/detail/",query:{dataset_uuid:t.uuid}},children:t.name})]}),(0,a.jsx)("p",{className:"mt-1 w-full text-sm leading-5 text-stone-600 dark:text-stone-400",children:t.description})]}),(0,a.jsxs)("div",{className:"flex flex-row py-4",children:[(0,a.jsx)(r,{label:(0,a.jsx)(i.se,{className:"w-4 h-4 align-middle"}),value:t.recording_count.toString()}),(0,a.jsx)(r,{label:(0,a.jsx)(i.Qu,{className:"w-4 h-4 align-middle"}),value:t.created_on.toDateString()})]})]})}}},function(e){e.O(0,[1749,9966,3475,8966,5250,7663,828,721,3917,4766,1698,262,9790,2971,4938,1744],function(){return e(e.s=5087)}),_N_E=e.O()}]);