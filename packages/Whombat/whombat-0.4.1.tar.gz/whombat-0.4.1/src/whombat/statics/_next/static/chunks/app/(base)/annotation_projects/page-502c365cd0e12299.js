(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3318],{26288:function(e,t,n){Promise.resolve().then(n.bind(n,70480))},70480:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var s=n(57437),r=n(24033),a=n(2265),o=n(5925),l=n(7933),i=n(61396),c=n.n(i),d=n(45987);function x(e){let{label:t,value:n}=e;return(0,s.jsxs)("div",{className:"flex flex-row mx-4 space-x-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-stone-500",children:t}),(0,s.jsx)("div",{className:"text-sm text-stone-700 dark:text-stone-300",children:n})]})}function u(e){let{annotationProject:t}=e;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-100",children:[(0,s.jsx)("span",{className:"inline-block w-6 h-6 align-middle text-stone-500",children:(0,s.jsx)(d.O4,{})})," ",(0,s.jsx)(c(),{className:"hover:font-bold hover:text-emerald-500",href:{pathname:"/annotation_projects/detail/",query:{annotation_project_uuid:t.uuid}},children:t.name})]}),(0,s.jsx)("p",{className:"mt-1 w-full text-sm leading-5 text-stone-600 dark:text-stone-400",children:t.description})]}),(0,s.jsx)("div",{className:"flex flex-row py-4",children:(0,s.jsx)(x,{label:(0,s.jsx)(d.Qu,{className:"w-4 h-4 align-middle"}),value:t.created_on.toDateString()})})]})}var m=n(38110),j=n(23588),h=n(61865),f=n(39752),p=n(81698),v=n(90262);function g(e){var t,n,r;let{onCreate:o,onError:l}=e,i=(0,h.cI)({resolver:(0,m.F)(f.Gd),mode:"onChange"}),{errors:c}=i.formState,{mutateAsync:d}=(0,j.D)({mutationFn:p.Z.annotationProjects.create,onError:l}),x=(0,a.useCallback)(async e=>{let t=d(e);o&&o(t)},[d,o]);return(0,s.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:i.handleSubmit(x),children:[(0,s.jsx)(v.BZ,{label:"Name",name:"name",help:"Please provide a name for the Annotation Project.",error:null===(t=c.name)||void 0===t?void 0:t.message,children:(0,s.jsx)(v.II,{...i.register("name")})}),(0,s.jsx)(v.BZ,{label:"Description",name:"description",help:"Describe the purpose of the project",error:null===(n=c.description)||void 0===n?void 0:n.message,children:(0,s.jsx)(v.Kx,{rows:6,...i.register("description")})}),(0,s.jsx)(v.BZ,{label:"Instructions",name:"annotation_instructions",help:"Write instructions for annotators.",error:null===(r=c.annotation_instructions)||void 0===r?void 0:r.message,children:(0,s.jsx)(v.Kx,{rows:10,...i.register("annotation_instructions")})}),(0,s.jsx)(v.k4,{children:"Create Project"})]})}function N(e){var t;let{onCreate:n}=e,{register:r,handleSubmit:o,setError:l,formState:{errors:i}}=(0,h.cI)({mode:"onChange"}),{mutateAsync:c}=(0,j.D)({mutationFn:p.Z.annotationProjects.import,onError:e=>{var t;(null===(t=e.response)||void 0===t?void 0:t.status)===422&&e.response.data.detail.forEach(e=>{l(e.loc[1],{message:e.msg})})}}),x=(0,a.useCallback)(async e=>{let t=new FormData,s=e.annotation_project[0];t.append("annotation_project",s);let r=c(t);null==n||n(r)},[c,n]);return(0,s.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:o(x),children:[(0,s.jsx)(v.BZ,{name:"annotation_project",label:"Select a project file to import",help:"The file must be in AOEF format",error:null===(t=i.file)||void 0===t?void 0:t.message,children:(0,s.jsx)(v.II,{type:"file",...r("annotation_project"),required:!0})}),(0,s.jsxs)(v.k4,{children:[(0,s.jsx)(d.rG,{className:"inline-block h-6 w-6 align-middle mr-2"}),"Import"]})]})}var b=n(20841),Z=n(30398),w=n(58372),k=n(13615),_=n(61421),C=n(86294);function y(){return(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(d.aN,{className:"w-16 h-16 text-stone-500"}),(0,s.jsx)("p",{children:"No annotation project exist yet!"}),(0,s.jsxs)("p",{children:["To create a new project, click on the",(0,s.jsxs)("span",{className:"text-emerald-500",children:[(0,s.jsx)(d.dt,{className:"inline-block mr-1 ml-2 w-4 h-4"}),"Create"," "]})," ","button above."]})]})}function P(e){let{onCreate:t}=e,{items:n,pagination:r,isLoading:a,filter:o}=(0,C.Z)();return(0,s.jsxs)("div",{className:"flex flex-col p-8 space-y-2 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(w.Z,{label:"Search",placeholder:"Search project...",value:o.get("search"),onChange:e=>o.set("search",e),onSubmit:()=>o.submit(),icon:(0,s.jsx)(d.lQ,{})})}),(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(b.Z,{mode:"text",title:"Create Annotation Project",label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.dt,{className:"inline-block w-4 h-4 align-middle"})," Create"]}),children:()=>(0,s.jsx)("div",{className:"w-max-prose",children:(0,s.jsx)(g,{onCreate:t})})})}),(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(b.Z,{mode:"text",title:"Import annotation project",label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.rG,{className:"inline-block w-4 h-4 align-middle"})," ","Import"]}),children:()=>(0,s.jsx)(N,{onCreate:t})})})]}),a?(0,s.jsx)(Z.Z,{children:(0,s.jsx)("div",{className:"p-8",children:(0,s.jsx)(l.Z,{})})}):0===n.length?(0,s.jsx)(y,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(_.Z,{items:n.map(e=>(0,s.jsx)(u,{annotationProject:e},e.uuid))})}),r.numPages>1&&(0,s.jsx)(k.Z,{...r})]})}var F=n(37275);function I(){let e=(0,r.useRouter)(),t=(0,a.useCallback)(async t=>{o.ZP.promise(t,{loading:"Creating project...",success:"Project created!",error:"Failed to create project"}),t.then(t=>{e.push("/annotation_projects/detail/?annotation_project_uuid=".concat(t.uuid))})},[e]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F.Z,{text:"Annotation Projects"}),(0,s.jsx)(P,{onCreate:t})]})}},7933:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(57437),r=n(25137);function a(){return(0,s.jsx)("div",{className:"w-full h-full flex flex-row justify-center items-center",children:(0,s.jsx)(r.Z,{})})}},45518:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(57437);function r(e){let{children:t}=e;return(0,s.jsx)("header",{className:"bg-stone-50 shadow dark:bg-stone-800",children:(0,s.jsx)("div",{className:"max-w-7xl px-2 py-3 sm:px-3 lg:px-6",children:t})})}},2964:function(e,t,n){"use strict";n.d(t,{H1:function(){return o},H2:function(){return l},H3:function(){return i},H4:function(){return c}});var s=n(57437),r=n(54440),a=n.n(r);function o(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h1",{className:a()("text-2xl font-bold text-stone-800 dark:text-stone-300",n),...r,children:t})}function l(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h2",{className:a()("text-xl font-bold text-stone-800 dark:text-stone-300",n),...r,children:t})}function i(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h3",{className:a()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",n),...r,children:t})}function c(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h4",{className:a()(n,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...r,children:t})}},37275:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(57437),r=n(45518),a=n(2964);function o(e){let{text:t}=e;return(0,s.jsx)(r.Z,{children:(0,s.jsx)(a.H1,{children:t})})}},86294:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(81698),r=n(35532),a=n(57022);let o={},l=[];function i(){let{filter:e=o,fixed:t=l,pageSize:n=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,r.Z)({defaults:e,fixed:t}),{query:c,pagination:d,items:x,total:u}=(0,a.Z)({name:"annotation_projects",queryFn:s.Z.annotationProjects.getMany,pageSize:n,filter:i.filter});return{...c,items:x,filter:i,pagination:d,total:u}}}},function(e){e.O(0,[1749,9966,3475,8966,5250,7663,828,721,3917,4766,1698,262,9790,2971,4938,1744],function(){return e(e.s=26288)}),_N_E=e.O()}]);