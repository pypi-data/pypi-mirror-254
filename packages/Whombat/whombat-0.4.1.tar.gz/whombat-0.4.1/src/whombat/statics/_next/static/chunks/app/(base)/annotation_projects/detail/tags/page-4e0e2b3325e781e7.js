(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7415],{64206:function(e,t,n){Promise.resolve().then(n.bind(n,79541))},83007:function(e,t,n){"use strict";let a=(0,n(2265).createContext)({name:"",description:"",tags:[],created_on:new Date,uuid:""});t.Z=a},79541:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(57437),s=n(24033),o=n(2265),l=n(2964),i=n(45987),c=n(57126),r=n(70141),d=n(98023),u=n(17968);function m(e){var t,n,s,o;let{annotationProject:m,onAddTag:g,onRemoveTag:j}=e,x=(0,u.Z)({uuid:m.uuid,annotationProject:m,onAddTag:g,onRemoveTag:j});return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,a.jsxs)(l.H2,{children:[(0,a.jsx)(i.Dg,{className:"inline-block mr-2 w-8 h-8 align-middle"}),"Project Tags"]}),(0,a.jsxs)("p",{className:"text-stone-500",children:[(0,a.jsx)("span",{className:"font-bold text-emerald-500",children:"Tags"})," provide meaning to annotations. View available tags for this project or add more as needed."]}),(0,a.jsx)(c.Z,{className:"mt-4",children:"You can always come back and add more tags in the future."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-14",children:[(0,a.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,a.jsx)(l.H3,{children:"Add Tags"}),(0,a.jsx)("small",{className:"text-stone-500",children:"Use the search bar below to find tags for the project. Select a tag to add."}),(0,a.jsx)("div",{className:"py-2",children:(0,a.jsx)(d.Z,{autoFocus:!1,onSelect:x.addTag.mutate,onCreate:x.addTag.mutate})}),(0,a.jsx)("small",{className:"text-stone-500",children:"Create new tags if needed, but avoid duplicating meanings."})]}),(0,a.jsxs)("div",{className:"flex flex-col col-span-2 gap-2 md:col-span-1",children:[(0,a.jsx)(l.H3,{children:"Selected tags"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-bold text-blue-500",children:(null!==(s=null===(t=x.data)||void 0===t?void 0:t.tags)&&void 0!==s?s:[]).length.toLocaleString()})," ","tags selected. These are available for annotators."]}),(0,a.jsx)("small",{className:"text-stone-500",children:"Use the search bar to find registered tags. Click a tag to remove it."}),(0,a.jsx)("div",{children:(0,a.jsx)(r.Z,{tags:null!==(o=null===(n=x.data)||void 0===n?void 0:n.tags)&&void 0!==o?o:[],onClick:x.removeTag.mutate})})]})]})]})}var g=n(98771),j=n(83007);function x(){let e=(0,o.useContext)(j.Z);return null==e?(0,s.notFound)():(0,a.jsx)(g.Z,{children:(0,a.jsx)(m,{annotationProject:e})})}},17968:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(23588),s=n(2265),o=n(81698),l=n(41095);function i(e){let{uuid:t,annotationProject:n,onUpdate:i,onDelete:c,onAddTag:r,onRemoveTag:d,onAddAnnotationTasks:u,onError:m,enabled:g=!0}=e,{query:j,useMutation:x,client:h}=(0,l.ZP)({uuid:t,initial:n,name:"annotation_project",enabled:g,getFn:o.Z.annotationProjects.get,onError:m}),f=x({mutationFn:o.Z.annotationProjects.update,onSuccess:i}),p=x({mutationFn:o.Z.annotationProjects.addTag,onSuccess:r}),v=x({mutationFn:o.Z.annotationProjects.removeTag,onSuccess:d}),Z=x({mutationFn:o.Z.annotationProjects.delete,onSuccess:c}),{data:N}=j,b=(0,s.useCallback)(async e=>{if(null==N)return;let t=await o.Z.clips.createMany(e);return await o.Z.annotationTasks.createMany(N,t)},[N]),P=(0,a.D)({mutationFn:b,onSuccess:e=>{null!=e&&(null==u||u(e),h.invalidateQueries({queryKey:["annotation_project",t]}))}}),w=(0,s.useMemo)(()=>{if(null!=N)return o.Z.annotationProjects.getDownloadUrl(N)},[N]);return{...j,update:f,addTag:p,addAnnotationTasks:P,removeTag:v,delete:Z,download:w}}},24033:function(e,t,n){e.exports=n(15313)}},function(e){e.O(0,[1749,9966,3475,8966,7663,828,721,3917,2403,5166,1698,262,7548,4180,2971,4938,1744],function(){return e(e.s=64206)}),_N_E=e.O()}]);