import{s as Y,e as E,a as H,t as J,c as A,b as V,f as _,g as j,d as Q,l as fe,m as g,i as U,h,o as q,j as x,n as te,r as Me,p as He,G,M as W,F as se,I as le,J as ae,K as re,q as be,u as we,x as he,y as je,w as Be,A as Ue}from"../chunks/scheduler.FfJvB2D8.js";import{S as Z,i as X,b as R,d as z,m as F,a as k,t as T,e as K,g as ie,c as ce}from"../chunks/index.TsXAreqO.js";import{p as Pe}from"../chunks/stores.s-WFXCcH.js";import{a as Oe,b as Re,s as ze,d as Fe}from"../chunks/styleUtils.4eGcGr4P.js";import"../chunks/command.8h0TkW67.js";import{a as Ke}from"../chunks/icons.-JRcUqYT.js";import{d as pe,e as ke,s as Ie,i as Ge,a as We,m as Je,b as Qe,D as Ye}from"../chunks/datasetStores.RfgKBczp.js";import{g as De}from"../chunks/entry.LmOfDFuB.js";import{T as ge,P as Ze}from"../chunks/PrimaryButton.zwlJVeHr.js";import{I as ue,g as de,a as me,L as Xe}from"../chunks/loader-2.dyf2eIFZ.js";const qe=!1,xe=!1,tn=Object.freeze(Object.defineProperty({__proto__:null,prerender:qe,ssr:xe},Symbol.toStringTag,{value:"Module"}));function Ne(r){let e,l;return{c(){e=E("p"),l=J(r[1]),this.h()},l(t){e=A(t,"P",{class:!0});var s=V(e);l=Q(s,r[1]),s.forEach(_),this.h()},h(){g(e,"class","pb-1 italic")},m(t,s){U(t,e,s),h(e,l)},p(t,s){s&2&&x(l,t[1])},d(t){t&&_(e)}}}function Ee(r){let e,l,t,s;return{c(){e=E("button"),l=J(r[3]),this.h()},l(n){e=A(n,"BUTTON",{type:!0,class:!0});var a=V(e);l=Q(a,r[3]),a.forEach(_),this.h()},h(){g(e,"type","button"),g(e,"class","rounded border mt-3 mx-1 py-1 px-3 bg-slate-50 transition-colors hover:bg-slate-100 border-slate-300")},m(n,a){U(n,e,a),h(e,l),t||(s=q(e,"click",r[6]),t=!0)},p(n,a){a&8&&x(l,n[3])},d(n){n&&_(e),t=!1,s()}}}function et(r){let e,l,t,s,n,a,i,o,d,m,y="Cancel",u,w,c,b,L,P,N=r[1]&&Ne(r),C=r[3]&&Ee(r);return{c(){e=E("div"),l=E("div"),t=H(),s=E("div"),n=E("div"),a=E("p"),i=J(r[0]),o=H(),N&&N.c(),d=H(),m=E("button"),m.textContent=y,u=H(),C&&C.c(),w=H(),c=E("button"),b=J(r[2]),this.h()},l($){e=A($,"DIV",{class:!0});var M=V(e);l=A(M,"DIV",{class:!0}),V(l).forEach(_),t=j(M),s=A(M,"DIV",{class:!0});var v=V(s);n=A(v,"DIV",{class:!0});var B=V(n);a=A(B,"P",{class:!0});var f=V(a);i=Q(f,r[0]),f.forEach(_),o=j(B),N&&N.l(B),d=j(B),m=A(B,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),fe(m)!=="svelte-1awab0o"&&(m.textContent=y),u=j(B),C&&C.l(B),w=j(B),c=A(B,"BUTTON",{type:!0,class:!0});var p=V(c);b=Q(p,r[2]),p.forEach(_),B.forEach(_),v.forEach(_),M.forEach(_),this.h()},h(){g(l,"class","fixed inset-0 bg-black bg-opacity-50 transition-opacity"),g(a,"class","pb-1"),g(m,"type","button"),g(m,"class","rounded border mt-3 mx-1 py-1 px-3 bg-slate-50 transition-colors hover:bg-slate-100 border-slate-300"),g(c,"type","button"),g(c,"class","rounded border border-transparent text-slate-50 mt-3 mx-1 py-1 px-3 bg-primary transition-colors hover:bg-primary-foreground"),g(n,"class","relative transform overflow-hidden rounded-lg p-6 max-w-2xl bg-slate-50 text-slate-800"),g(s,"class","flex min-h-full justify-center text-center items-center"),g(e,"class","fixed inset-0 z-50 overflow-y-auto")},m($,M){U($,e,M),h(e,l),h(e,t),h(e,s),h(s,n),h(n,a),h(a,i),h(n,o),N&&N.m(n,null),h(n,d),h(n,m),h(n,u),C&&C.m(n,null),h(n,w),h(n,c),h(c,b),L||(P=[q(window,"keydown",r[7]),q(m,"click",r[4]),q(c,"click",r[5])],L=!0)},p($,[M]){M&1&&x(i,$[0]),$[1]?N?N.p($,M):(N=Ne($),N.c(),N.m(n,d)):N&&(N.d(1),N=null),$[3]?C?C.p($,M):(C=Ee($),C.c(),C.m(n,w)):C&&(C.d(1),C=null),M&4&&x(b,$[2])},i:te,o:te,d($){$&&_(e),N&&N.d(),C&&C.d(),L=!1,Me(P)}}}function tt(r,e,l){let{message:t}=e,{details:s=""}=e,{confirm:n="Ok"}=e,{alternativeAction:a=""}=e;const i=He();function o(){i("cancel")}function d(){i("confirm")}function m(){i("alternative")}function y(u){u.key==="Enter"&&d(),u.key==="Escape"&&o()}return r.$$set=u=>{"message"in u&&l(0,t=u.message),"details"in u&&l(1,s=u.details),"confirm"in u&&l(2,n=u.confirm),"alternativeAction"in u&&l(3,a=u.alternativeAction)},[t,s,n,a,o,d,m,y]}class nt extends Z{constructor(e){super(),X(this,e,tt,et,Y,{message:0,details:1,confirm:2,alternativeAction:3})}}function st(r){let e;const l=r[2].default,t=se(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&le(t,l,s,s[3],e?re(l,s[3],n,null):ae(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){T(t,s),e=!1},d(s){t&&t.d(s)}}}function lt(r){let e,l;const t=[{name:"arrow-left-circle"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[st]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=G(s,t[n]);return e=new ue({props:s}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){F(e,n,a),l=!0},p(n,[a]){const i=a&3?de(t,[t[0],a&2&&me(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function at(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return r.$$set=a=>{l(1,e=G(G({},e),W(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=W(e),[n,e,t,s]}class rt extends Z{constructor(e){super(),X(this,e,at,lt,Y,{})}}function ot(r){let e;const l=r[2].default,t=se(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&le(t,l,s,s[3],e?re(l,s[3],n,null):ae(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){T(t,s),e=!1},d(s){t&&t.d(s)}}}function it(r){let e,l;const t=[{name:"arrow-left"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ot]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=G(s,t[n]);return e=new ue({props:s}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){F(e,n,a),l=!0},p(n,[a]){const i=a&3?de(t,[t[0],a&2&&me(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function ct(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return r.$$set=a=>{l(1,e=G(G({},e),W(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=W(e),[n,e,t,s]}class ft extends Z{constructor(e){super(),X(this,e,ct,it,Y,{})}}function ut(r){let e;const l=r[2].default,t=se(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&le(t,l,s,s[3],e?re(l,s[3],n,null):ae(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){T(t,s),e=!1},d(s){t&&t.d(s)}}}function dt(r){let e,l;const t=[{name:"arrow-right"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ut]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=G(s,t[n]);return e=new ue({props:s}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){F(e,n,a),l=!0},p(n,[a]){const i=a&3?de(t,[t[0],a&2&&me(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function mt(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return r.$$set=a=>{l(1,e=G(G({},e),W(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=W(e),[n,e,t,s]}class _t extends Z{constructor(e){super(),X(this,e,mt,dt,Y,{})}}function ht(r){let e;const l=r[2].default,t=se(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&le(t,l,s,s[3],e?re(l,s[3],n,null):ae(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){T(t,s),e=!1},d(s){t&&t.d(s)}}}function pt(r){let e,l;const t=[{name:"database"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ht]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=G(s,t[n]);return e=new ue({props:s}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){F(e,n,a),l=!0},p(n,[a]){const i=a&3?de(t,[t[0],a&2&&me(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function gt(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return r.$$set=a=>{l(1,e=G(G({},e),W(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=W(e),[n,e,t,s]}class $t extends Z{constructor(e){super(),X(this,e,gt,pt,Y,{})}}const vt=$t;function bt(r){let e;const l=r[2].default,t=se(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&le(t,l,s,s[3],e?re(l,s[3],n,null):ae(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){T(t,s),e=!1},d(s){t&&t.d(s)}}}function wt(r){let e,l;const t=[{name:"home"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[bt]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=G(s,t[n]);return e=new ue({props:s}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){F(e,n,a),l=!0},p(n,[a]){const i=a&3?de(t,[t[0],a&2&&me(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function kt(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return r.$$set=a=>{l(1,e=G(G({},e),W(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=W(e),[n,e,t,s]}class It extends Z{constructor(e){super(),X(this,e,kt,wt,Y,{})}}const Dt=It,Nt=""+new URL("../assets/pixano_white.VSj0ppjx.png",import.meta.url).href;function Ae(r){var S;let e,l,t=((S=r[0])==null?void 0:S.length)+"",s,n,a,i="datasets",o,d,m,y=r[0].reduce(Te,0)+"",u,w,c,b="items",L,P,N,C,$,M,v,B,f,p;return{c(){e=E("div"),l=E("span"),s=J(t),n=H(),a=E("span"),a.textContent=i,o=H(),d=E("div"),m=E("span"),u=J(y),w=H(),c=E("span"),c.textContent=b,L=H(),P=E("div"),N=E("div"),C=E("div"),$=E("input"),M=H(),v=be("svg"),B=be("path"),this.h()},l(I){e=A(I,"DIV",{class:!0});var D=V(e);l=A(D,"SPAN",{class:!0});var O=V(l);s=Q(O,t),O.forEach(_),n=j(D),a=A(D,"SPAN",{class:!0,"data-svelte-h":!0}),fe(a)!=="svelte-1yocus0"&&(a.textContent=i),D.forEach(_),o=j(I),d=A(I,"DIV",{class:!0});var ee=V(d);m=A(ee,"SPAN",{class:!0});var oe=V(m);u=Q(oe,y),oe.forEach(_),w=j(ee),c=A(ee,"SPAN",{class:!0,"data-svelte-h":!0}),fe(c)!=="svelte-1gs9vfx"&&(c.textContent=b),ee.forEach(_),L=j(I),P=A(I,"DIV",{class:!0});var ne=V(P);N=A(ne,"DIV",{class:!0});var $e=V(N);C=A($e,"DIV",{class:!0});var _e=V(C);$=A(_e,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),M=j(_e),v=we(_e,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var ve=V(v);B=we(ve,"path",{d:!0,fill:!0}),V(B).forEach(_),ve.forEach(_),_e.forEach(_),$e.forEach(_),ne.forEach(_),this.h()},h(){g(l,"class","text-3xl"),g(a,"class","ml-2 text-xl"),g(e,"class","h-20 my-5 mr-10 p-5 border-2 rounded-lg border-secondary"),g(m,"class","text-3xl"),g(c,"class","ml-2 text-xl"),g(d,"class","h-20 my-5 mr-10 p-5 border-2 rounded-lg border-secondary"),g($,"id","search-input"),g($,"type","text"),g($,"placeholder","Search datasets"),g($,"class","h-10 pl-10 pr-4 rounded-full border-2 accent-main border-main text-slate-800 placeholder-slate-500 font-medium"),g(B,"d",Ke),g(B,"fill","currentcolor"),g(v,"xmlns","http://www.w3.org/2000/svg"),g(v,"height","48"),g(v,"viewBox","0 -960 960 960"),g(v,"width","48"),g(v,"class","absolute left-3 h-5 w-5 pointer-events-none text-slate-800"),g(C,"class","h-20 relative flex items-center"),g(N,"class","flex items-center space-x-2"),g(P,"class","grow flex flex-row justify-end items-end")},m(I,D){U(I,e,D),h(e,l),h(l,s),h(e,n),h(e,a),U(I,o,D),U(I,d,D),h(d,m),h(m,u),h(d,w),h(d,c),U(I,L,D),U(I,P,D),h(P,N),h(N,C),h(C,$),h(C,M),h(C,v),h(v,B),f||(p=q($,"input",r[1]),f=!0)},p(I,D){var O;D&1&&t!==(t=((O=I[0])==null?void 0:O.length)+"")&&x(s,t),D&1&&y!==(y=I[0].reduce(Te,0)+"")&&x(u,y)},d(I){I&&(_(e),_(o),_(d),_(L),_(P)),f=!1,p()}}}function Et(r){let e,l,t=`<img src="${Nt}" alt="Logo Pixano" class="w-10 h-10"/> <span class="text-3xl font-bold text-slate-50 uppercase">Pixano</span>`,s,n,a=r[0]&&Ae(r);return{c(){e=E("header"),l=E("div"),l.innerHTML=t,s=H(),n=E("div"),a&&a.c(),this.h()},l(i){e=A(i,"HEADER",{class:!0});var o=V(e);l=A(o,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-ugnup7"&&(l.innerHTML=t),s=j(o),n=A(o,"DIV",{class:!0});var d=V(n);a&&a.l(d),d.forEach(_),o.forEach(_),this.h()},h(){g(l,"class","flex gap-2"),g(n,"class","flex py-5 h-40 w-full items-center flex-wrap text-slate-50"),g(e,"class","p-4 w-full h-fit pt-10 px-20 xl:px-60 flex flex-col justify-evenly bg-primary z-10")},m(i,o){U(i,e,o),h(e,l),h(e,s),h(e,n),a&&a.m(n,null)},p(i,[o]){i[0]?a?a.p(i,o):(a=Ae(i),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:te,o:te,d(i){i&&_(e),a&&a.d()}}}const Te=(r,e)=>r+e.num_elements;function At(r,e,l){let{datasets:t}=e;const s=n=>{const a=n.currentTarget;pe.update((i=[])=>i.map(o=>({...o,isFiltered:!o.name.toLocaleLowerCase().includes(a.value.toLocaleLowerCase())})))};return r.$$set=n=>{"datasets"in n&&l(0,t=n.datasets)},[t,s]}class Tt extends Z{constructor(e){super(),X(this,e,At,Et,Y,{datasets:0})}}const Lt=""+new URL("../assets/pixano.DQCP_KhV.png",import.meta.url).href,Ct=(r,e,l)=>{const t=e.findIndex(n=>n.id===l);let s;if(t!==-1){const n=r==="previous"?t-1:t+1;n===-1&&(s=e[e.length-1].id),n===e.length&&(s=e[0].id),n>=0&&n<e.length&&(s=e[n].id)}return s},Le=[{name:"Dashboard",Icon:Dt},{name:"Dataset",Icon:vt}];function Ce(r,e,l){const t=r.slice();return t[21]=e[l].name,t[22]=e[l].Icon,t}function St(r){let e,l;return e=new rt({}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Se(r){let e,l,t,s;const n=[Vt,yt],a=[];function i(o,d){return o[3]?0:1}return e=i(r),l=a[e]=n[e](r),{c(){l.c(),t=he()},l(o){l.l(o),t=he()},m(o,d){a[e].m(o,d),U(o,t,d),s=!0},p(o,d){let m=e;e=i(o),e===m?a[e].p(o,d):(ie(),T(a[m],1,1,()=>{a[m]=null}),ce(),l=a[e],l?l.p(o,d):(l=a[e]=n[e](o),l.c()),k(l,1),l.m(t.parentNode,t))},i(o){s||(k(l),s=!0)},o(o){T(l),s=!1},d(o){o&&_(t),a[e].d(o)}}}function yt(r){let e,l,t,s,n,a,i;return l=new ge({props:{$$slots:{default:[Mt]},$$scope:{ctx:r}}}),l.$on("click",r[14]),a=new ge({props:{$$slots:{default:[Pt]},$$scope:{ctx:r}}}),a.$on("click",r[15]),{c(){e=E("div"),R(l.$$.fragment),t=H(),s=J(r[2]),n=H(),R(a.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var d=V(e);z(l.$$.fragment,d),t=j(d),s=Q(d,r[2]),n=j(d),z(a.$$.fragment,d),d.forEach(_),this.h()},h(){g(e,"class","flex items-center gap-4")},m(o,d){U(o,e,d),F(l,e,null),h(e,t),h(e,s),h(e,n),F(a,e,null),i=!0},p(o,d){const m={};d&33554432&&(m.$$scope={dirty:d,ctx:o}),l.$set(m),(!i||d&4)&&x(s,o[2]);const y={};d&33554432&&(y.$$scope={dirty:d,ctx:o}),a.$set(y)},i(o){i||(k(l.$$.fragment,o),k(a.$$.fragment,o),i=!0)},o(o){T(l.$$.fragment,o),T(a.$$.fragment,o),i=!1},d(o){o&&_(e),K(l),K(a)}}}function Vt(r){let e,l;return e=new Xe({props:{class:"animate-spin"}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},p:te,i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Mt(r){let e,l;return e=new ft({}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Pt(r){let e,l;return e=new _t({}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Ht(r){let e,l,t,s,n;return e=new r[22]({props:{strokeWidth:1}}),{c(){R(e.$$.fragment),l=H(),t=J(r[21]),s=H()},l(a){z(e.$$.fragment,a),l=j(a),t=Q(a,r[21]),s=j(a)},m(a,i){F(e,a,i),U(a,l,i),U(a,t,i),U(a,s,i),n=!0},p:te,i(a){n||(k(e.$$.fragment,a),n=!0)},o(a){T(e.$$.fragment,a),n=!1},d(a){a&&(_(l),_(t),_(s)),K(e,a)}}}function ye(r){var s;let e,l;function t(){return r[16](r[21])}return e=new Ze({props:{isSelected:(s=r[1])==null?void 0:s.includes(`/${r[21]}`.toLowerCase()),$$slots:{default:[Ht]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){F(e,n,a),l=!0},p(n,a){var o;r=n;const i={};a&2&&(i.isSelected=(o=r[1])==null?void 0:o.includes(`/${r[21]}`.toLowerCase())),a&33554432&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function Ve(r){let e,l;return e=new nt({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",r[8]),e.$on("alternative",r[17]),e.$on("cancel",r[18]),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},p:te,i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function jt(r){let e,l,t,s,n,a=`<img src="${Lt}" alt="Logo Pixano" class="w-8 h-8 mx-2"/>`,i,o,d,m,y,u,w,c,b,L,P,N,C;o=new ge({props:{$$slots:{default:[St]},$$scope:{ctx:r}}}),o.$on("click",r[12]);let $=r[2]&&Se(r),M=ke(Le),v=[];for(let p=0;p<M.length;p+=1)v[p]=ye(Ce(r,M,p));const B=p=>T(v[p],1,1,()=>{v[p]=null});let f=r[4]!=="none"&&Ve(r);return{c(){e=E("header"),l=E("div"),t=E("div"),s=E("div"),n=E("button"),n.innerHTML=a,i=H(),R(o.$$.fragment),d=H(),m=E("button"),y=J(r[0]),u=H(),$&&$.c(),w=H(),c=E("div");for(let p=0;p<v.length;p+=1)v[p].c();b=H(),f&&f.c(),L=he(),this.h()},l(p){e=A(p,"HEADER",{class:!0});var S=V(e);l=A(S,"DIV",{class:!0});var I=V(l);t=A(I,"DIV",{class:!0});var D=V(t);s=A(D,"DIV",{class:!0});var O=V(s);n=A(O,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1neur1j"&&(n.innerHTML=a),i=j(O),z(o.$$.fragment,O),d=j(O),m=A(O,"BUTTON",{});var ee=V(m);y=Q(ee,r[0]),ee.forEach(_),O.forEach(_),D.forEach(_),u=j(I),$&&$.l(I),w=j(I),c=A(I,"DIV",{class:!0});var oe=V(c);for(let ne=0;ne<v.length;ne+=1)v[ne].l(oe);oe.forEach(_),I.forEach(_),S.forEach(_),b=j(p),f&&f.l(p),L=he(),this.h()},h(){g(n,"class","h-10 w-10"),g(s,"class","flex gap-4 items-center font-light"),g(t,"class","h-10 flex items-center font-semibold text-2xl"),g(c,"class","flex gap-4"),g(l,"class","h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800"),g(e,"class","w-full fixed z-40")},m(p,S){U(p,e,S),h(e,l),h(l,t),h(t,s),h(s,n),h(s,i),F(o,s,null),h(s,d),h(s,m),h(m,y),h(l,u),$&&$.m(l,null),h(l,w),h(l,c);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(c,null);U(p,b,S),f&&f.m(p,S),U(p,L,S),P=!0,N||(C=[q(window,"keyup",r[7]),q(n,"click",r[11]),q(m,"click",r[13])],N=!0)},p(p,[S]){const I={};if(S&33554432&&(I.$$scope={dirty:S,ctx:p}),o.$set(I),(!P||S&1)&&x(y,p[0]),p[2]?$?($.p(p,S),S&4&&k($,1)):($=Se(p),$.c(),k($,1),$.m(l,w)):$&&(ie(),T($,1,1,()=>{$=null}),ce()),S&515){M=ke(Le);let D;for(D=0;D<M.length;D+=1){const O=Ce(p,M,D);v[D]?(v[D].p(O,S),k(v[D],1)):(v[D]=ye(O),v[D].c(),k(v[D],1),v[D].m(c,null))}for(ie(),D=M.length;D<v.length;D+=1)B(D);ce()}p[4]!=="none"?f?(f.p(p,S),S&16&&k(f,1)):(f=Ve(p),f.c(),k(f,1),f.m(L.parentNode,L)):f&&(ie(),T(f,1,1,()=>{f=null}),ce())},i(p){if(!P){k(o.$$.fragment,p),k($);for(let S=0;S<M.length;S+=1)k(v[S]);k(f),P=!0}},o(p){T(o.$$.fragment,p),T($),v=v.filter(Boolean);for(let S=0;S<v.length;S+=1)T(v[S]);T(f),P=!1},d(p){p&&(_(e),_(b),_(L)),K(o),$&&$.d(),je(v,p),f&&f.d(p),N=!1,Me(C)}}}function Bt(r,e,l){let{datasetName:t}=e,{pageId:s}=e,{currentDatasetName:n}=e,a,i,o,d,m="none";Ie.subscribe(f=>d=f.canSave),Ge.subscribe(f=>{l(3,o=f)}),pe.subscribe(f=>{a=f});const y=async f=>{var D;if(f==="none")return;const p=a.find(O=>O.name===n),S=Object.values(((D=p==null?void 0:p.page)==null?void 0:D.items)||{}),I=Ct(f,S,i);I&&(l(2,i=I),await De(`/${n}/dataset/${I}`),l(4,m="none"))},u=async f=>{if(d)return l(4,m=f);await y(f)},w=async f=>(f.key==="ArrowLeft"?await u("previous"):f.key==="ArrowRight"&&await u("next"),f.key),c=async()=>{Ie.update(f=>({...f,shouldSave:!0})),await y(m)};async function b(f){await De(f)}const L=()=>b("/"),P=()=>b("/"),N=()=>b(`/${t}/dataset`),C=()=>u("previous"),$=()=>u("next"),M=f=>b(`/${t}/${f.toLocaleLowerCase()}`),v=()=>y(m),B=()=>l(4,m="none");return r.$$set=f=>{"datasetName"in f&&l(0,t=f.datasetName),"pageId"in f&&l(1,s=f.pageId),"currentDatasetName"in f&&l(10,n=f.currentDatasetName)},Pe.subscribe(f=>{l(2,i=f.params.itemId)}),[t,s,i,o,m,y,u,w,c,b,n,L,P,N,C,$,M,v,B]}class Ut extends Z{constructor(e){super(),X(this,e,Bt,jt,Y,{datasetName:0,pageId:1,currentDatasetName:10})}}const Ot=""+new URL("../assets/favicon.DroiEs1d.ico",import.meta.url).href;function Rt(r){let e,l;return e=new Ut({props:{datasetName:r[1],pageId:r[2],currentDatasetName:r[1]}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},p(t,s){const n={};s&2&&(n.datasetName=t[1]),s&4&&(n.pageId=t[2]),s&2&&(n.currentDatasetName=t[1]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function zt(r){let e,l;return e=new Tt({props:{datasets:r[0]}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.datasets=t[0]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Ft(r){let e,l,t,s,n,a,i,o;const d=[zt,Rt],m=[];function y(c,b){return c[2]==="/"?0:1}s=y(r),n=m[s]=d[s](r);const u=r[4].default,w=se(u,r,r[3],null);return{c(){e=E("link"),l=H(),t=E("div"),n.c(),a=H(),i=E("main"),w&&w.c(),this.h()},l(c){const b=Be("svelte-1lrorme",document.head);e=A(b,"LINK",{rel:!0,type:!0,href:!0}),b.forEach(_),l=j(c),t=A(c,"DIV",{class:!0});var L=V(t);n.l(L),a=j(L),i=A(L,"MAIN",{class:!0});var P=V(i);w&&w.l(P),P.forEach(_),L.forEach(_),this.h()},h(){g(e,"rel","icon"),g(e,"type","image/svg"),g(e,"href",Ot),g(i,"class","h-1 min-h-screen"),g(t,"class","app")},m(c,b){h(document.head,e),U(c,l,b),U(c,t,b),m[s].m(t,null),h(t,a),h(t,i),w&&w.m(i,null),o=!0},p(c,[b]){let L=s;s=y(c),s===L?m[s].p(c,b):(ie(),T(m[L],1,1,()=>{m[L]=null}),ce(),n=m[s],n?n.p(c,b):(n=m[s]=d[s](c),n.c()),k(n,1),n.m(t,a)),w&&w.p&&(!o||b&8)&&le(w,u,c,c[3],o?re(u,c[3],b,null):ae(c[3]),null)},i(c){o||(k(n),k(w,c),o=!0)},o(c){T(n),T(w,c),o=!1},d(c){c&&(_(l),_(t)),_(e),m[s].d(),w&&w.d(c)}}}function Kt(r,e,l){let{$$slots:t={},$$scope:s}=e,n,a,i,o;async function d(){a=await Oe(),Je.set(a)}async function m(){try{const u=await Re();l(0,n=u),pe.set(u)}catch(u){console.error(u)}}Ue(async()=>{await m(),await d()});const y=async(u,w,c,b)=>{let L;b!=null&&b.search?L=await ze(u,b,w,c):L=await Fe(u,w,c),pe.update((P=[])=>P.map(N=>N.id===u?{...N,page:L}:N))};return We.subscribe(u=>{var c;const w=(c=n==null?void 0:n.find(b=>b.name===o))==null?void 0:c.id;w&&u&&y(w,u.currentPage,u.pageSize,u.query).catch(b=>console.error(b))}),r.$$set=u=>{"$$scope"in u&&l(3,s=u.$$scope)},r.$$.update=()=>{var u;if(r.$$.dirty&3){const w=(u=n==null?void 0:n.find(c=>c.name===o))==null?void 0:u.id;w&&y(w,Ye,Qe).catch(c=>console.error(c))}},Pe.subscribe(u=>{l(2,i=u.route.id),l(1,o=u.params.dataset)}),[n,o,i,s,t]}class nn extends Z{constructor(e){super(),X(this,e,Kt,Ft,Y,{})}}export{nn as component,tn as universal};
