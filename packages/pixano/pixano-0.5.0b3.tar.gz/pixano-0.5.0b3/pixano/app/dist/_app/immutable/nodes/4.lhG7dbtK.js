import{s as Z,e as v,c as b,b as y,f as d,m as _,i as k,v as pe,n as F,o as te,r as be,C as Je,t as Q,d as X,h as g,j as oe,x as G,D as ke,a as B,g as L,y as ue,p as xe,l as ee,A as Ke,q as Ee,u as De,a5 as ye}from"../chunks/scheduler.FfJvB2D8.js";import{S as x,i as J,b as j,d as R,m as A,a as $,t as I,e as U,g as W,c as Y}from"../chunks/index.TsXAreqO.js";import{p as Qe}from"../chunks/stores.s-WFXCcH.js";import{g as Xe}from"../chunks/entry.LmOfDFuB.js";import{e as q,a as ne,D as Ie,b as Me,d as et}from"../chunks/datasetStores.RfgKBczp.js";import{s as tt,a as lt,b as st,c as rt,d as nt,e as at,f as it,g as ot,h as ct,i as ft}from"../chunks/icons.-JRcUqYT.js";import"../chunks/command.8h0TkW67.js";import{W as ut}from"../chunks/WarningModal.eUdlsjrb.js";import{H as ht}from"../chunks/Histogram.LzUGMffG.js";import{L as dt}from"../chunks/loader-2.dyf2eIFZ.js";const pt=!1,mt=!1,nl=Object.freeze(Object.defineProperty({__proto__:null,prerender:pt,ssr:mt},Symbol.toStringTag,{value:"Module"}));function gt(a){let e,s,l;return s=new ht({props:{hist:a[0],maxHeight:20,hideTitle:!0}}),{c(){e=v("div"),j(s.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var n=y(e);R(s.$$.fragment,n),n.forEach(d),this.h()},h(){_(e,"class","w-full flex flex-row items-center overflow-y-scroll")},m(t,n){k(t,e,n),A(s,e,null),l=!0},p(t,[n]){const r={};n&1&&(r.hist=t[0]),s.$set(r)},i(t){l||($(s.$$.fragment,t),l=!0)},o(t){I(s.$$.fragment,t),l=!1},d(t){t&&d(e),U(s)}}}function _t(a,e,s){let{value:l}=e;return a.$$set=t=>{"value"in t&&s(0,l=t.value)},[l]}class vt extends x{constructor(e){super(),J(this,e,_t,gt,Z,{value:0})}}function bt(a){let e,s;return{c(){e=v("img"),this.h()},l(l){e=b(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){_(e,"class","mx-auto h-20 w-20 min-w-20 min-h-20 object-cover rounded"),pe(e.src,s=a[0])||_(e,"src",s),_(e,"alt",a[0])},m(l,t){k(l,e,t)},p(l,[t]){t&1&&!pe(e.src,s=l[0])&&_(e,"src",s),t&1&&_(e,"alt",l[0])},i:F,o:F,d(l){l&&d(e)}}}function wt(a,e,s){let{value:l}=e;return a.$$set=t=>{"value"in t&&s(0,l=t.value)},[l]}class $t extends x{constructor(e){super(),J(this,e,wt,bt,Z,{value:0})}}function Tt(a){let e,s,l,t;return{c(){e=v("video"),this.h()},l(n){e=b(n,"VIDEO",{src:!0,class:!0}),y(e).forEach(d),this.h()},h(){pe(e.src,s=a[0])||_(e,"src",s),e.loop=!0,e.muted=!0,_(e,"class","mx-auto h-20 w-20 min-w-20 min-h-20 object-cover rounded")},m(n,r){k(n,e,r),a[3](e),l||(t=[te(e,"mouseenter",a[2]),te(e,"mouseleave",a[2])],l=!0)},p(n,[r]){r&1&&!pe(e.src,s=n[0])&&_(e,"src",s)},i:F,o:F,d(n){n&&d(e),a[3](null),l=!1,be(t)}}}function kt(a,e,s){let{value:l}=e,t;function n(){}function r(o){Je[o?"unshift":"push"](()=>{t=o,s(1,t)})}return a.$$set=o=>{"value"in o&&s(0,l=o.value)},[l,t,n,r]}class Et extends x{constructor(e){super(),J(this,e,kt,Tt,Z,{value:0})}}function Dt(a){let e,s;return{c(){e=v("div"),s=Q(a[0])},l(l){e=b(l,"DIV",{});var t=y(e);s=X(t,a[0]),t.forEach(d)},m(l,t){k(l,e,t),g(e,s)},p(l,[t]){t&1&&oe(s,l[0])},i:F,o:F,d(l){l&&d(e)}}}function yt(a,e,s){let{value:l}=e;return a.$$set=t=>{"value"in t&&s(0,l=t.value)},[l]}class Se extends x{constructor(e){super(),J(this,e,yt,Dt,Z,{value:0})}}function It(a){let e;return{c(){e=v("input"),this.h()},l(s){e=b(s,"INPUT",{type:!0,class:!0}),this.h()},h(){_(e,"type","checkbox"),e.disabled=!0,_(e,"class","pointer-events: none;")},m(s,l){k(s,e,l)},d(s){s&&d(e)}}}function Mt(a){let e;return{c(){e=v("input"),this.h()},l(s){e=b(s,"INPUT",{type:!0,class:!0}),this.h()},h(){_(e,"type","checkbox"),e.disabled=!0,_(e,"class","pointer-events: none;"),e.checked=!0},m(s,l){k(s,e,l)},d(s){s&&d(e)}}}function St(a){let e;function s(n,r){return n[0]?Mt:It}let l=s(a),t=l(a);return{c(){t.c(),e=G()},l(n){t.l(n),e=G()},m(n,r){t.m(n,r),k(n,e,r)},p(n,[r]){l!==(l=s(n))&&(t.d(1),t=l(n),t&&(t.c(),t.m(e.parentNode,e)))},i:F,o:F,d(n){n&&d(e),t.d(n)}}}function Bt(a,e,s){let{value:l}=e;return a.$$set=t=>{"value"in t&&s(0,l=t.value)},[l]}class Lt extends x{constructor(e){super(),J(this,e,Bt,St,Z,{value:0})}}function Ht(a){let e,s;return{c(){e=v("div"),s=Q(a[0])},l(l){e=b(l,"DIV",{});var t=y(e);s=X(t,a[0]),t.forEach(d)},m(l,t){k(l,e,t),g(e,s)},p(l,[t]){t&1&&oe(s,l[0])},i:F,o:F,d(l){l&&d(e)}}}function Nt(a,e,s){let{value:l}=e;return a.$$set=t=>{"value"in t&&s(0,l=t.value)},[l]}class Pt extends x{constructor(e){super(),J(this,e,Nt,Ht,Z,{value:0})}}function Ct(a){let e,s,l;var t=a[1][a[0].dtype];function n(r,o){return{props:{value:r[0].value}}}return t&&(e=ke(t,n(a))),{c(){e&&j(e.$$.fragment),s=G()},l(r){e&&R(e.$$.fragment,r),s=G()},m(r,o){e&&A(e,r,o),k(r,s,o),l=!0},p(r,[o]){if(o&1&&t!==(t=r[1][r[0].dtype])){if(e){W();const i=e;I(i.$$.fragment,1,0,()=>{U(i,1)}),Y()}t?(e=ke(t,n(r)),j(e.$$.fragment),$(e.$$.fragment,1),A(e,s.parentNode,s)):e=null}else if(t){const i={};o&1&&(i.value=r[0].value),e.$set(i)}},i(r){l||(e&&$(e.$$.fragment,r),l=!0)},o(r){e&&I(e.$$.fragment,r),l=!1},d(r){r&&d(s),e&&U(e,r)}}}function Ot(a,e,s){let{itemFeature:l}=e;const t={int:Se,float:Se,bool:Lt,str:Pt,image:$t,video:Et,histogram:vt};return a.$$set=n=>{"itemFeature"in n&&s(0,l=n.itemFeature)},[l,t]}class me extends x{constructor(e){super(),J(this,e,Ot,Ct,Z,{itemFeature:0})}}function Be(a,e,s){const l=a.slice();return l[4]=e[s],l}function Le(a,e,s){const l=a.slice();return l[7]=e[s],l}function He(a,e,s){const l=a.slice();return l[10]=e[s],l}function Ne(a,e,s){const l=a.slice();return l[13]=e[s],l}function Pe(a){let e,s=a[13]+"",l;return{c(){e=v("th"),l=Q(s),this.h()},l(t){e=b(t,"TH",{class:!0});var n=y(e);l=X(n,s),n.forEach(d),this.h()},h(){_(e,"class","py-4 font-semibold")},m(t,n){k(t,e,n),g(e,l)},p(t,n){n&1&&s!==(s=t[13]+"")&&oe(l,s)},d(t){t&&d(e)}}}function Ce(a){let e,s,l=q(Object.values(a[4].views)),t=[];for(let r=0;r<l.length;r+=1)t[r]=Oe(He(a,l,r));const n=r=>I(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=G()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=G()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);k(r,e,o),s=!0},p(r,o){if(o&1){l=q(Object.values(r[4].views));let i;for(i=0;i<l.length;i+=1){const p=He(r,l,i);t[i]?(t[i].p(p,o),$(t[i],1)):(t[i]=Oe(p),t[i].c(),$(t[i],1),t[i].m(e.parentNode,e))}for(W(),i=l.length;i<t.length;i+=1)n(i);Y()}},i(r){if(!s){for(let o=0;o<l.length;o+=1)$(t[o]);s=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)I(t[o]);s=!1},d(r){r&&d(e),ue(t,r)}}}function Oe(a){let e,s,l,t;return s=new me({props:{itemFeature:{name:a[10].id,dtype:a[10].type,value:a[10].thumbnail}}}),{c(){e=v("td"),j(s.$$.fragment),l=B(),this.h()},l(n){e=b(n,"TD",{class:!0});var r=y(e);R(s.$$.fragment,r),l=L(r),r.forEach(d),this.h()},h(){_(e,"class","py-1 border-b border-slate-300")},m(n,r){k(n,e,r),A(s,e,null),g(e,l),t=!0},p(n,r){const o={};r&1&&(o.itemFeature={name:n[10].id,dtype:n[10].type,value:n[10].thumbnail}),s.$set(o)},i(n){t||($(s.$$.fragment,n),t=!0)},o(n){I(s.$$.fragment,n),t=!1},d(n){n&&d(e),U(s)}}}function ze(a){let e,s,l=q(Object.values(a[4].features)),t=[];for(let r=0;r<l.length;r+=1)t[r]=Fe(Le(a,l,r));const n=r=>I(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=G()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=G()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);k(r,e,o),s=!0},p(r,o){if(o&1){l=q(Object.values(r[4].features));let i;for(i=0;i<l.length;i+=1){const p=Le(r,l,i);t[i]?(t[i].p(p,o),$(t[i],1)):(t[i]=Fe(p),t[i].c(),$(t[i],1),t[i].m(e.parentNode,e))}for(W(),i=l.length;i<t.length;i+=1)n(i);Y()}},i(r){if(!s){for(let o=0;o<l.length;o+=1)$(t[o]);s=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)I(t[o]);s=!1},d(r){r&&d(e),ue(t,r)}}}function Fe(a){let e,s,l,t;return s=new me({props:{itemFeature:a[7]}}),{c(){e=v("td"),j(s.$$.fragment),l=B(),this.h()},l(n){e=b(n,"TD",{class:!0});var r=y(e);R(s.$$.fragment,r),l=L(r),r.forEach(d),this.h()},h(){_(e,"class","py-1 border-b border-slate-300")},m(n,r){k(n,e,r),A(s,e,null),g(e,l),t=!0},p(n,r){const o={};r&1&&(o.itemFeature=n[7]),s.$set(o)},i(n){t||($(s.$$.fragment,n),t=!0)},o(n){I(s.$$.fragment,n),t=!1},d(n){n&&d(e),U(s)}}}function Ve(a){let e,s,l,t,n,r,o,i,p,H,M=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 mx-auto p-1 border rounded-full border-slate-300 transition-colors hover:bg-slate-200"><title>Open</title><path d="${tt}" fill="currentcolor"></path></svg>`,S,m,E,f;l=new me({props:{itemFeature:{name:"id",dtype:"str",value:a[4].id}}}),r=new me({props:{itemFeature:{name:"split",dtype:"str",value:a[4].split}}});let u=a[4].views&&Ce(a),c=a[4].features&&ze(a);function N(){return a[2](a[4])}return{c(){e=v("tr"),s=v("td"),j(l.$$.fragment),t=B(),n=v("td"),j(r.$$.fragment),o=B(),u&&u.c(),i=B(),c&&c.c(),p=B(),H=v("td"),H.innerHTML=M,S=B(),this.h()},l(w){e=b(w,"TR",{class:!0});var D=y(e);s=b(D,"TD",{class:!0});var h=y(s);R(l.$$.fragment,h),h.forEach(d),t=L(D),n=b(D,"TD",{class:!0});var P=y(n);R(r.$$.fragment,P),P.forEach(d),o=L(D),u&&u.l(D),i=L(D),c&&c.l(D),p=L(D),H=b(D,"TD",{class:!0,"data-svelte-h":!0}),ee(H)!=="svelte-1l3qah7"&&(H.innerHTML=M),S=L(D),D.forEach(d),this.h()},h(){_(s,"class","py-1 border-b border-slate-300"),_(n,"class","py-1 border-b border-slate-300"),_(H,"class","py-1 border-b border-slate-300"),_(e,"class","cursor-pointer hover:bg-slate-100")},m(w,D){k(w,e,D),g(e,s),A(l,s,null),g(e,t),g(e,n),A(r,n,null),g(e,o),u&&u.m(e,null),g(e,i),c&&c.m(e,null),g(e,p),g(e,H),g(e,S),m=!0,E||(f=te(e,"click",N),E=!0)},p(w,D){a=w;const h={};D&1&&(h.itemFeature={name:"id",dtype:"str",value:a[4].id}),l.$set(h);const P={};D&1&&(P.itemFeature={name:"split",dtype:"str",value:a[4].split}),r.$set(P),a[4].views?u?(u.p(a,D),D&1&&$(u,1)):(u=Ce(a),u.c(),$(u,1),u.m(e,i)):u&&(W(),I(u,1,1,()=>{u=null}),Y()),a[4].features?c?(c.p(a,D),D&1&&$(c,1)):(c=ze(a),c.c(),$(c,1),c.m(e,p)):c&&(W(),I(c,1,1,()=>{c=null}),Y())},i(w){m||($(l.$$.fragment,w),$(r.$$.fragment,w),$(u),$(c),m=!0)},o(w){I(l.$$.fragment,w),I(r.$$.fragment,w),I(u),I(c),m=!1},d(w){w&&d(e),U(l),U(r),u&&u.d(),c&&c.d(),E=!1,f()}}}function zt(a){let e,s,l,t,n,r,o,i,p,H=q(je(a[0])),M=[];for(let f=0;f<H.length;f+=1)M[f]=Pe(Ne(a,H,f));let S=q(a[0]),m=[];for(let f=0;f<S.length;f+=1)m[f]=Ve(Be(a,S,f));const E=f=>I(m[f],1,1,()=>{m[f]=null});return{c(){e=v("div"),s=v("table"),l=v("thead"),t=v("tr");for(let f=0;f<M.length;f+=1)M[f].c();n=B(),r=v("th"),o=B(),i=v("tbody");for(let f=0;f<m.length;f+=1)m[f].c();this.h()},l(f){e=b(f,"DIV",{class:!0});var u=y(e);s=b(u,"TABLE",{class:!0});var c=y(s);l=b(c,"THEAD",{});var N=y(l);t=b(N,"TR",{class:!0});var w=y(t);for(let h=0;h<M.length;h+=1)M[h].l(w);n=L(w),r=b(w,"TH",{}),y(r).forEach(d),w.forEach(d),N.forEach(d),o=L(c),i=b(c,"TBODY",{});var D=y(i);for(let h=0;h<m.length;h+=1)m[h].l(D);D.forEach(d),c.forEach(d),u.forEach(d),this.h()},h(){_(t,"class","sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"),_(s,"class","table-auto z-0 w-full text-center text-base text-slate-800"),_(e,"class","h-full w-full overflow-y-auto overflow-x-auto rounded-sm bg-white border border-slate-300 shadow-sm shadow-slate-300")},m(f,u){k(f,e,u),g(e,s),g(s,l),g(l,t);for(let c=0;c<M.length;c+=1)M[c]&&M[c].m(t,null);g(t,n),g(t,r),g(s,o),g(s,i);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(i,null);p=!0},p(f,[u]){if(u&1){H=q(je(f[0]));let c;for(c=0;c<H.length;c+=1){const N=Ne(f,H,c);M[c]?M[c].p(N,u):(M[c]=Pe(N),M[c].c(),M[c].m(t,n))}for(;c<M.length;c+=1)M[c].d(1);M.length=H.length}if(u&3){S=q(f[0]);let c;for(c=0;c<S.length;c+=1){const N=Be(f,S,c);m[c]?(m[c].p(N,u),$(m[c],1)):(m[c]=Ve(N),m[c].c(),$(m[c],1),m[c].m(i,null))}for(W(),c=S.length;c<m.length;c+=1)E(c);Y()}},i(f){if(!p){for(let u=0;u<S.length;u+=1)$(m[u]);p=!0}},o(f){m=m.filter(Boolean);for(let u=0;u<m.length;u+=1)I(m[u]);p=!1},d(f){f&&d(e),ue(M,f),ue(m,f)}}}function je(a){const e=["id","split"];return a[0].views&&e.push.apply(e,Object.keys(a[0].views)),a[0].features&&e.push.apply(e,Object.keys(a[0].features)),e}function Ft(a,e,s){let{items:l}=e;const t=xe();function n(o){t("selectItem",o.id)}const r=o=>{n(o)};return a.$$set=o=>{"items"in o&&s(0,l=o.items)},[l,n,r]}class Vt extends x{constructor(e){super(),J(this,e,Ft,zt,Z,{items:0})}}function Ae(a,e,s){const l=a.slice();return l[18]=e[s],l}function Ue(a){let e,s,l,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${st}" fill="currentcolor"></path></svg>`,n,r,o=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${rt}" fill="currentcolor"></path></svg>`,i,p,H=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${nt}" fill="currentcolor"></path></svg>`,M,S,m,E,f,u,c,N,w,D,h,P=1+a[3]*(a[2]-1)+"",se,ge,ce=Math.min(a[3]*a[2],a[0].page.total)+"",he,_e,fe=a[0].page.total+"",de,ve,re,K=a[7].length>0&&jt(a);const we=[Ut,At],le=[];function $e(T,C){return T[1]?0:1}u=$e(a),c=le[u]=we[u](a);let O=a[0].page.total>a[3]&&Re(a),z=a[0].page.total>a[3]&&We(a);return{c(){e=v("div"),s=v("div"),l=v("button"),l.innerHTML=t,n=B(),r=v("button"),r.innerHTML=o,i=B(),p=v("button"),p.innerHTML=H,M=B(),S=v("div"),m=B(),E=v("div"),K&&K.c(),f=B(),c.c(),N=B(),w=v("div"),O&&O.c(),D=B(),h=v("span"),se=Q(P),ge=Q(" - "),he=Q(ce),_e=Q(` of
        `),de=Q(fe),ve=B(),z&&z.c(),this.h()},l(T){e=b(T,"DIV",{class:!0});var C=y(e);s=b(C,"DIV",{class:!0});var V=y(s);l=b(V,"BUTTON",{"data-svelte-h":!0}),ee(l)!=="svelte-1iqy7xr"&&(l.innerHTML=t),n=L(V),r=b(V,"BUTTON",{"data-svelte-h":!0}),ee(r)!=="svelte-1c33a7z"&&(r.innerHTML=o),i=L(V),p=b(V,"BUTTON",{"data-svelte-h":!0}),ee(p)!=="svelte-11xogc9"&&(p.innerHTML=H),M=L(V),S=b(V,"DIV",{class:!0}),y(S).forEach(d),m=L(V),E=b(V,"DIV",{class:!0});var Te=y(E);K&&K.l(Te),Te.forEach(d),V.forEach(d),f=L(C),c.l(C),C.forEach(d),N=L(T),w=b(T,"DIV",{class:!0});var ae=y(w);O&&O.l(ae),D=L(ae),h=b(ae,"SPAN",{class:!0});var ie=y(h);se=X(ie,P),ge=X(ie," - "),he=X(ie,ce),_e=X(ie,` of
        `),de=X(ie,fe),ie.forEach(d),ve=L(ae),z&&z.l(ae),ae.forEach(d),this.h()},h(){_(S,"class","flex-grow"),_(E,"class","relative flex items-center"),_(s,"class","py-5 h-20 flex space-x-2 items-center"),_(e,"class","w-full h-full flex flex-col"),_(h,"class","mx-4"),_(w,"class","w-full py-5 h-20 flex justify-center items-center text-slate-800")},m(T,C){k(T,e,C),g(e,s),g(s,l),g(s,n),g(s,r),g(s,i),g(s,p),g(s,M),g(s,S),g(s,m),g(s,E),K&&K.m(E,null),g(e,f),le[u].m(e,null),k(T,N,C),k(T,w,C),O&&O.m(w,null),g(w,D),g(w,h),g(h,se),g(h,ge),g(h,he),g(h,_e),g(h,de),g(w,ve),z&&z.m(w,null),re=!0},p(T,C){T[7].length>0&&K.p(T,C);let V=u;u=$e(T),u===V?le[u].p(T,C):(W(),I(le[V],1,1,()=>{le[V]=null}),Y(),c=le[u],c?c.p(T,C):(c=le[u]=we[u](T),c.c()),$(c,1),c.m(e,null)),T[0].page.total>T[3]?O?O.p(T,C):(O=Re(T),O.c(),O.m(w,D)):O&&(O.d(1),O=null),(!re||C&12)&&P!==(P=1+T[3]*(T[2]-1)+"")&&oe(se,P),(!re||C&13)&&ce!==(ce=Math.min(T[3]*T[2],T[0].page.total)+"")&&oe(he,ce),(!re||C&1)&&fe!==(fe=T[0].page.total+"")&&oe(de,fe),T[0].page.total>T[3]?z?z.p(T,C):(z=We(T),z.c(),z.m(w,null)):z&&(z.d(1),z=null)},i(T){re||($(c),re=!0)},o(T){I(c),re=!1},d(T){T&&(d(e),d(N),d(w)),K&&K.d(),le[u].d(),O&&O.d(),z&&z.d()}}}function jt(a){let e,s,l,t,n,r,o,i,p,H,M,S=q(a[7]),m=[];for(let f=0;f<S.length;f+=1)m[f]=qe(Ae(a,S,f));let E=a[5]!==""&&Ge(a);return{c(){e=v("select");for(let f=0;f<m.length;f+=1)m[f].c();s=B(),l=v("div"),t=v("input"),r=B(),o=Ee("svg"),i=Ee("path"),p=B(),E&&E.c(),this.h()},l(f){e=b(f,"SELECT",{class:!0});var u=y(e);for(let w=0;w<m.length;w+=1)m[w].l(u);u.forEach(d),s=L(f),l=b(f,"DIV",{class:!0});var c=y(l);t=b(c,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),r=L(c),o=De(c,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var N=y(o);i=De(N,"path",{d:!0,fill:!0}),y(i).forEach(d),N.forEach(d),p=L(c),E&&E.l(c),c.forEach(d),this.h()},h(){_(e,"class","h-10 px-4 mx-4 border rounded bg-slate-50 border-slate-300"),_(t,"id","sem-search-input"),_(t,"type","text"),t.value=a[5],_(t,"placeholder",n="Semantic search using "+a[6]),_(t,"class","h-10 pl-10 pr-4 rounded-full border text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300 accent-main"),_(i,"d",lt),_(i,"fill","currentcolor"),_(o,"xmlns","http://www.w3.org/2000/svg"),_(o,"height","48"),_(o,"viewBox","0 -960 960 960"),_(o,"width","48"),_(o,"class","absolute left-2 h-5 w-5 text-slate-800 pointer-events-none"),_(l,"class","relative flex items-center")},m(f,u){k(f,e,u);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(e,null);k(f,s,u),k(f,l,u),g(l,t),g(l,r),g(l,o),g(o,i),g(l,p),E&&E.m(l,null),H||(M=te(t,"change",a[14]),H=!0)},p(f,u){if(u&192){S=q(f[7]);let c;for(c=0;c<S.length;c+=1){const N=Ae(f,S,c);m[c]?m[c].p(N,u):(m[c]=qe(N),m[c].c(),m[c].m(e,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=S.length}u&32&&t.value!==f[5]&&(t.value=f[5]),u&64&&n!==(n="Semantic search using "+f[6])&&_(t,"placeholder",n),f[5]!==""?E?E.p(f,u):(E=Ge(f),E.c(),E.m(l,null)):E&&(E.d(1),E=null)},d(f){f&&(d(e),d(s),d(l)),ue(m,f),E&&E.d(),H=!1,M()}}}function qe(a){let e,s=a[18]+"",l,t;return{c(){e=v("option"),l=Q(s),t=B(),this.h()},l(n){e=b(n,"OPTION",{});var r=y(e);l=X(r,s),t=L(r),r.forEach(d),this.h()},h(){e.__value=a[6],ye(e,e.__value)},m(n,r){k(n,e,r),g(e,l),g(e,t)},p(n,r){r&64&&(e.__value=n[6],ye(e,e.__value))},d(n){n&&d(e)}}}function Ge(a){let e,s=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-5 w-5 text-slate-800"><path d="${at}" fill="currentcolor"></path></svg>`,l,t;return{c(){e=v("button"),e.innerHTML=s,this.h()},l(n){e=b(n,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-wv2rtu"&&(e.innerHTML=s),this.h()},h(){_(e,"class","absolute right-2 p-1 rounded-full transition-colors hover:bg-slate-300")},m(n,r){k(n,e,r),l||(t=te(e,"click",a[9]),l=!0)},p:F,d(n){n&&d(e),l=!1,t()}}}function At(a){let e,s;return e=new Vt({props:{items:a[0].page.items}}),e.$on("selectItem",a[15]),{c(){j(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,t){A(e,l,t),s=!0},p(l,t){const n={};t&1&&(n.items=l[0].page.items),e.$set(n)},i(l){s||($(e.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),s=!1},d(l){U(e,l)}}}function Ut(a){let e,s,l;return s=new dt({props:{class:"animate-spin"}}),{c(){e=v("div"),j(s.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var n=y(e);R(s.$$.fragment,n),n.forEach(d),this.h()},h(){_(e,"class","flex-grow flex justify-center items-center")},m(t,n){k(t,e,n),A(s,e,null),l=!0},p:F,i(t){l||($(s.$$.fragment,t),l=!0)},o(t){I(s.$$.fragment,t),l=!1},d(t){t&&d(e),U(s)}}}function Re(a){let e,s=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${it}" fill="currentcolor"></path></svg>`,l,t,n=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${ot}" fill="currentcolor"></path></svg>`,r,o;return{c(){e=v("button"),e.innerHTML=s,l=B(),t=v("button"),t.innerHTML=n},l(i){e=b(i,"BUTTON",{"data-svelte-h":!0}),ee(e)!=="svelte-17z8q67"&&(e.innerHTML=s),l=L(i),t=b(i,"BUTTON",{"data-svelte-h":!0}),ee(t)!=="svelte-1enm2jv"&&(t.innerHTML=n)},m(i,p){k(i,e,p),k(i,l,p),k(i,t,p),r||(o=[te(e,"click",a[10]),te(t,"click",a[11])],r=!0)},p:F,d(i){i&&(d(e),d(l),d(t)),r=!1,be(o)}}}function We(a){let e,s=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${ct}" fill="currentcolor"></path></svg>`,l,t,n=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${ft}" fill="currentcolor"></path></svg>`,r,o;return{c(){e=v("button"),e.innerHTML=s,l=B(),t=v("button"),t.innerHTML=n},l(i){e=b(i,"BUTTON",{"data-svelte-h":!0}),ee(e)!=="svelte-u7plff"&&(e.innerHTML=s),l=L(i),t=b(i,"BUTTON",{"data-svelte-h":!0}),ee(t)!=="svelte-kuq99f"&&(t.innerHTML=n)},m(i,p){k(i,e,p),k(i,l,p),k(i,t,p),r||(o=[te(e,"click",a[12]),te(t,"click",a[13])],r=!0)},p:F,d(i){i&&(d(e),d(l),d(t)),r=!1,be(o)}}}function Ye(a){let e,s;return e=new ut({props:{message:"Error while retrieving dataset items.",details:"Please look at the application logs for more information, and report this issue if the error persists."}}),e.$on("confirm",a[16]),{c(){j(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,t){A(e,l,t),s=!0},p:F,i(l){s||($(e.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),s=!1},d(l){U(e,l)}}}function qt(a){let e,s,l,t,n=a[0].page&&Ue(a),r=a[4]&&Ye(a),o=Gt;return{c(){e=v("div"),n&&n.c(),s=B(),r&&r.c(),l=B(),this.h()},l(i){e=b(i,"DIV",{class:!0});var p=y(e);n&&n.l(p),s=L(p),r&&r.l(p),l=L(p),p.forEach(d),this.h()},h(){_(e,"class","w-full px-20 bg-slate-50 flex flex-col text-slate-800 min-h-[calc(100vh-80px)]")},m(i,p){k(i,e,p),n&&n.m(e,null),g(e,s),r&&r.m(e,null),g(e,l),t=!0},p(i,[p]){i[0].page?n?(n.p(i,p),p&1&&$(n,1)):(n=Ue(i),n.c(),$(n,1),n.m(e,s)):n&&(W(),I(n,1,1,()=>{n=null}),Y()),i[4]?r?(r.p(i,p),p&16&&$(r,1)):(r=Ye(i),r.c(),$(r,1),r.m(e,l)):r&&(W(),I(r,1,1,()=>{r=null}),Y())},i(i){t||($(n),$(r),$(o),t=!0)},o(i){I(n),I(r),I(o),t=!1},d(i){i&&d(e),n&&n.d(),r&&r.d()}}}let Gt=!1;function Rt(a,e,s){let{selectedDataset:l}=e,t=!1,n,r;ne.subscribe(h=>{s(2,n=(h==null?void 0:h.currentPage)||Ie),s(3,r=(h==null?void 0:h.pageSize)||Me)});let o=!1,i="",p;const H=[];if("embeddings"in l.tables)for(const h of l.tables.embeddings)h.type=="search"&&(p||(p=h.source),H.push(h.source));const M=xe();function S(h){M("selectItem",h)}function m(){document.getElementById("sem-search-input").value="",N()}function E(){n>1&&(s(1,t=!0),ne.update(h=>({...h,pageSize:(h==null?void 0:h.pageSize)||r,currentPage:1})))}function f(){n>1&&(s(1,t=!0),ne.update(h=>({...h,pageSize:(h==null?void 0:h.pageSize)||r,currentPage:n-1})))}function u(){var h;(((h=l.page)==null?void 0:h.total)||1)>n*r&&(s(1,t=!0),ne.update(P=>({...P,pageSize:(P==null?void 0:P.pageSize)||r,currentPage:n+1})))}function c(){var h;(((h=l.page)==null?void 0:h.total)||1)>n*r&&(s(1,t=!0),ne.update(P=>{var se;return{...P,pageSize:(P==null?void 0:P.pageSize)||r,currentPage:Math.ceil((((se=l.page)==null?void 0:se.total)||1)/r)}}))}function N(){s(5,i=document.getElementById("sem-search-input").value);let h={model:p,search:i};s(1,t=!0),ne.update(P=>({...P,currentPage:1,query:h}))}Ke(()=>{s(5,i=""),ne.update(h=>({...h,pageSize:Me,currentPage:Ie}))});const w=h=>S(h.detail),D=()=>s(4,o=!1);return a.$$set=h=>{"selectedDataset"in h&&s(0,l=h.selectedDataset)},a.$$.update=()=>{var h;a.$$.dirty&1&&(h=l.page)!=null&&h.items&&s(1,t=!1)},[l,t,n,r,o,i,p,H,S,m,E,f,u,c,N,w,D]}class Wt extends x{constructor(e){super(),J(this,e,Rt,qt,Z,{selectedDataset:0})}}function Ze(a){let e,s,l;return s=new Wt({props:{selectedDataset:a[0]}}),s.$on("selectItem",a[2]),{c(){e=v("div"),j(s.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var n=y(e);R(s.$$.fragment,n),n.forEach(d),this.h()},h(){_(e,"class","pt-20 h-1 min-h-screen")},m(t,n){k(t,e,n),A(s,e,null),l=!0},p(t,n){const r={};n&1&&(r.selectedDataset=t[0]),s.$set(r)},i(t){l||($(s.$$.fragment,t),l=!0)},o(t){I(s.$$.fragment,t),l=!1},d(t){t&&d(e),U(s)}}}function Yt(a){var t;let e,s,l=((t=a[0])==null?void 0:t.page)&&Ze(a);return{c(){l&&l.c(),e=G()},l(n){l&&l.l(n),e=G()},m(n,r){l&&l.m(n,r),k(n,e,r),s=!0},p(n,[r]){var o;(o=n[0])!=null&&o.page?l?(l.p(n,r),r&1&&$(l,1)):(l=Ze(n),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(W(),I(l,1,1,()=>{l=null}),Y())},i(n){s||($(l),s=!0)},o(n){I(l),s=!1},d(n){n&&d(e),l&&l.d(n)}}}function Zt(a,e,s){let l;const t=async r=>{await Xe(`/${l.name}/dataset/${r.detail}`)},n=r=>t(r);{let r;Qe.subscribe(o=>r=o.params.dataset),et.subscribe(o=>{const i=o==null?void 0:o.find(p=>p.name===r);i&&s(0,l=i)})}return[l,t,n]}class al extends x{constructor(e){super(),J(this,e,Zt,Yt,Z,{})}}export{al as component,nl as universal};
