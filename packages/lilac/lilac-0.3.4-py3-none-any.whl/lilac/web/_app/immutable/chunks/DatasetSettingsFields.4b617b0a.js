import{S as Le,i as Be,s as He,L as we,Q as J,R as x,m as g,h as c,n as b,T as Pe,b as A,U as h,M as Je,V as Z,W as Re,X as Ae,q as te,r as le,u as Ie,k as E,y as ae,a as ie,l as I,z as de,c as ne,_ as q,A as oe,Y as Qe,a3 as Ke,a5 as nt,g as w,d as y,B as ue,a4 as at,H as Xe,I as Tt,x as _t,v as Ve,f as Te,ai as Ti,w as ft,J as wt,K as pt,e as et,C as Ci,D as Si,E as Di,F as Oi,aa as Ge,o as Jl,G as xl,a6 as Pi,Z as Ct,a9 as $l,$ as Ht,af as Yt,a0 as Kt}from"./index.cbae6e09.js";import{M as Ft,e as Ze,a as St,Z as gt,br as Ri,bh as Ai,a4 as Dt,bs as ei,bt as ti,ay as li,a2 as ht,an as st,bu as ct,bo as zi,ah as it,bv as ii,aA as Li,ab as mt,d as kt,a7 as Bi,m as Hi,a5 as ni,a6 as ri,ak as si,bw as Ni,aj as ai,bx as Zt,aw as Fi,_ as Qt,b9 as ji,aC as Nt,by as qi,a0 as Mt,bz as Ui,af as Yi,b8 as Ki,bA as Zi,B as Wt,at as Qi,ai as Wi,aH as oi,aQ as ui,bB as fi,S as Gi,b as ci,T as Xi,aY as Ji,aU as Gt}from"./Modal.53114f84.js";import{g as di,s as Xt}from"./notificationsStore.8838797f.js";import{T as xi}from"./TrashCan.39105716.js";import{g as $i}from"./settingsStore.6dcf183e.js";import{C as en,a as tn}from"./ChevronUp.ef2a0929.js";import{S as ln}from"./Search.2e31d599.js";import{_ as nn}from"./preload-helper.a4192956.js";import{d as rn}from"./paths.a0c74a6d.js";import{c as sn,g as an}from"./spanHighlight.ca9dbee3.js";import{I as on}from"./ItemMetadata.1f95100e.js";import{C as un}from"./ComboBox.e4c1ae32.js";function Jt(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function fn(i){let e,t,l=i[1]&&Jt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Jt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function cn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class dn extends Le{constructor(e){super(),Be(this,e,cn,fn,He,{size:0,title:1})}}function xt(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function hn(i){let e,t,l=i[1]&&xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=xt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function mn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class _n extends Le{constructor(e){super(),Be(this,e,mn,hn,He,{size:0,title:1})}}function $t(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function gn(i){let e,t,l=i[1]&&$t(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=$t(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function bn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class vn extends Le{constructor(e){super(),Be(this,e,bn,gn,He,{size:0,title:1})}}function el(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function wn(i){let e,t,l,n=i[1]&&el(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=we(r,a[o]);return{c(){e=J("svg"),n&&n.c(),t=J("path"),l=J("path"),this.h()},l(o){e=x(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);n&&n.l(s),t=x(s,"path",{d:!0}),g(t).forEach(c),l=x(s,"path",{d:!0}),g(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),b(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),Pe(e,r)},m(o,s){A(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=el(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),Pe(e,r=Je(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Z,o:Z,d(o){o&&c(e),n&&n.d()}}}function pn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class kn extends Le{constructor(e){super(),Be(this,e,pn,wn,He,{size:0,title:1})}}function tl(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function yn(i){let e,t,l=i[1]&&tl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=tl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function En(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class In extends Le{constructor(e){super(),Be(this,e,En,yn,He,{size:0,title:1})}}function ll(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Mn(i){let e,t,l=i[1]&&ll(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=ll(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function Vn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Tn extends Le{constructor(e){super(),Be(this,e,Vn,Mn,He,{size:0,title:1})}}function il(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Cn(i){let e,t,l,n,a,r,o=i[1]&&il(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let f=0;f<s.length;f+=1)u=we(u,s[f]);return{c(){e=J("svg"),o&&o.c(),t=J("circle"),l=J("circle"),n=J("circle"),a=J("path"),r=J("path"),this.h()},l(f){e=x(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=g(e);o&&o.l(d),t=x(d,"circle",{cx:!0,cy:!0,r:!0}),g(t).forEach(c),l=x(d,"circle",{cx:!0,cy:!0,r:!0}),g(l).forEach(c),n=x(d,"circle",{cx:!0,cy:!0,r:!0}),g(n).forEach(c),a=x(d,"path",{d:!0}),g(a).forEach(c),r=x(d,"path",{d:!0}),g(r).forEach(c),d.forEach(c),this.h()},h(){b(t,"cx","7"),b(t,"cy","7"),b(t,"r","1"),b(l,"cx","7"),b(l,"cy","15"),b(l,"r","1"),b(n,"cx","7"),b(n,"cy","23"),b(n,"r","1"),b(a,"d","M12,26H4V20h8V18H4V12H22V4a2,2,0,0,0-2-2H4A2,2,0,0,0,2,4V26a2,2,0,0,0,2,2h8ZM4,4H20v6H4Z"),b(r,"d","M28,17v2.4131A6.996,6.996,0,1,0,22,30V28a5,5,0,1,1,4.5762-7H24v2h6V17Z"),Pe(e,u)},m(f,d){A(f,e,d),o&&o.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r)},p(f,[d]){f[1]?o?o.p(f,d):(o=il(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),Pe(e,u=Je(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:f[0]},d&1&&{height:f[0]},d&4&&f[2],d&8&&f[3]]))},i:Z,o:Z,d(f){f&&c(e),o&&o.d()}}}function Sn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Dn extends Le{constructor(e){super(),Be(this,e,Sn,Cn,He,{size:0,title:1})}}function nl(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function On(i){let e,t,l,n,a,r,o,s=i[1]&&nl(i),u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],f={};for(let d=0;d<u.length;d+=1)f=we(f,u[d]);return{c(){e=J("svg"),s&&s.c(),t=J("circle"),l=J("path"),n=J("circle"),a=J("circle"),r=J("circle"),o=J("path"),this.h()},l(d){e=x(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var _=g(e);s&&s.l(_),t=x(_,"circle",{cx:!0,cy:!0,r:!0}),g(t).forEach(c),l=x(_,"path",{d:!0}),g(l).forEach(c),n=x(_,"circle",{cx:!0,cy:!0,r:!0}),g(n).forEach(c),a=x(_,"circle",{cx:!0,cy:!0,r:!0}),g(a).forEach(c),r=x(_,"circle",{cx:!0,cy:!0,r:!0}),g(r).forEach(c),o=x(_,"path",{d:!0}),g(o).forEach(c),_.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769,23.4785A8.64,8.64,0,0,0,22,18a8.64,8.64,0,0,0-7.7769,5.4785L14,24l.2231.5215A8.64,8.64,0,0,0,22,30a8.64,8.64,0,0,0,7.7769-5.4785L30,24ZM22,28a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,22,28Z"),b(n,"cx","8"),b(n,"cy","8"),b(n,"r","1"),b(a,"cx","8"),b(a,"cy","16"),b(a,"r","1"),b(r,"cx","8"),b(r,"cy","24"),b(r,"r","1"),b(o,"d","M5,21h7V19H5V13H21v3h2V5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2h7V27H5ZM5,5H21v6H5Z"),Pe(e,f)},m(d,_){A(d,e,_),s&&s.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r),h(e,o)},p(d,[_]){d[1]?s?s.p(d,_):(s=nl(d),s.c(),s.m(e,t)):s&&(s.d(1),s=null),Pe(e,f=Je(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},_&1&&{width:d[0]},_&1&&{height:d[0]},_&4&&d[2],_&8&&d[3]]))},i:Z,o:Z,d(d){d&&c(e),s&&s.d()}}}function Pn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Rn extends Le{constructor(e){super(),Be(this,e,Pn,On,He,{size:0,title:1})}}function rl(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function An(i){let e,t,l,n,a=i[1]&&rl(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let s=0;s<r.length;s+=1)o=we(o,r[s]);return{c(){e=J("svg"),a&&a.c(),t=J("circle"),l=J("path"),n=J("path"),this.h()},l(s){e=x(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=g(e);a&&a.l(u),t=x(u,"circle",{cx:!0,cy:!0,r:!0}),g(t).forEach(c),l=x(u,"path",{d:!0}),g(l).forEach(c),n=x(u,"path",{d:!0}),g(n).forEach(c),u.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),b(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),Pe(e,o)},m(s,u){A(s,e,u),a&&a.m(e,null),h(e,t),h(e,l),h(e,n)},p(s,[u]){s[1]?a?a.p(s,u):(a=rl(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),Pe(e,o=Je(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:s[0]},u&1&&{height:s[0]},u&4&&s[2],u&8&&s[3]]))},i:Z,o:Z,d(s){s&&c(e),a&&a.d()}}}function zn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Ln extends Le{constructor(e){super(),Be(this,e,zn,An,He,{size:0,title:1})}}function sl(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Bn(i){let e,t,l=i[1]&&sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=sl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function Hn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Nn extends Le{constructor(e){super(),Be(this,e,Hn,Bn,He,{size:0,title:1})}}function al(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Fn(i){let e,t,l,n=i[1]&&al(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=we(r,a[o]);return{c(){e=J("svg"),n&&n.c(),t=J("path"),l=J("path"),this.h()},l(o){e=x(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);n&&n.l(s),t=x(s,"path",{d:!0}),g(t).forEach(c),l=x(s,"path",{d:!0}),g(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),b(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),Pe(e,r)},m(o,s){A(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=al(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),Pe(e,r=Je(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Z,o:Z,d(o){o&&c(e),n&&n.d()}}}function jn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class qn extends Le{constructor(e){super(),Be(this,e,jn,Fn,He,{size:0,title:1})}}function ol(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Un(i){let e,t,l=i[1]&&ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=ol(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function Yn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Kn extends Le{constructor(e){super(),Be(this,e,Yn,Un,He,{size:0,title:1})}}function ul(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Zn(i){let e,t,l=i[1]&&ul(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=ul(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function Qn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Wn extends Le{constructor(e){super(),Be(this,e,Qn,Zn,He,{size:0,title:1})}}function fl(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Gn(i){let e,t,l,n=i[1]&&fl(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=we(r,a[o]);return{c(){e=J("svg"),n&&n.c(),t=J("path"),l=J("path"),this.h()},l(o){e=x(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);n&&n.l(s),t=x(s,"path",{d:!0}),g(t).forEach(c),l=x(s,"path",{d:!0}),g(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),b(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),Pe(e,r)},m(o,s){A(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=fl(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),Pe(e,r=Je(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Z,o:Z,d(o){o&&c(e),n&&n.d()}}}function Xn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class hi extends Le{constructor(e){super(),Be(this,e,Xn,Gn,He,{size:0,title:1})}}function cl(i){let e,t;return{c(){e=J("title"),t=te(i[1])},l(l){e=x(l,"title",{});var n=g(e);t=le(n,i[1]),n.forEach(c)},m(l,n){A(l,e,n),h(e,t)},p(l,n){n&2&&Ie(t,l[1])},d(l){l&&c(e)}}}function Jn(i){let e,t,l=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=we(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=g(e);l&&l.l(o),t=x(o,"path",{d:!0}),g(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),Pe(e,a)},m(r,o){A(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=cl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Pe(e,a=Je(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function xn(i,e,t){let l,n;const a=["size","title"];let r=Re(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=we(we({},e),Ae(u))),t(3,r=Re(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class mi extends Le{constructor(e){super(),Be(this,e,xn,Jn,He,{size:0,title:1})}}function $n(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=te("Delete "),l=E("span"),a=te(n),r=te(`
    rows?`),this.h()},l(s){e=I(s,"P",{});var u=g(e);t=le(u,"Delete "),l=I(u,"SPAN",{class:!0});var f=g(l);a=le(f,n),f.forEach(c),r=le(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){A(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Ie(a,n)},d(s){s&&c(e)}}}function er(i){let e,t,l,n,a,r,o,s,u;return l=new xi({}),r=new Ft({props:{size:"xs",open:i[1]&&!i[4],modalHeading:"Delete rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[$n]},$$scope:{ctx:i}}}),r.$on("submit",i[13]),r.$on("click:button--secondary",i[14]),r.$on("close",i[15]),{c(){e=E("div"),t=E("button"),ae(l.$$.fragment),a=ie(),ae(r.$$.fragment),this.h()},l(f){e=I(f,"DIV",{});var d=g(e);t=I(d,"BUTTON",{class:!0});var _=g(t);de(l.$$.fragment,_),_.forEach(c),d.forEach(c),a=ne(f),de(r.$$.fragment,f),this.h()},h(){t.disabled=i[4],b(t,"class","h-8 rounded border border-gray-300 bg-white hover:border-red-500 hover:bg-transparent"),q(t,"opacity-30",i[4])},m(f,d){A(f,e,d),h(e,t),oe(l,t,null),A(f,a,d),oe(r,f,d),o=!0,s||(u=[Qe(t,"click",i[12]),Ke(n=Ze.call(null,e,{text:i[3]?i[2]!=null&&i[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."}))],s=!0)},p(f,[d]){(!o||d&16)&&(t.disabled=f[4]),(!o||d&16)&&q(t,"opacity-30",f[4]),n&&nt(n.update)&&d&12&&n.update.call(null,{text:f[3]?f[2]!=null&&f[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."});const _={};d&18&&(_.open=f[1]&&!f[4]),d&524289&&(_.$$scope={dirty:d,ctx:f}),r.$set(_)},i(f){o||(w(l.$$.fragment,f),w(r.$$.fragment,f),o=!0)},o(f){y(l.$$.fragment,f),y(r.$$.fragment,f),o=!1},d(f){f&&c(e),ue(l),f&&c(a),ue(r,f),s=!1,at(u)}}}function tr(i,e,t){let l,n,a,r,o,{rowIds:s=void 0}=e,{searches:u=void 0}=e,{filters:f=void 0}=e,{numRows:d=void 0}=e,{modalOpen:_=!1}=e;const m=St();Xe(i,m,p=>t(11,o=p));const O=Tt(),N=gt();Xe(i,N,p=>t(16,a=p));const B=Ri();Xe(i,B,p=>t(17,r=p));function S(){r.mutate([a.namespace,a.datasetName,{row_ids:s,searches:u,filters:f}],{onSuccess:()=>{O("deleted"),t(1,_=!1),close()}})}const M=()=>{n||t(1,_=!0)},C=()=>S(),D=()=>{t(1,_=!1)},k=()=>t(1,_=!1);return i.$$set=p=>{"rowIds"in p&&t(2,s=p.rowIds),"searches"in p&&t(9,u=p.searches),"filters"in p&&t(10,f=p.filters),"numRows"in p&&t(0,d=p.numRows),"modalOpen"in p&&t(1,_=p.modalOpen)},i.$$.update=()=>{var p;i.$$.dirty&2048&&t(3,l=(p=o.data)==null?void 0:p.access.dataset.delete_rows),i.$$.dirty&5&&d==null&&s!=null&&t(0,d=s.length),i.$$.dirty&1548&&t(4,n=!l||s==null&&u==null&&f==null)},[d,_,s,l,n,m,N,B,S,u,f,o,M,C,D,k]}class lr extends Le{constructor(e){super(),Be(this,e,tr,er,He,{rowIds:2,searches:9,filters:10,numRows:0,modalOpen:1})}}function ir(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function dl(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const nr=i=>({item:i&33554434,inputText:i&1}),hl=i=>({item:i[26],inputText:i[0]});function ml(i){let e,t;return e=new Ai({}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function _l(i){let e,t,l,n,a,r,o,s;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[ar,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new un({props:f}),i[20](t),ft.push(()=>wt(t,"value",u)),t.$on("select",i[16]),{c(){e=E("div"),ae(t.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var _=g(e);de(t.$$.fragment,_),_.forEach(c),this.h()},h(){b(e,"class","z-50 w-60"),q(e,"absolute",i[12]),q(e,"hidden",!i[14])},m(d,_){A(d,e,_),oe(t,e,null),r=!0,o||(s=[Ke(n=sn.call(null,e,i[22])),Ke(a=ir.call(null,e,{disable:!i[12]}))],o=!0)},p(d,_){const m={};_&16384&&(m.open=d[14]),_&2&&(m.items=d[1]),_&64&&(m.shouldFilterItem=d[6]?d[6]:void 0),_&32&&(m.placeholder=d[5]),_&42074115&&(m.$$scope={dirty:_,ctx:d}),!l&&_&1&&(l=!0,m.value=d[0],pt(()=>l=!1)),t.$set(m),n&&nt(n.update)&&_&24576&&n.update.call(null,d[22]),a&&nt(a.update)&&_&4096&&a.update.call(null,{disable:!d[12]}),(!r||_&4096)&&q(e,"absolute",d[12]),(!r||_&16384)&&q(e,"hidden",!d[14])},i(d){r||(w(t.$$.fragment,d),r=!0)},o(d){y(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),ue(t),o=!1,at(s)}}}function rr(i){let e,t=i[26].text+"",l;return{c(){e=E("div"),l=te(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=g(e);l=le(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){A(n,e,a),h(e,l)},p(n,a){a&33554434&&t!==(t=n[26].text+"")&&Ie(l,t)},i:Z,o:Z,d(n){n&&c(e)}}}function sr(i){let e;const t=i[18].item,l=Ci(t,i,i[23],hl);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&41943043)&&Si(l,t,n,n[23],e?Oi(t,n[23],a,nr):Di(n[23]),hl)},i(n){e||(w(l,n),e=!0)},o(n){y(l,n),e=!1},d(n){l&&l.d(n)}}}function ar(i){dl(i);let e,t,l,n;const a=[sr,rr],r=[];function o(s,u){return s[17].item?0:s[26]?1:-1}return~(e=o(i))&&(t=r[e]=a[e](i)),{c(){t&&t.c(),l=et()},l(s){t&&t.l(s),l=et()},m(s,u){~e&&r[e].m(s,u),A(s,l,u),n=!0},p(s,u){dl(s);let f=e;e=o(s),e===f?~e&&r[e].p(s,u):(t&&(Ve(),y(r[f],1,1,()=>{r[f]=null}),Te()),~e?(t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l)):t=null)},i(s){n||(w(t),n=!0)},o(s){y(t),n=!1},d(s){~e&&r[e].d(s),s&&c(l)}}}function or(i){let e,t,l,n,a,r,o,s,u,f,d,_,m,O=i[7]&&ml();var N=i[2];function B(M){return{}}N&&(a=_t(N,B()));let S=i[14]&&_l(i);return{c(){e=E("div"),t=E("div"),l=E("button"),O&&O.c(),n=ie(),a&&ae(a.$$.fragment),r=ie(),o=te(i[3]),f=ie(),S&&S.c(),this.h()},l(M){e=I(M,"DIV",{class:!0});var C=g(e);t=I(C,"DIV",{});var D=g(t);l=I(D,"BUTTON",{class:!0});var k=g(l);O&&O.l(k),n=ne(k),a&&de(a.$$.fragment,k),r=ne(k),o=le(k,i[3]),k.forEach(c),D.forEach(c),f=ne(C),S&&S.l(C),C.forEach(c),this.h()},h(){l.disabled=i[9],b(l,"class","flex items-center gap-x-2 bg-white"),q(l,"opacity-30",i[9]),q(l,"text-red-600",i[11]),q(l,"border",i[4]),q(l,"border-gray-300",i[4]),q(l,"hidden",i[14]),b(e,"class","relative h-8")},m(M,C){A(M,e,C),h(e,t),h(t,l),O&&O.m(l,null),h(l,n),a&&oe(a,l,null),h(l,r),h(l,o),h(e,f),S&&S.m(e,null),d=!0,_||(m=[Qe(l,"click",i[15]),Ke(s=Ze.call(null,l,{text:i[8]})),Ke(u=Ze.call(null,t,{text:i[9]?i[10]:""}))],_=!0)},p(M,[C]){if(M[7]?O?C&128&&w(O,1):(O=ml(),O.c(),w(O,1),O.m(l,n)):O&&(Ve(),y(O,1,1,()=>{O=null}),Te()),C&4&&N!==(N=M[2])){if(a){Ve();const D=a;y(D.$$.fragment,1,0,()=>{ue(D,1)}),Te()}N?(a=_t(N,B()),ae(a.$$.fragment),w(a.$$.fragment,1),oe(a,l,r)):a=null}(!d||C&8)&&Ie(o,M[3]),(!d||C&512)&&(l.disabled=M[9]),s&&nt(s.update)&&C&256&&s.update.call(null,{text:M[8]}),(!d||C&512)&&q(l,"opacity-30",M[9]),(!d||C&2048)&&q(l,"text-red-600",M[11]),(!d||C&16)&&q(l,"border",M[4]),(!d||C&16)&&q(l,"border-gray-300",M[4]),(!d||C&16384)&&q(l,"hidden",M[14]),u&&nt(u.update)&&C&1536&&u.update.call(null,{text:M[9]?M[10]:""}),M[14]?S?(S.p(M,C),C&16384&&w(S,1)):(S=_l(M),S.c(),w(S,1),S.m(e,null)):S&&(Ve(),y(S,1,1,()=>{S=null}),Te())},i(M){d||(w(O),a&&w(a.$$.fragment,M),w(S),d=!0)},o(M){y(O),a&&y(a.$$.fragment,M),y(S),d=!1},d(M){M&&c(e),O&&O.d(),a&&ue(a),S&&S.d(),_=!1,at(m)}}}function ur(i,e,t){let{$$slots:l={},$$scope:n}=e;const a=Ti(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:s=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:_=void 0}=e,{isLoading:m=!1}=e,{helperText:O=""}=e,{disabled:N=!1}=e,{disabledMessage:B=""}=e,{redText:S=!1}=e,{hoist:M=!1}=e;const C=Tt();let D,k=!1;function p(){t(14,k=!0),requestAnimationFrame(()=>{D.$set({open:!0})})}function Y(H){C("select",H.detail.selectedItem),D.clear(),t(14,k=!1)}const ce=(H,fe)=>fe.id===H.id;function re(H){ft[H?"unshift":"push"](()=>{D=H,t(13,D)})}function $(H){f=H,t(0,f)}const ee=()=>{D.clear(),t(14,k=!1)};return i.$$set=H=>{"items"in H&&t(1,r=H.items),"buttonIcon"in H&&t(2,o=H.buttonIcon),"buttonText"in H&&t(3,s=H.buttonText),"buttonOutline"in H&&t(4,u=H.buttonOutline),"comboBoxText"in H&&t(0,f=H.comboBoxText),"comboBoxPlaceholder"in H&&t(5,d=H.comboBoxPlaceholder),"shouldFilterItem"in H&&t(6,_=H.shouldFilterItem),"isLoading"in H&&t(7,m=H.isLoading),"helperText"in H&&t(8,O=H.helperText),"disabled"in H&&t(9,N=H.disabled),"disabledMessage"in H&&t(10,B=H.disabledMessage),"redText"in H&&t(11,S=H.redText),"hoist"in H&&t(12,M=H.hoist),"$$scope"in H&&t(23,n=H.$$scope)},[f,r,o,s,u,d,_,m,O,N,B,S,M,D,k,p,Y,a,l,ce,re,$,ee,n]}class jt extends Le{constructor(e){super(),Be(this,e,ur,or,He,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function fr(i){let e,t=i[38].text+"",l;return{c(){e=E("div"),l=te(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=g(e);l=le(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){A(n,e,a),h(e,l)},p(n,a){a[1]&128&&t!==(t=n[38].text+"")&&Ie(l,t)},i:Z,o:Z,d(n){n&&c(e)}}}function cr(i){let e,t,l,n,a,r=i[37]+"",o,s;return t=new hi({}),{c(){e=E("div"),ae(t.$$.fragment),l=ie(),n=E("div"),a=te("New label: "),o=te(r),this.h()},l(u){e=I(u,"DIV",{class:!0});var f=g(e);de(t.$$.fragment,f),l=ne(f),n=I(f,"DIV",{class:!0});var d=g(n);a=le(d,"New label: "),o=le(d,r),d.forEach(c),f.forEach(c),this.h()},h(){b(n,"class","ml-2"),b(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){A(u,e,f),oe(t,e,null),h(e,l),h(e,n),h(n,a),h(n,o),s=!0},p(u,f){(!s||f[1]&64)&&r!==(r=u[37]+"")&&Ie(o,r)},i(u){s||(w(t.$$.fragment,u),s=!0)},o(u){y(t.$$.fragment,u),s=!1},d(u){u&&c(e),ue(t)}}}function dr(i){let e;return{c(){e=E("div")},l(t){e=I(t,"DIV",{}),g(e).forEach(c)},m(t,l){A(t,e,l)},p:Z,i:Z,o:Z,d(t){t&&c(e)}}}function hr(i){let e,t,l,n;const a=[dr,cr,fr],r=[];function o(s,u){return s[38]==null?0:s[38].id==="new-label"?1:2}return t=o(i),l=r[t]=a[t](i),{c(){e=E("div"),l.c(),this.h()},l(s){e=I(s,"DIV",{slot:!0});var u=g(e);l.l(u),u.forEach(c),this.h()},h(){b(e,"slot","item")},m(s,u){A(s,e,u),r[t].m(e,null),n=!0},p(s,u){let f=t;t=o(s),t===f?r[t].p(s,u):(Ve(),y(r[f],1,1,()=>{r[f]=null}),Te(),l=r[t],l?l.p(s,u):(l=r[t]=a[t](s),l.c()),w(l,1),l.m(e,null))},i(s){n||(w(l),n=!0)},o(s){y(l),n=!1},d(s){s&&c(e),r[t].d()}}}function mr(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=te("Add label "),t=E("span"),l=te(i[8]),n=te(" to "),r=te(a),o=te(`
      rows?`),this.h()},l(u){e=le(u,"Add label "),t=I(u,"SPAN",{class:!0});var f=g(t);l=le(f,i[8]),f.forEach(c),n=le(u," to "),r=le(u,a),o=le(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){A(u,e,f),A(u,t,f),h(t,l),A(u,n,f),A(u,r,f),A(u,o,f)},p(u,f){var d;f[0]&256&&Ie(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Ie(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function _r(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=te("Remove label "),t=E("span"),l=te(i[8]),n=te(" from "),r=te(a),o=te(`
      rows?`),this.h()},l(u){e=le(u,"Remove label "),t=I(u,"SPAN",{class:!0});var f=g(t);l=le(f,i[8]),f.forEach(c),n=le(u," from "),r=le(u,a),o=le(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){A(u,e,f),A(u,t,f),h(t,l),A(u,n,f),A(u,r,f),A(u,o,f)},p(u,f){var d;f[0]&256&&Ie(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Ie(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function gr(i){let e;function t(a,r){return a[4]?_r:mr}let l=t(i),n=l(i);return{c(){e=E("p"),n.c()},l(a){e=I(a,"P",{});var r=g(e);n.l(r),r.forEach(c)},m(a,r){A(a,e,r),n.m(e,null)},p(a,r){l===(l=t(a))&&n?n.p(a,r):(n.d(1),n=l(a),n&&(n.c(),n.m(e,null)))},d(a){a&&c(e),n.d()}}}function br(i){let e,t,l,n,a;function r(s){i[32](s)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:vr,$$slots:{item:[hr,({inputText:s,item:u})=>({37:s,38:u}),({inputText:s,item:u})=>[0,(s?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new jt({props:o}),ft.push(()=>wt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new Ft({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[gr]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){nt(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){ae(e.$$.fragment),l=ie(),ae(n.$$.fragment)},l(s){de(e.$$.fragment,s),l=ne(s),de(n.$$.fragment,s)},m(s,u){oe(e,s,u),A(s,l,u),oe(n,s,u),a=!0},p(s,u){i=s;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],pt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(s){a||(w(e.$$.fragment,s),w(n.$$.fragment,s),a=!0)},o(s){y(e.$$.fragment,s),y(n.$$.fragment,s),a=!1},d(s){ue(e,s),s&&c(l),ue(n,s)}}}const vr=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function wr(i,e,t){let l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M=Z,C=()=>(M(),M=Ge(O,R=>t(27,S=R)),O),D,k=Z,p=()=>(k(),k=Ge(m,R=>t(28,D=R)),m),Y,ce=Z,re=()=>(ce(),ce=Ge(l,R=>t(29,Y=R)),l),$,ee;i.$$.on_destroy.push(()=>M()),i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>ce());let{labelsQuery:H}=e,{hideLabels:fe=void 0}=e,{helperText:U="Add label"}=e,{disabled:P=!1}=e,{disabledMessage:V="User does not have access to add labels."}=e,{icon:F}=e,{remove:W=!1}=e,{totalNumRows:ye=void 0}=e;const se=Tt();let Se="",Q=null;const G=di(),be=gt();Xe(i,be,R=>t(31,ee=R));const X=St();Xe(i,X,R=>t(30,$=R));function L(){if(Q==null)return;const R={...H,label_name:Q};function _e(pe){return R.row_ids!=null?`Document id: ${R.row_ids}`:`${pe.toLocaleString()} rows updated`}W?S.mutate([n,a,R],{onSuccess:pe=>{G.addNotification({kind:"success",title:`Removed label "${R.label_name}"`,message:_e(pe)})}}):D.mutate([n,a,R],{onSuccess:pe=>{G.addNotification({kind:"success",title:`Added label "${R.label_name}"`,message:_e(pe)})}}),t(8,Q=null)}function v(R){t(8,Q=R.detail.text),ye==null&&L()}function z(R){Se=R,t(6,Se)}const he=()=>{t(8,Q=null),se("close")};return i.$$set=R=>{"labelsQuery"in R&&t(20,H=R.labelsQuery),"hideLabels"in R&&t(21,fe=R.hideLabels),"helperText"in R&&t(0,U=R.helperText),"disabled"in R&&t(1,P=R.disabled),"disabledMessage"in R&&t(2,V=R.disabledMessage),"icon"in R&&t(3,F=R.icon),"remove"in R&&t(4,W=R.remove),"totalNumRows"in R&&t(5,ye=R.totalNumRows)},i.$$.update=()=>{var R,_e;i.$$.dirty[1]&1&&re(t(14,l=Dt(ee.namespace,ee.datasetName))),i.$$.dirty[1]&1&&(n=ee.namespace),i.$$.dirty[1]&1&&(a=ee.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(R=$.data)==null?void 0:R.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(_e=$.data)==null?void 0:_e.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,s=Y.data&&li(Y.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(Se)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:Se,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(s==null?void 0:s.filter(pe=>!(fe||[]).includes(pe)).map((pe,Ce)=>({id:`label_${Ce}`,text:pe})))||[]),i.$$.dirty[0]&12582992&&t(13,_=[...Se!=""&&!W?[f]:[],...d]),i.$$.dirty[0]&536870912&&p(t(12,m=Y.data!=null?ei(Y.data):null)),i.$$.dirty[0]&536870912&&C(t(11,O=Y.data!=null?ti(Y.data):null)),i.$$.dirty[0]&402653184&&t(10,N=(D==null?void 0:D.isLoading)||(S==null?void 0:S.isLoading)),i.$$.dirty[0]&130&&t(9,B=P||!o)},[U,P,V,F,W,ye,Se,o,Q,B,N,O,m,_,l,se,be,X,L,v,H,fe,d,f,s,u,r,S,D,Y,$,ee,z,he]}class pr extends Le{constructor(e){super(),Be(this,e,wr,br,He,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function kr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function gl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function bl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gl(Object(t),!0).forEach(function(l){kr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):gl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function yr(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,a;for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function Er(i,e){if(i==null)return{};var t=yr(i,e),l,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)l=a[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function Ir(i,e){return Mr(i)||Vr(i,e)||Tr(i,e)||Cr()}function Mr(i){if(Array.isArray(i))return i}function Vr(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,a=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(s){n=!0,a=s}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw a}}return t}}function Tr(i,e){if(i){if(typeof i=="string")return vl(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vl(i,e)}}function vl(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function Cr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function wl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function pl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wl(Object(t),!0).forEach(function(l){Sr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):wl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Dr(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,a){return a(n)},l)}}function bt(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Vt(i){return{}.toString.call(i).includes("Object")}function Or(i){return!Object.keys(i).length}function vt(i){return typeof i=="function"}function Pr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Rr(i,e){return Vt(e)||ut("changeType"),Object.keys(e).some(function(t){return!Pr(i,t)})&&ut("changeField"),e}function Ar(i){vt(i)||ut("selectorType")}function zr(i){vt(i)||Vt(i)||ut("handlerType"),Vt(i)&&Object.values(i).some(function(e){return!vt(e)})&&ut("handlersType")}function Lr(i){i||ut("initialIsRequired"),Vt(i)||ut("initialType"),Or(i)&&ut("initialContent")}function Br(i,e){throw new Error(i[e]||i.default)}var Hr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ut=bt(Br)(Hr),Et={changes:Rr,selector:Ar,handler:zr,initial:Lr};function Nr(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Et.initial(i),Et.handler(e);var t={current:i},l=bt(qr)(t,e),n=bt(jr)(t),a=bt(Et.changes)(i),r=bt(Fr)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Et.selector(u),u(t.current)}function s(u){Dr(l,n,a,r)(u)}return[o,s]}function Fr(i,e){return vt(e)?e(i.current):e}function jr(i,e){return i.current=pl(pl({},i.current),e),e}function qr(i,e,t){return vt(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var Ur={create:Nr},Yr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Kr(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Zr(i){return{}.toString.call(i).includes("Object")}function Qr(i){return i||kl("configIsRequired"),Zr(i)||kl("configType"),i.urls?(Wr(),{paths:{vs:i.urls.monacoBase}}):i}function Wr(){console.warn(_i.deprecation)}function Gr(i,e){throw new Error(i[e]||i.default)}var _i={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},kl=Kr(Gr)(_i),Xr={config:Qr},Jr=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(a,r){return r(a)},n)}};function gi(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],gi(i[t],e[t]))}),bl(bl({},i),e)}var xr={type:"cancelation",msg:"operation is manually canceled"};function Pt(i){var e=!1,t=new Promise(function(l,n){i.then(function(a){return e?n(xr):l(a)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var $r=Ur.create({config:Yr,isInitialized:!1,resolve:null,reject:null,monaco:null}),bi=Ir($r,2),yt=bi[0],Ot=bi[1];function es(i){var e=Xr.config(i),t=e.monaco,l=Er(e,["monaco"]);Ot(function(n){return{config:gi(n.config,l),monaco:t}})}function ts(){var i=yt(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(Ot({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Pt(Rt);if(window.monaco&&window.monaco.editor)return vi(window.monaco),i.resolve(window.monaco),Pt(Rt);Jr(ls,ns)(rs)}return Pt(Rt)}function ls(i){return document.body.appendChild(i)}function is(i){var e=document.createElement("script");return i&&(e.src=i),e}function ns(i){var e=yt(function(l){var n=l.config,a=l.reject;return{config:n,reject:a}}),t=is("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function rs(){var i=yt(function(t){var l=t.config,n=t.resolve,a=t.reject;return{config:l,resolve:n,reject:a}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){vi(t),i.resolve(t)},function(t){i.reject(t)})}function vi(i){yt().monaco||Ot({monaco:i})}function ss(){return yt(function(i){var e=i.monaco;return e})}var Rt=new Promise(function(i,e){return Ot({resolve:i,reject:e})}),yl={config:es,init:ts,__getMonacoInstance:ss};const as=360,wi=120,pi=180;let It;const ki={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function yi(){return It!=null||(It=nn(()=>import("./editor.main.79be0ff6.js").then(i=>i.e),["./editor.main.79be0ff6.js","./preload-helper.a4192956.js","../assets/editor.e45e964a.css"],import.meta.url).then(async i=>(yl.config({monaco:i.default}),yl.init()))),It}function El(i){let e;return{c(){e=E("div"),this.h()},l(t){e=I(t,"DIV",{class:!0}),g(e).forEach(c),this.h()},h(){b(e,"class","absolute inset-0 flex items-center justify-center bg-white bg-opacity-70")},m(t,l){A(t,e,l)},d(t){t&&c(e)}}}function os(i){let e,t,l,n=ht(i[3])+"",a,r,o,s=ht(i[2])+"",u,f,d,_,m,O,N,B,S,M,C;m=new Kn({});let D=i[1]&&El();return{c(){e=E("div"),t=E("div"),l=E("div"),a=te(n),r=ie(),o=E("div"),u=te(s),f=ie(),d=E("div"),_=E("button"),ae(m.$$.fragment),O=ie(),N=E("div"),B=ie(),D&&D.c(),this.h()},l(k){e=I(k,"DIV",{class:!0});var p=g(e);t=I(p,"DIV",{class:!0});var Y=g(t);l=I(Y,"DIV",{class:!0});var ce=g(l);a=le(ce,n),ce.forEach(c),r=ne(Y),o=I(Y,"DIV",{class:!0});var re=g(o);u=le(re,s),re.forEach(c),f=ne(Y),d=I(Y,"DIV",{});var $=g(d);_=I($,"BUTTON",{class:!0});var ee=g(_);de(m.$$.fragment,ee),ee.forEach(c),$.forEach(c),Y.forEach(c),O=ne(p),N=I(p,"DIV",{class:!0}),g(N).forEach(c),B=ne(p),D&&D.l(p),p.forEach(c),this.h()},h(){b(l,"class","ml-8 w-1/2"),b(o,"class","ml-8 w-1/2"),b(_,"class","-mr-1 mb-1 flex flex-row"),b(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),b(N,"class","editor-container svelte-15hppq8"),b(e,"class","relative left-16 -ml-10 flex h-fit w-full flex-col gap-x-4 pr-6")},m(k,p){A(k,e,p),h(e,t),h(t,l),h(l,a),h(t,r),h(t,o),h(o,u),h(t,f),h(t,d),h(d,_),oe(m,_,null),h(e,O),h(e,N),i[16](N),h(e,B),D&&D.m(e,null),S=!0,M||(C=[Qe(_,"click",i[15]),Ke(Ze.call(null,_,{text:"Swap comparison order"}))],M=!0)},p(k,[p]){(!S||p&8)&&n!==(n=ht(k[3])+"")&&Ie(a,n),(!S||p&4)&&s!==(s=ht(k[2])+"")&&Ie(u,s),k[1]?D||(D=El(),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i(k){S||(w(m.$$.fragment,k),S=!0)},o(k){y(m.$$.fragment,k),S=!1},d(k){k&&c(e),ue(m),i[16](null),D&&D.d(),M=!1,at(C)}}}const Il=360;function us(i,e,t){let l,n,a,r,o;const s=gt();let{row:u}=e,{colCompareState:f}=e,{textIsOverBudget:d}=e,{isExpanded:_}=e,{viewType:m=void 0}=e,{datasetViewHeight:O=void 0}=e,{isFetching:N=void 0}=e,B,S,M;function C(){var p,Y;if(M!=null&&((p=M.getModel())==null?void 0:p.original)!=null&&((Y=M.getModel())==null?void 0:Y.modified)!=null){const ce=Math.max(M.getOriginalEditor().getContentHeight(),M.getModifiedEditor().getContentHeight());t(6,d=ce>Il),_?t(4,B.style.height=ce+"px",B):d?t(4,B.style.height=o+"px",B):t(4,B.style.height=`${Math.min(ce,o)}px`,B),M.layout()}}Jl(async()=>{t(11,S=await yi()),t(12,M=S.editor.createDiffEditor(B,{...ki,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),M.onDidChangeModel(()=>{C()})}),xl(()=>{var p,Y;(p=M.getModel())==null||p.modified.dispose(),(Y=M.getModel())==null||Y.original.dispose(),M==null||M.dispose()});const D=()=>s.swapCompareColumn((f==null?void 0:f.column)||[]);function k(p){ft[p?"unshift":"push"](()=>{B=p,t(4,B)})}return i.$$set=p=>{"row"in p&&t(7,u=p.row),"colCompareState"in p&&t(0,f=p.colCompareState),"textIsOverBudget"in p&&t(6,d=p.textIsOverBudget),"isExpanded"in p&&t(8,_=p.isExpanded),"viewType"in p&&t(9,m=p.viewType),"datasetViewHeight"in p&&t(10,O=p.datasetViewHeight),"isFetching"in p&&t(1,N=p.isFetching)},i.$$.update=()=>{i.$$.dirty&1&&t(3,l=f.swapDirection?f.compareToColumn:f.column),i.$$.dirty&1&&t(2,n=f.swapDirection?f.column:f.compareToColumn),i.$$.dirty&136&&t(14,a=u!=null?st.value(ct(u,l)[0]):""),i.$$.dirty&132&&t(13,r=u!=null?st.value(ct(u,n)[0]):""),i.$$.dirty&384&&(_!=null||u!=null)&&C(),i.$$.dirty&1536&&(o=O?O-(m==="scroll"?pi:wi):Il),i.$$.dirty&30720&&M!=null&&a!=null&&r!=null&&(M.setModel({original:S.editor.createModel(a,"text/plain"),modified:S.editor.createModel(r,"text/plain")}),C())},[f,N,n,l,B,s,d,u,_,m,O,S,M,r,a,D,k]}class fs extends Le{constructor(e){super(),Be(this,e,us,os,He,{row:7,colCompareState:0,textIsOverBudget:6,isExpanded:8,viewType:9,datasetViewHeight:10,isFetching:1})}}function Ml(i){let e,t,l;return t=new kt({props:{class:"ml-4 w-full ",lines:3}}),{c(){e=E("div"),ae(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=g(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","w-full")},m(n,a){A(n,e,a),oe(t,e,null),l=!0},i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){y(t.$$.fragment,n),l=!1},d(n){n&&c(e),ue(t)}}}function Vl(i){let e;return{c(){e=E("div"),this.h()},l(t){e=I(t,"DIV",{class:!0}),g(e).forEach(c),this.h()},h(){b(e,"class","absolute inset-0 flex items-center justify-center bg-white bg-opacity-70")},m(t,l){A(t,e,l)},d(t){t&&c(e)}}}function cs(i){let e,t,l,n,a,r=!i[4]&&Ml(),o=i[2]&&Vl();return{c(){e=E("div"),r&&r.c(),t=ie(),l=E("div"),n=ie(),o&&o.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=g(e);r&&r.l(u),t=ne(u),l=I(u,"DIV",{class:!0}),g(l).forEach(c),n=ne(u),o&&o.l(u),u.forEach(c),this.h()},h(){b(l,"class","editor-container h-64"),q(l,"hidden",i[0]),q(l,"invisible",!i[4]),b(e,"class","relative left-16 -ml-10 flex h-fit w-full flex-col gap-x-4 pr-6")},m(s,u){A(s,e,u),r&&r.m(e,null),h(e,t),h(e,l),i[31](l),h(e,n),o&&o.m(e,null),a=!0},p(s,u){s[4]?r&&(Ve(),y(r,1,1,()=>{r=null}),Te()):r?u[0]&16&&w(r,1):(r=Ml(),r.c(),w(r,1),r.m(e,t)),(!a||u[0]&1)&&q(l,"hidden",s[0]),(!a||u[0]&16)&&q(l,"invisible",!s[4]),s[2]?o||(o=Vl(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(s){a||(w(r),a=!0)},o(s){y(r),a=!1},d(s){s&&c(e),r&&r.d(),i[31](null),o&&o.d()}}}function Tl(i){return i.length>40?i.slice(0,40)+"...":i}function At(i,e){return`add-to-concept-${i}-${e}`}function ds(i,e,t){let l,n,a,r,o,s=Z,u=()=>(s(),s=Ge(C,v=>t(30,o=v)),C),f;i.$$.on_destroy.push(()=>s());let{text:d}=e,{row:_}=e,{field:m=void 0}=e,{spanPaths:O}=e,{path:N=void 0}=e,{hidden:B}=e,{spanValueInfos:S}=e,{embeddings:M}=e,{datasetViewStore:C=void 0}=e;u();let{isExpanded:D=!1}=e,{textIsOverBudget:k=!1}=e,{viewType:p=void 0}=e,{datasetViewHeight:Y=void 0}=e,{isFetching:ce=void 0}=e,re,$=!1,ee={};const H=zi();Xe(i,H,v=>t(33,f=v));const fe=(v,z,he,R)=>{if(!z||!v)throw Error("Label could not be added, no active concept.");f.mutate([v,z,{insert:[{text:he,label:R}]}])};let U,P,V=null,F=null;function W(){if(U!=null&&V!=null&&V.getModel()!=null){const v=V.getContentHeight();t(7,k=v>l),D?t(3,U.style.height=v+"px",U):k?t(3,U.style.height=l+"px",U):t(3,U.style.height=`${Math.min(v,l)}px`,U),V.layout()}}Jl(async()=>{P==null&&(t(20,P=await yi()),U!=null&&(t(21,V=P.editor.create(U,{...ki,lineNumbers:"on",glyphMargin:!1,lineNumbersMinChars:3,renderLineHighlight:"none",minimap:{enabled:!0,side:"right",scale:2}})),t(22,F=P.editor.createModel(d||"","text/plain")),V.setModel(F),document.fonts.ready.then(()=>{P.editor.remeasureFonts(),t(4,$=!0)})))});function ye(v){if(F==null)return[];const z=v.namedValue,he=z.info.name;if(v.isConceptSearch){const R=z.info.signal,_e=window.location.origin+Hi(R.namespace,R.concept_name),pe=z.value.toFixed(2);return[{value:`**concept** <a href="${_e}">${he}</a> (${pe})`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isSemanticSearch){const R=z.info.signal,_e=z.value.toFixed(2);return[{value:`**more like this** *${Tl(R.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${_e}`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isKeywordSearch){const R=z.info.signal;return[{value:`**keyword search** *${Tl(R.query)}*`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isLeafSpan)return[{value:`**span** *${mt(z.info.path)}*`,supportHtml:!0,isTrusted:!0},...z.value!=null?[{value:`value: *${z.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:v.text,supportHtml:!1,isTrusted:!1}];return[]}function se(){if(V==null)return null;const v=V.getSelection();return v==null?null:F.getValueInRange(v)}let Se={};const Q=C!=null?rn(C,v=>{if(v.selection==null)return null;const[z,he]=v.selection;return it(z,N)?he:null}):null;Xe(i,Q,v=>t(29,r=v));let G=[],be=[],X=[];xl(()=>{F==null||F.dispose(),V==null||V.dispose()});function L(v){ft[v?"unshift":"push"](()=>{U=v,t(3,U)})}return i.$$set=v=>{"text"in v&&t(8,d=v.text),"row"in v&&t(9,_=v.row),"field"in v&&t(10,m=v.field),"spanPaths"in v&&t(11,O=v.spanPaths),"path"in v&&t(12,N=v.path),"hidden"in v&&t(0,B=v.hidden),"spanValueInfos"in v&&t(13,S=v.spanValueInfos),"embeddings"in v&&t(14,M=v.embeddings),"datasetViewStore"in v&&u(t(1,C=v.datasetViewStore)),"isExpanded"in v&&t(15,D=v.isExpanded),"textIsOverBudget"in v&&t(7,k=v.textIsOverBudget),"viewType"in v&&t(16,p=v.viewType),"datasetViewHeight"in v&&t(17,Y=v.datasetViewHeight),"isFetching"in v&&t(2,ce=v.isFetching)},i.$$.update=()=>{if(i.$$.dirty[0]&6656&&(t(18,re={}),O.forEach(v=>{if(_==null)return;let z=ct(_,v);ii(v,N)&&(z=z.filter(R=>Li(st.path(R),N)||N==null)),t(18,re[mt(v)]=z,re)})),i.$$.dirty[0]&532480){t(19,ee={});for(const v of S){const z=mt(v.spanPath);ee[z]==null&&t(19,ee[z]=[],ee),ee[z].push(v)}}if(i.$$.dirty[0]&33280&&(D!=null||_!=null)&&W(),i.$$.dirty[0]&196608&&(l=Y?Y-(p==="scroll"?pi:wi):as),i.$$.dirty[0]&4194568&&U!=null&&F!=null&&d!=null&&(F.setValue(d),W()),i.$$.dirty[0]&786688&&t(27,n=an(d||"",re,ee)),i.$$.dirty[0]&140509184&&F!=null&&V!=null){let v=null;for(const z of n){const he=st.span(z.span),R=F.getPositionAt(he.start);(v==null||R.lineNumber<v.lineNumber)&&(v=R)}v!=null&&V.revealPositionNearTop(v)}if(i.$$.dirty[0]&1073741824&&t(28,a=o!=null?Bi(o,null):null),i.$$.dirty[0]&278921216&&V!=null){for(const v of Object.values(Se))v.set(!1);for(const v of a||[]){if(v.type!="concept")continue;const z=At(v.concept_namespace,v.concept_name);if(Se[z]==null){const he=V.createContextKey(z,!0);t(23,Se[z]=he,Se)}else Se[z].set(!0)}}if(i.$$.dirty[0]&270532608&&V!=null&&a!=null){for(const v of a)if(v.type=="concept"){const z=`add-positive-to-concept-${v.concept_name}`;if(V.getAction(z)!=null)continue;V.addAction({id:z,label:`👍 add as positive to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:At(v.concept_namespace,v.concept_name),run:()=>{const he=se();if(he==null)return;const R=!0;fe(v.concept_namespace,v.concept_name,he,R)}}),V.addAction({id:"add-negative-to-concept",label:`👎 add as negative to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:At(v.concept_namespace,v.concept_name),run:()=>{const he=se();if(he==null)return;const R=!1;fe(v.concept_namespace,v.concept_name,he,R)}})}}if(i.$$.dirty[0]&2114562&&V!=null&&M!=null){for(const z of M){const he=`find-similar-${z}`;V.getAction(he)==null&&V.addAction({id:he,label:"🔍 More like this"+(M.length>1?` with ${z}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(C==null||m==null)return;const R=se();R!=null&&C.addSearch({path:m.path,type:"semantic",query_type:"document",query:R,embedding:z})}})}const v="keyword-search";V.getAction(v)==null&&V.addAction({id:v,label:"🔍 Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(C==null||m==null)return;const z=se();z!=null&&C.addSearch({path:m.path,type:"keyword",query:z})}})}if(i.$$.dirty[0]&141557760&&V!=null&&F!=null&&t(24,G=n.flatMap(v=>{if(F==null)return[];const z=st.span(v.span),he=F.getPositionAt(z.start),R=F.getPositionAt(z.end);if(he==null||R==null)return[];const _e=[],pe=ye(v),Ce=new P.Range(he.lineNumber,he.column,R.lineNumber,R.column);let De="";if(v.isConceptSearch||v.isSemanticSearch){const ke=v.value;ke<.55?De="bg-blue-50":ke<.6?De="bg-blue-100":ke<.7?De="bg-blue-200":ke<.8?De="bg-blue-300":ke<.9?De="bg-blue-400":De="bg-blue-500"}return v.isKeywordSearch?_e.push({range:Ce,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:pe,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#888888"}}}):v.isConceptSearch?_e.push({range:Ce,options:{className:"concept-search-bg "+De,inlineClassName:"concept-search-text",hoverMessage:pe,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isSemanticSearch?_e.push({range:Ce,options:{className:"semantic-search-bg "+De,inlineClassName:"semantic-search-text",hoverMessage:pe,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isMetadata&&_e.push({range:Ce,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:pe,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#888888"}}}),_e})),i.$$.dirty[0]&577765376&&V!=null&&F!=null&&Q!=null&&r!=null&&(t(25,be=[]),r.startLine==r.endLine&&r.startCol==r.endCol?be.push({range:new P.Range(r.startLine,r.startCol,r.endLine,r.endCol||F.getLineMaxColumn(r.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"}}}):be.push({range:new P.Range(r.startLine,r.startCol,r.endLine,r.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:"🔗 From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"},minimap:{position:P.editor.MinimapPosition.Inline,color:"#cccccc"}}}),V.revealLineInCenter(r.startLine)),i.$$.dirty[0]&7410690&&F!=null&&V!=null&&p!=null&&N!=null){const v="link-selection";V.getAction(v)==null&&V.addAction({id:v,label:"🔗 Link to selection",contextMenuGroupId:"navigation_links",keybindings:[P.KeyMod.CtrlCmd|P.KeyCode.KeyK],run:()=>{if(C==null||N==null||m==null||V==null)return;const z=V.getSelection();z!=null&&(C.setTextSelection(N,{startLine:z.startLineNumber,endLine:z.endLineNumber,startCol:z.startColumn,endCol:z.endColumn}),V.setSelection(z))}})}i.$$.dirty[0]&536870912&&r==null&&t(25,be=[]),i.$$.dirty[0]&119537664&&V!=null&&t(26,X=V.deltaDecorations(X,[...G,...be]))},[B,C,ce,U,$,H,Q,k,d,_,m,O,N,S,M,D,p,Y,re,ee,P,V,F,Se,G,be,X,n,a,r,o,L]}class hs extends Le{constructor(e){super(),Be(this,e,ds,cs,He,{text:8,row:9,field:10,spanPaths:11,path:12,hidden:0,spanValueInfos:13,embeddings:14,datasetViewStore:1,isExpanded:15,textIsOverBudget:7,viewType:16,datasetViewHeight:17,isFetching:2},null,[-1,-1])}}function Cl(i,e,t){const l=i.slice();l[54]=e[t],l[59]=t;const n=[...l[3]||[],l[54]];l[55]=n;const a=l[28](l[55]);l[56]=a;const r=l[3]&&l[3].length>1?"border-neutral-200":"border-neutral-300";return l[57]=r,l}function ms(i){let e,t,l,n=!i[24]&&i[11]&&Sl(i),a=i[6],r=[];for(let s=0;s<a.length;s+=1)r[s]=Dl(Cl(i,a,s));const o=s=>y(r[s],1,1,()=>{r[s]=null});return{c(){e=E("div"),n&&n.c(),t=ie();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var u=g(e);n&&n.l(u),t=ne(u);for(let f=0;f<r.length;f+=1)r[f].l(u);u.forEach(c),this.h()},h(){b(e,"class","flex flex-col")},m(s,u){A(s,e,u),n&&n.m(e,null),h(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(s,u){if(!s[24]&&s[11]?n?n.p(s,u):(n=Sl(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),u[0]&285214847){a=s[6];let f;for(f=0;f<a.length;f+=1){const d=Cl(s,a,f);r[f]?(r[f].p(d,u),w(r[f],1)):(r[f]=Dl(d),r[f].c(),w(r[f],1),r[f].m(e,null))}for(Ve(),f=a.length;f<r.length;f+=1)o(f);Te()}},i(s){if(!l){for(let u=0;u<a.length;u+=1)w(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)y(r[u]);l=!1},d(s){s&&c(e),n&&n.d(),Ct(r,s)}}}function _s(i){let e,t,l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M,C,D,k,p,Y,ce,re,$,ee,H,fe,U,P,V,F,W,ye,se,Se,Q,G=i[11]!=""&&i[20]==null&&Ol(i);s=new ln({props:{size:16}});const be=[bs,gs],X=[];function L(T,ve){return T[15]?0:1}_=L(i),m=X[_]=be[_](i);const v=[ws,vs],z=[];function he(T,ve){return T[14]?1:0}S=he(i),M=z[S]=v[S](i);const R=[ks,ps],_e=[];function pe(T,ve){return T[10].showMetadataPanel?0:1}k=pe(i),p=_e[k]=R[k](i);const Ce=[Es,ys],De=[];function ke(T,ve){return T[13]?0:1}$=ke(i),ee=De[$]=Ce[$](i);let ge=i[20]!=null&&Pl(i);const Me=[Ms,Is],Ee=[];function j(T,ve){return T[14]==null&&T[9]!=null?0:T[14]!=null?1:-1}return~(W=j(i))&&(ye=Ee[W]=Me[W](i)),{c(){e=E("div"),t=E("div"),l=E("div"),G&&G.c(),n=ie(),a=E("div"),r=E("div"),o=E("button"),ae(s.$$.fragment),f=ie(),d=E("button"),m.c(),B=ie(),M.c(),C=ie(),D=E("button"),p.c(),ce=ie(),re=E("button"),ee.c(),U=ie(),P=E("div"),ge&&ge.c(),V=ie(),F=E("div"),ye&&ye.c(),this.h()},l(T){e=I(T,"DIV",{class:!0});var ve=g(e);t=I(ve,"DIV",{class:!0});var Fe=g(t);l=I(Fe,"DIV",{class:!0});var Ye=g(l);G&&G.l(Ye),n=ne(Ye),a=I(Ye,"DIV",{class:!0});var Oe=g(a);r=I(Oe,"DIV",{});var ze=g(r);o=I(ze,"BUTTON",{});var We=g(o);de(s.$$.fragment,We),We.forEach(c),ze.forEach(c),f=ne(Oe),d=I(Oe,"BUTTON",{});var tt=g(d);m.l(tt),tt.forEach(c),B=ne(Oe),M.l(Oe),C=ne(Oe),D=I(Oe,"BUTTON",{});var lt=g(D);p.l(lt),lt.forEach(c),ce=ne(Oe),re=I(Oe,"BUTTON",{});var me=g(re);ee.l(me),me.forEach(c),Oe.forEach(c),Ye.forEach(c),Fe.forEach(c),U=ne(ve),P=I(ve,"DIV",{class:!0});var Ue=g(P);ge&&ge.l(Ue),V=ne(Ue),F=I(Ue,"DIV",{class:!0});var K=g(F);ye&&ye.l(K),K.forEach(c),Ue.forEach(c),ve.forEach(c),this.h()},h(){o.disabled=i[18],q(r,"opacity-50",i[18]),d.disabled=O=i[14]!=null,q(d,"opacity-50",i[14]!=null),re.disabled=H=!i[12],q(re,"opacity-50",!i[12]),b(a,"class","flex flex-row gap-x-1"),b(l,"class","z-100 sticky top-16 flex w-full flex-col gap-y-2 self-start"),b(t,"class","relative mr-4 flex w-28 flex-row rounded border-neutral-200 px-2 font-mono font-medium text-neutral-500 md:w-36"),b(F,"class","grow pt-1"),b(P,"class","flex grow flex-col font-normal"),b(e,"class","flex w-full flex-row gap-x-4")},m(T,ve){A(T,e,ve),h(e,t),h(t,l),G&&G.m(l,null),h(l,n),h(l,a),h(a,r),h(r,o),oe(s,o,null),h(a,f),h(a,d),X[_].m(d,null),h(a,B),z[S].m(a,null),h(a,C),h(a,D),_e[k].m(D,null),h(a,ce),h(a,re),De[$].m(re,null),h(e,U),h(e,P),ge&&ge.m(P,null),h(P,V),h(P,F),~W&&Ee[W].m(F,null),se=!0,Se||(Q=[Qe(o,"click",i[45]),Ke(Ze.call(null,o,{text:"More like this"})),Ke(u=Ze.call(null,r,{text:i[18]?'"More like this" requires an embedding index':void 0})),Qe(d,"click",i[46]),Ke(N=Ze.call(null,d,{text:i[15]?"Back to text":"Preview markdown"})),Qe(D,"click",i[48]),Ke(Y=Ze.call(null,D,{text:i[10].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"})),Qe(re,"click",i[49]),Ke(fe=Ze.call(null,re,{text:i[13]?"Collapse text":"Expand text"}))],Se=!0)},p(T,ve){T[11]!=""&&T[20]==null?G?G.p(T,ve):(G=Ol(T),G.c(),G.m(l,n)):G&&(G.d(1),G=null),(!se||ve[0]&262144)&&(o.disabled=T[18]),u&&nt(u.update)&&ve[0]&262144&&u.update.call(null,{text:T[18]?'"More like this" requires an embedding index':void 0}),(!se||ve[0]&262144)&&q(r,"opacity-50",T[18]);let Fe=_;_=L(T),_!==Fe&&(Ve(),y(X[Fe],1,1,()=>{X[Fe]=null}),Te(),m=X[_],m||(m=X[_]=be[_](T),m.c()),w(m,1),m.m(d,null)),(!se||ve[0]&16384&&O!==(O=T[14]!=null))&&(d.disabled=O),N&&nt(N.update)&&ve[0]&32768&&N.update.call(null,{text:T[15]?"Back to text":"Preview markdown"}),(!se||ve[0]&16384)&&q(d,"opacity-50",T[14]!=null);let Ye=S;S=he(T),S===Ye?z[S].p(T,ve):(Ve(),y(z[Ye],1,1,()=>{z[Ye]=null}),Te(),M=z[S],M?M.p(T,ve):(M=z[S]=v[S](T),M.c()),w(M,1),M.m(a,C));let Oe=k;k=pe(T),k!==Oe&&(Ve(),y(_e[Oe],1,1,()=>{_e[Oe]=null}),Te(),p=_e[k],p||(p=_e[k]=R[k](T),p.c()),w(p,1),p.m(D,null)),Y&&nt(Y.update)&&ve[0]&1024&&Y.update.call(null,{text:T[10].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"});let ze=$;$=ke(T),$!==ze&&(Ve(),y(De[ze],1,1,()=>{De[ze]=null}),Te(),ee=De[$],ee||(ee=De[$]=Ce[$](T),ee.c()),w(ee,1),ee.m(re,null)),(!se||ve[0]&4096&&H!==(H=!T[12]))&&(re.disabled=H),fe&&nt(fe.update)&&ve[0]&8192&&fe.update.call(null,{text:T[13]?"Collapse text":"Expand text"}),(!se||ve[0]&4096)&&q(re,"opacity-50",!T[12]),T[20]!=null?ge?ge.p(T,ve):(ge=Pl(T),ge.c(),ge.m(P,V)):ge&&(ge.d(1),ge=null);let We=W;W=j(T),W===We?~W&&Ee[W].p(T,ve):(ye&&(Ve(),y(Ee[We],1,1,()=>{Ee[We]=null}),Te()),~W?(ye=Ee[W],ye?ye.p(T,ve):(ye=Ee[W]=Me[W](T),ye.c()),w(ye,1),ye.m(F,null)):ye=null)},i(T){se||(w(s.$$.fragment,T),w(m),w(M),w(p),w(ee),w(ye),se=!0)},o(T){y(s.$$.fragment,T),y(m),y(M),y(p),y(ee),y(ye),se=!1},d(T){T&&c(e),G&&G.d(),ue(s),X[_].d(),z[S].d(),_e[k].d(),De[$].d(),ge&&ge.d(),~W&&Ee[W].d(),Se=!1,at(Q)}}}function Sl(i){let e,t;return{c(){e=E("div"),t=te(i[11]),this.h()},l(l){e=I(l,"DIV",{title:!0,class:!0});var n=g(e);t=le(n,i[11]),n.forEach(c),this.h()},h(){b(e,"title",i[11]),b(e,"class","mx-4 my-2 truncate font-mono font-medium leading-5 text-neutral-500")},m(l,n){A(l,e,n),h(e,t)},p(l,n){n[0]&2048&&Ie(t,l[11]),n[0]&2048&&b(e,"title",l[11])},d(l){l&&c(e)}}}function Dl(i){let e,t,l,n,a;return t=new Ei({props:{rootPath:[...i[3]||[],i[54]],mediaFields:i[2],row:i[0],highlightedFields:i[1],datasetViewHeight:i[5],isFetching:i[4]}}),{c(){e=E("div"),ae(t.$$.fragment),l=ie(),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=g(e);de(t.$$.fragment,o),l=ne(o),o.forEach(c),this.h()},h(){b(e,"class",n=i[57]),q(e,"mx-4",!i[24]&&i[11]),q(e,"py-1",!i[56]),q(e,"m-2",!i[56]),q(e,"border-b",i[59]<i[6].length-1)},m(r,o){A(r,e,o),oe(t,e,null),h(e,l),a=!0},p(r,o){const s={};o[0]&72&&(s.rootPath=[...r[3]||[],r[54]]),o[0]&4&&(s.mediaFields=r[2]),o[0]&1&&(s.row=r[0]),o[0]&2&&(s.highlightedFields=r[1]),o[0]&32&&(s.datasetViewHeight=r[5]),o[0]&16&&(s.isFetching=r[4]),t.$set(s),(!a||o[0]&8&&n!==(n=r[57]))&&b(e,"class",n),(!a||o[0]&16779272)&&q(e,"mx-4",!r[24]&&r[11]),(!a||o[0]&268435528)&&q(e,"py-1",!r[56]),(!a||o[0]&268435528)&&q(e,"m-2",!r[56]),(!a||o[0]&72)&&q(e,"border-b",r[59]<r[6].length-1)},i(r){a||(w(t.$$.fragment,r),a=!0)},o(r){y(t.$$.fragment,r),a=!1},d(r){r&&c(e),ue(t)}}}function Ol(i){let e,t;return{c(){e=E("div"),t=te(i[11]),this.h()},l(l){e=I(l,"DIV",{title:!0,class:!0});var n=g(e);t=le(n,i[11]),n.forEach(c),this.h()},h(){b(e,"title",i[11]),b(e,"class","m-2 w-full flex-initial truncate")},m(l,n){A(l,e,n),h(e,t)},p(l,n){n[0]&2048&&Ie(t,l[11]),n[0]&2048&&b(e,"title",l[11])},d(l){l&&c(e)}}}function gs(i){let e,t;return e=new Ln({props:{size:16}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function bs(i){let e,t;return e=new kn({props:{size:16}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function vs(i){let e,t,l,n,a;return t=new mi({props:{size:16}}),{c(){e=E("button"),ae(t.$$.fragment)},l(r){e=I(r,"BUTTON",{});var o=g(e);de(t.$$.fragment,o),o.forEach(c)},m(r,o){A(r,e,o),oe(t,e,null),l=!0,n||(a=[Qe(e,"click",i[47]),Ke(Ze.call(null,e,{text:"Remove comparison"}))],n=!0)},p:Z,i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){y(t.$$.fragment,r),l=!1},d(r){r&&c(e),ue(t),n=!1,at(a)}}}function ws(i){let e,t;return e=new jt({props:{disabled:i[19].length===0,helperText:"Compare to",items:i[19],buttonIcon:Nn,hoist:!0}}),e.$on("select",i[31]),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const a={};n[0]&524288&&(a.disabled=l[19].length===0),n[0]&524288&&(a.items=l[19]),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function ps(i){let e,t;return e=new Rn({props:{size:16}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function ks(i){let e,t;return e=new Dn({props:{size:16}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function ys(i){let e,t;return e=new en({props:{size:16}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Es(i){let e,t;return e=new tn({props:{size:16}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Pl(i){let e,t;return{c(){e=E("div"),t=te(i[20]),this.h()},l(l){e=I(l,"DIV",{class:!0});var n=g(e);t=le(n,i[20]),n.forEach(c),this.h()},h(){b(e,"class","mb-1 ml-11 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){A(l,e,n),h(e,t)},p(l,n){n[0]&1048576&&Ie(t,l[20])},d(l){l&&c(e)}}}function Is(i){let e,t,l;function n(r){i[51](r)}let a={row:i[0],colCompareState:i[14],isExpanded:i[13],datasetViewHeight:i[5],isFetching:i[4]};return i[12]!==void 0&&(a.textIsOverBudget=i[12]),e=new fs({props:a}),ft.push(()=>wt(e,"textIsOverBudget",n)),{c(){ae(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.row=r[0]),o[0]&16384&&(s.colCompareState=r[14]),o[0]&8192&&(s.isExpanded=r[13]),o[0]&32&&(s.datasetViewHeight=r[5]),o[0]&16&&(s.isFetching=r[4]),!t&&o[0]&4096&&(t=!0,s.textIsOverBudget=r[12],pt(()=>t=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){y(e.$$.fragment,r),l=!1},d(r){ue(e,r)}}}function Ms(i){var f,d;let e,t,l,n,a,r,o;function s(_){i[50](_)}let u={hidden:i[15],text:i[23],row:i[0],path:i[3],field:i[9],isExpanded:i[13],spanPaths:((f=i[17])==null?void 0:f.spanPaths)||[],spanValueInfos:((d=i[17])==null?void 0:d.spanValueInfos)||[],datasetViewStore:i[29],embeddings:i[8],viewType:i[16],isFetching:i[4],datasetViewHeight:i[5]};return i[12]!==void 0&&(u.textIsOverBudget=i[12]),e=new hs({props:u}),ft.push(()=>wt(e,"textIsOverBudget",s)),r=new qi({props:{source:Mt(i[23])}}),{c(){ae(e.$$.fragment),l=ie(),n=E("div"),a=E("div"),ae(r.$$.fragment),this.h()},l(_){de(e.$$.fragment,_),l=ne(_),n=I(_,"DIV",{class:!0});var m=g(n);a=I(m,"DIV",{class:!0});var O=g(a);de(r.$$.fragment,O),O.forEach(c),m.forEach(c),this.h()},h(){b(a,"class","markdown -ml-0.5 w-fit pl-14"),b(n,"class","markdown w-full"),q(n,"hidden",!i[15])},m(_,m){oe(e,_,m),A(_,l,m),A(_,n,m),h(n,a),oe(r,a,null),o=!0},p(_,m){var B,S;const O={};m[0]&32768&&(O.hidden=_[15]),m[0]&8388608&&(O.text=_[23]),m[0]&1&&(O.row=_[0]),m[0]&8&&(O.path=_[3]),m[0]&512&&(O.field=_[9]),m[0]&8192&&(O.isExpanded=_[13]),m[0]&131072&&(O.spanPaths=((B=_[17])==null?void 0:B.spanPaths)||[]),m[0]&131072&&(O.spanValueInfos=((S=_[17])==null?void 0:S.spanValueInfos)||[]),m[0]&256&&(O.embeddings=_[8]),m[0]&65536&&(O.viewType=_[16]),m[0]&16&&(O.isFetching=_[4]),m[0]&32&&(O.datasetViewHeight=_[5]),!t&&m[0]&4096&&(t=!0,O.textIsOverBudget=_[12],pt(()=>t=!1)),e.$set(O);const N={};m[0]&8388608&&(N.source=Mt(_[23])),r.$set(N),(!o||m[0]&32768)&&q(n,"hidden",!_[15])},i(_){o||(w(e.$$.fragment,_),w(r.$$.fragment,_),o=!0)},o(_){y(e.$$.fragment,_),y(r.$$.fragment,_),o=!1},d(_){ue(e,_),_&&c(l),_&&c(n),ue(r)}}}function Vs(i){let e,t,l,n;const a=[_s,ms],r=[];function o(s,u){return s[27]?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=et()},l(s){t.l(s),l=et()},m(s,u){r[e].m(s,u),A(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),y(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){y(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Ts(i,e,t){let l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M,C,D,k,p,Y,ce,re,$=Z,ee=()=>($(),$=Ge(f,me=>t(41,re=me)),f),H,fe,U,P=Z,V=()=>(P(),P=Ge(a,me=>t(42,U=me)),a),F,W=Z,ye=()=>(W(),W=Ge(d,me=>t(43,F=me)),d),se,Se=Z,Q=()=>(Se(),Se=Ge(n,me=>t(44,se=me)),n);i.$$.on_destroy.push(()=>$()),i.$$.on_destroy.push(()=>P()),i.$$.on_destroy.push(()=>W()),i.$$.on_destroy.push(()=>Se());let{row:G=void 0}=e,{highlightedFields:be}=e,{mediaFields:X}=e,{rootPath:L=void 0}=e,{isFetching:v=void 0}=e,{datasetViewHeight:z=void 0}=e,he;function R(me){var Ue;return U.data!=null&&me!=null?((Ue=Qt(U.data.schema,me))==null?void 0:Ue.repeated_field)!=null:!1}let _e,pe=!1,Ce=!1,De;const ke=gt();Xe(i,ke,me=>t(10,H=me));const ge=$i();Xe(i,ge,me=>t(52,fe=me));function Me(me){return me.map((Ue,K)=>Ue===Nt?L[K]:Ue)}function Ee(me){ke.addCompareColumn([L,me.detail.id])}function j(me){var Ne;if(L==null)return;let Ue=M[0];if(((Ne=re.data)==null?void 0:Ne.preferred_embedding)!=null){const je=re.data.preferred_embedding;M.some(xe=>xe===je)&&(Ue=je)}if(fe.embedding!=null){const je=fe.embedding;M.some(xe=>xe===je)&&(Ue=je)}const K=X.find(je=>Zt(je.path,L));K!=null&&ke.addSearch({path:K==null?void 0:K.path,type:"semantic",query:me,query_type:"document",embedding:Ue})}let T=null;function ve(){L!=null&&ke.removeCompareColumn(L)}const Fe=()=>j(u),Ye=()=>t(7,De=!ce),Oe=()=>ve(),ze=()=>Pi(ke,H.showMetadataPanel=!H.showMetadataPanel,H),We=()=>t(13,Ce=!Ce);function tt(me){pe=me,t(12,pe)}function lt(me){pe=me,t(12,pe)}return i.$$set=me=>{"row"in me&&t(0,G=me.row),"highlightedFields"in me&&t(1,be=me.highlightedFields),"mediaFields"in me&&t(2,X=me.mediaFields),"rootPath"in me&&t(3,L=me.rootPath),"isFetching"in me&&t(4,v=me.isFetching),"datasetViewHeight"in me&&t(5,z=me.datasetViewHeight)},i.$$.update=()=>{var me,Ue,K,Ne,je,xe,rt,ot,dt;if(i.$$.dirty[0]&13){const qe=new Set;if(L==null)for(const $e of X){const qt=$e.path[0];qe.add(qt)}else for(const $e of X){if(!ii($e.path,L)||$e.path[L.length]==null)continue;const Ii=[...L,$e.path[L.length]],Mi=G!=null?ct(G,Ii):[];for(const Vi of Mi){const Ut=st.path(Vi)[L.length];Ut!=null&&qe.add(Ut)}}t(6,he=Array.from(qe))}if(i.$$.dirty[0]&64&&t(27,l=he.length===0),i.$$.dirty[0]&1024&&Q(t(26,n=Dt(H.namespace,H.datasetName))),i.$$.dirty[0]&1024|i.$$.dirty[1]&8192&&V(t(25,a=ni(H.namespace,H.datasetName,ri(H,se.data)))),i.$$.dirty[0]&8&&t(40,r=R(L==null?void 0:L.slice(0,-1))),i.$$.dirty[0]&8&&t(24,o=R(L)),i.$$.dirty[0]&8|i.$$.dirty[1]&512&&(L!=null?r?t(11,_e=ht(L.slice(-2))):t(11,_e=L[L.length-1]):t(11,_e="")),i.$$.dirty[0]&9&&t(39,s=G!=null?ct(G,L):null),i.$$.dirty[1]&256&&t(23,u=s!=null?st.value(s[0]):null),i.$$.dirty[0]&1024&&ee(t(22,f=si(H.namespace,H.datasetName))),i.$$.dirty[0]&1024&&ye(t(21,d=Ni(H.namespace,H.datasetName))),i.$$.dirty[1]&4096&&t(38,_=(Ue=(me=F.data)==null?void 0:me.dataset_manifest.dataset_format)==null?void 0:Ue.title_slots),i.$$.dirty[0]&8|i.$$.dirty[1]&128&&t(37,m=(K=(_||[]).find(qe=>{const[$e]=qe;return it($e,L)}))==null?void 0:K[1]),i.$$.dirty[0]&1|i.$$.dirty[1]&64&&t(20,O=m!=null&&G!=null?st.value(ct(G,Me(m))[0]):null),i.$$.dirty[1]&2048&&t(36,N=U.data!=null?ai(U.data.schema).filter(qe=>{var $e;return(($e=qe.dtype)==null?void 0:$e.type)==="string"}):[]),i.$$.dirty[0]&9|i.$$.dirty[1]&32&&t(35,B=N.map(qe=>qe.path).map(qe=>Array.isArray(qe)?qe:[qe]).flatMap(qe=>G==null?[]:ct(G,qe).map($e=>st.path($e)).filter($e=>!Zt($e,L)))),i.$$.dirty[1]&16&&t(19,S=B.map(qe=>({id:qe,text:ht(qe)}))),i.$$.dirty[0]&8|i.$$.dirty[1]&2048&&t(8,M=Fi((Ne=U.data)==null?void 0:Ne.schema,L)),i.$$.dirty[0]&256&&t(18,C=M.length===0),i.$$.dirty[0]&8|i.$$.dirty[1]&2048&&t(9,D=U.data!=null&&L!=null?Qt(U.data.schema,L):null),i.$$.dirty[0]&514&&t(17,k=D!=null?ji(D,be):null),i.$$.dirty[0]&1032){t(14,T=null);for(const qe of H.compareColumns)if(it(qe.column,L)){t(14,T=qe);break}}i.$$.dirty[0]&8|i.$$.dirty[1]&1024&&t(34,p=((rt=(xe=(je=re.data)==null?void 0:je.ui)==null?void 0:xe.markdown_paths)==null?void 0:rt.find(qe=>it(qe,L)))!=null),i.$$.dirty[1]&1024&&t(16,Y=((dt=(ot=re.data)==null?void 0:ot.ui)==null?void 0:dt.view_type)||"single_item"),i.$$.dirty[0]&128|i.$$.dirty[1]&8&&t(15,ce=De!==void 0?De:p)},[G,be,X,L,v,z,he,De,M,D,H,_e,pe,Ce,T,ce,Y,k,C,S,O,d,f,u,o,a,n,l,R,ke,ge,Ee,j,ve,p,B,N,m,_,s,r,re,U,F,se,Fe,Ye,Oe,ze,We,tt,lt]}class Ei extends Le{constructor(e){super(),Be(this,e,Ts,Vs,He,{row:0,highlightedFields:1,mediaFields:2,rootPath:3,isFetching:4,datasetViewHeight:5},null,[-1,-1])}}function Cs(i){let e,t,l,n;return{c(){e=E("button"),t=te(i[1]),this.h()},l(a){e=I(a,"BUTTON",{class:!0});var r=g(e);t=le(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],b(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),q(e,"bg-slate-500",i[0]),q(e,"bg-white",!i[0]),q(e,"hover:bg-slate-500",i[0]),q(e,"hover:bg-transparent",!i[0]),q(e,"text-white",i[0])},m(a,r){A(a,e,r),h(e,t),l||(n=Qe(e,"click",i[3]),l=!0)},p(a,[r]){r&2&&Ie(t,a[1]),r&4&&(e.disabled=a[2]),r&1&&q(e,"bg-slate-500",a[0]),r&1&&q(e,"bg-white",!a[0]),r&1&&q(e,"hover:bg-slate-500",a[0]),r&1&&q(e,"hover:bg-transparent",!a[0]),r&1&&q(e,"text-white",a[0])},i:Z,o:Z,d(a){a&&c(e),l=!1,n()}}}function Ss(i,e,t){let{label:l}=e,{active:n}=e,{disabled:a=!1}=e;function r(o){$l.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,a=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!a)},[n,l,a,r]}class Ds extends Le{constructor(e){super(),Be(this,e,Ss,Cs,He,{label:1,active:0,disabled:2})}}function Os(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=te("Restore "),l=E("span"),a=te(n),r=te(`
    rows?`),this.h()},l(s){e=I(s,"P",{});var u=g(e);t=le(u,"Restore "),l=I(u,"SPAN",{class:!0});var f=g(l);a=le(f,n),f.forEach(c),r=le(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){A(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Ie(a,n)},d(s){s&&c(e)}}}function Ps(i){let e,t,l,n,a,r,o,s,u,f;return l=new mi({}),o=new Ft({props:{size:"xs",open:i[2]&&i[3],modalHeading:"Restore rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Os]},$$scope:{ctx:i}}}),o.$on("submit",i[12]),o.$on("click:button--secondary",i[13]),o.$on("close",i[14]),{c(){e=E("div"),t=E("button"),ae(l.$$.fragment),r=ie(),ae(o.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var _=g(e);t=I(_,"BUTTON",{class:!0});var m=g(t);de(l.$$.fragment,m),m.forEach(c),_.forEach(c),r=ne(d),de(o.$$.fragment,d),this.h()},h(){t.disabled=n=!i[3],b(t,"class","rounded border border-gray-300 bg-white hover:border-gray-500 hover:bg-transparent"),q(t,"opacity-30",!i[3]),b(e,"class","ml-2 inline-block")},m(d,_){A(d,e,_),h(e,t),oe(l,t,null),A(d,r,_),oe(o,d,_),s=!0,u||(f=[Qe(t,"click",i[11]),Ke(a=Ze.call(null,e,{text:i[3]?i[1]!=null&&i[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."}))],u=!0)},p(d,[_]){(!s||_&8&&n!==(n=!d[3]))&&(t.disabled=n),(!s||_&8)&&q(t,"opacity-30",!d[3]),a&&nt(a.update)&&_&10&&a.update.call(null,{text:d[3]?d[1]!=null&&d[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."});const m={};_&12&&(m.open=d[2]&&d[3]),_&262145&&(m.$$scope={dirty:_,ctx:d}),o.$set(m)},i(d){s||(w(l.$$.fragment,d),w(o.$$.fragment,d),s=!0)},o(d){y(l.$$.fragment,d),y(o.$$.fragment,d),s=!1},d(d){d&&c(e),ue(l),d&&c(r),ue(o,d),u=!1,at(f)}}}function Rs(i,e,t){let l,n,a,r,{rowIds:o=void 0}=e,{searches:s=void 0}=e,{filters:u=void 0}=e,{numRows:f=void 0}=e;const d=St();Xe(i,d,k=>t(10,r=k));const _=Tt(),m=gt();Xe(i,m,k=>t(15,n=k));const O=Ui();Xe(i,O,k=>t(16,a=k));function N(){a.mutate([n.namespace,n.datasetName,{row_ids:o,searches:s,filters:u}],{onSuccess:()=>{_("restore"),t(2,B=!1),close()}})}let B=!1;const S=()=>{t(2,B=!0)},M=()=>N(),C=()=>{t(2,B=!1)},D=()=>t(2,B=!1);return i.$$set=k=>{"rowIds"in k&&t(1,o=k.rowIds),"searches"in k&&t(8,s=k.searches),"filters"in k&&t(9,u=k.filters),"numRows"in k&&t(0,f=k.numRows)},i.$$.update=()=>{var k;i.$$.dirty&1024&&t(3,l=(k=r.data)==null?void 0:k.access.dataset.delete_rows),i.$$.dirty&3&&f==null&&o!=null&&t(0,f=o.length)},[f,o,B,l,d,m,O,N,s,u,r,S,M,C,D]}class As extends Le{constructor(e){super(),Be(this,e,Rs,Ps,He,{rowIds:1,searches:8,filters:9,numRows:0})}}function zt(i){const e=i.slice(),t=e[3]!=null&&e[3]<e[4]-1;return e[52]=t,e}function Lt(i){const e=i.slice(),t=e[3]!=null&&e[3]>0;return e[53]=t,e}function Rl(i,e,t){const l=i.slice();return l[54]=e[t],l}function Al(i){let e,t,l,n,a,r;function o(){return i[40](i[54])}return t=new Ds({props:{label:i[54],disabled:i[13].has(i[54])||i[20],active:i[16].includes(i[54])}}),t.$on("click",o),{c(){e=E("div"),ae(t.$$.fragment),this.h()},l(s){e=I(s,"DIV",{});var u=g(e);de(t.$$.fragment,u),u.forEach(c),this.h()},h(){q(e,"opacity-50",i[13].has(i[54]))},m(s,u){A(s,e,u),oe(t,e,null),n=!0,a||(r=Ke(l=Ze.call(null,e,{text:i[17][i[54]]!=null?`Keyboard: ${i[17][i[54]]}`:""})),a=!0)},p(s,u){i=s;const f={};u[0]&524288&&(f.label=i[54]),u[0]&1581056&&(f.disabled=i[13].has(i[54])||i[20]),u[0]&589824&&(f.active=i[16].includes(i[54])),t.$set(f),l&&nt(l.update)&&u[0]&655360&&l.update.call(null,{text:i[17][i[54]]!=null?`Keyboard: ${i[17][i[54]]}`:""}),(!n||u[0]&532480)&&q(e,"opacity-50",i[13].has(i[54]))},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){y(t.$$.fragment,s),n=!1},d(s){s&&c(e),ue(t),a=!1,r()}}}function zl(i){let e,t,l,n,a,r,o;return l=new In({props:{title:"Previous item",size:24}}),{c(){e=E("div"),t=E("button"),ae(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=g(e);t=I(u,"BUTTON",{});var f=g(t);de(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[53],q(t,"opacity-30",!i[53]),b(e,"class","flex-0 my-0.5")},m(s,u){A(s,e,u),h(e,t),oe(l,t,null),a=!0,r||(o=Qe(t,"click",i[41]),r=!0)},p(s,u){(!a||u[0]&8&&n!==(n=!s[53]))&&(t.disabled=n),(!a||u[0]&8)&&q(t,"opacity-30",!s[53])},i(s){a||(w(l.$$.fragment,s),a=!0)},o(s){y(l.$$.fragment,s),a=!1},d(s){s&&c(e),ue(l),r=!1,o()}}}function zs(i){let e,t,l;return t=new kt({props:{lines:1,class:"!w-10"}}),{c(){e=E("div"),ae(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=g(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){A(n,e,a),oe(t,e,null),l=!0},p:Z,i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){y(t.$$.fragment,n),l=!1},d(n){n&&c(e),ue(t)}}}function Ls(i){let e=i[3]+1+"",t;return{c(){t=te(e)},l(l){t=le(l,e)},m(l,n){A(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[3]+1+"")&&Ie(t,e)},i:Z,o:Z,d(l){l&&c(t)}}}function Bs(i){let e,t,l;return t=new kt({props:{lines:1,class:"!w-20"}}),{c(){e=E("div"),ae(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=g(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){A(n,e,a),oe(t,e,null),l=!0},p:Z,i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){y(t.$$.fragment,n),l=!1},d(n){n&&c(e),ue(t)}}}function Hs(i){let e=Mt(i[4])+"",t;return{c(){t=te(e)},l(l){t=le(l,e)},m(l,n){A(l,t,n)},p(l,n){n[0]&16&&e!==(e=Mt(l[4])+"")&&Ie(t,e)},i:Z,o:Z,d(l){l&&c(t)}}}function Ll(i){let e,t,l,n,a,r,o;return l=new Tn({props:{title:"Next item",size:24}}),{c(){e=E("div"),t=E("button"),ae(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=g(e);t=I(u,"BUTTON",{});var f=g(t);de(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[52],q(t,"opacity-30",!i[52]),b(e,"class","flex-0")},m(s,u){A(s,e,u),h(e,t),oe(l,t,null),a=!0,r||(o=Qe(t,"click",i[42]),r=!0)},p(s,u){(!a||u[0]&24&&n!==(n=!s[52]))&&(t.disabled=n),(!a||u[0]&24)&&q(t,"opacity-30",!s[52])},i(s){a||(w(l.$$.fragment,s),a=!0)},o(s){y(l.$$.fragment,s),a=!1},d(s){s&&c(e),ue(l),r=!1,o()}}}function Bl(i){let e,t,l,n;const a=[Fs,Ns],r=[];function o(s,u){return s[11].viewTrash?1:0}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=et()},l(s){t.l(s),l=et()},m(s,u){r[e].m(s,u),A(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),y(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){y(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Ns(i){let e,t;return e=new As({props:{rowIds:[i[0]]}}),e.$on("restore",i[45]),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const a={};n[0]&1&&(a.rowIds=[l[0]]),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Fs(i){let e,t,l;function n(r){i[43](r)}let a={rowIds:[i[0]]};return i[12]!==void 0&&(a.modalOpen=i[12]),e=new lr({props:a}),ft.push(()=>wt(e,"modalOpen",n)),e.$on("deleted",i[44]),{c(){ae(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.rowIds=[r[0]]),!t&&o[0]&4096&&(t=!0,s.modalOpen=r[12],pt(()=>t=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){y(e.$$.fragment,r),l=!1},d(r){ue(e,r)}}}function Hl(i){let e,t,l;return t=new kt({props:{class:"w-20",lines:1}}),{c(){e=E("div"),ae(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=g(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","absolute top-0 h-2 w-full overflow-hidden")},m(n,a){A(n,e,a),oe(t,e,null),l=!0},i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){y(t.$$.fragment,n),l=!1},d(n){n&&c(e),ue(t)}}}function Nl(i){let e,t,l,n,a,r,o;return n=new on({props:{row:i[8],selectRowsSchema:i[10].data,highlightedFields:i[2]}}),{c(){e=E("div"),t=E("div"),l=E("div"),ae(n.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=g(e);t=I(u,"DIV",{class:!0});var f=g(t);l=I(f,"DIV",{style:!0,class:!0});var d=g(l);de(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){b(l,"style",a=`max-height: ${Math.max(Fl,i[14])}px`),b(l,"class","overflow-y-auto"),b(t,"class","sticky top-0 w-full self-start"),b(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(s,u){A(s,e,u),h(e,t),h(t,l),oe(n,l,null),o=!0},p(s,u){i=s;const f={};u[0]&256&&(f.row=i[8]),u[0]&1024&&(f.selectRowsSchema=i[10].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&16384&&a!==(a=`max-height: ${Math.max(Fl,i[14])}px`))&&b(l,"style",a)},i(s){o||(w(n.$$.fragment,s),Ht(()=>{o&&(r||(r=Kt(e,Xt,{axis:"x",duration:Wt},!0)),r.run(1))}),o=!0)},o(s){y(n.$$.fragment,s),r||(r=Kt(e,Xt,{axis:"x",duration:Wt},!1)),r.run(0),o=!1},d(s){s&&c(e),ue(n),s&&r&&r.end()}}}function js(i){let e,t,l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M,C,D,k,p,Y,ce,re,$,ee,H,fe,U,P,V,F,W,ye,se,Se,Q,G,be,X=i[19]||[],L=[];for(let j=0;j<X.length;j+=1)L[j]=Al(Rl(i,X,j));const v=j=>y(L[j],1,1,()=>{L[j]=null});s=new pr({props:{icon:hi,labelsQuery:{row_ids:i[0]!=null?[i[0]]:[]},hideLabels:i[16]}});let z=i[5]!=null&&zl(Lt(i));const he=[Ls,zs],R=[];function _e(j,T){return j[3]!=null&&j[3]>=0?0:1}N=_e(i),B=R[N]=he[N](i);const pe=[Hs,Bs],Ce=[];function De(j,T){return j[4]!=null?0:1}p=De(i),Y=Ce[p]=pe[p](i);let ke=i[5]!=null&&i[4]!=null&&Ll(zt(i)),ge=i[0]!=null&&Bl(i),Me=i[9].isFetching&&Hl();W=new Ei({props:{mediaFields:i[1],row:i[8],highlightedFields:i[2],isFetching:i[9].isFetching,datasetViewHeight:i[7]-i[15]}});let Ee=i[11].showMetadataPanel&&Nl(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=E("div");for(let j=0;j<L.length;j+=1)L[j].c();r=ie(),o=E("div"),ae(s.$$.fragment),u=ie(),f=E("div"),d=E("div"),z&&z.c(),_=ie(),m=E("div"),O=E("div"),B.c(),S=ie(),M=E("div"),C=te("of"),D=ie(),k=E("span"),Y.c(),ce=ie(),ke&&ke.c(),re=ie(),$=E("div"),ge&&ge.c(),H=ie(),fe=E("div"),U=E("div"),P=E("div"),Me&&Me.c(),V=ie(),F=E("div"),ae(W.$$.fragment),Se=ie(),Ee&&Ee.c(),this.h()},l(j){e=I(j,"DIV",{class:!0});var T=g(e);t=I(T,"DIV",{class:!0});var ve=g(t);l=I(ve,"DIV",{class:!0});var Fe=g(l);n=I(Fe,"DIV",{class:!0});var Ye=g(n);a=I(Ye,"DIV",{class:!0});var Oe=g(a);for(let dt=0;dt<L.length;dt+=1)L[dt].l(Oe);r=ne(Oe),o=I(Oe,"DIV",{class:!0});var ze=g(o);de(s.$$.fragment,ze),ze.forEach(c),Oe.forEach(c),Ye.forEach(c),u=ne(Fe),f=I(Fe,"DIV",{class:!0});var We=g(f);d=I(We,"DIV",{class:!0});var tt=g(d);z&&z.l(tt),_=ne(tt),m=I(tt,"DIV",{class:!0});var lt=g(m);O=I(lt,"DIV",{class:!0});var me=g(O);B.l(me),me.forEach(c),S=ne(lt),M=I(lt,"DIV",{class:!0});var Ue=g(M);C=le(Ue,"of"),Ue.forEach(c),D=ne(lt),k=I(lt,"SPAN",{class:!0});var K=g(k);Y.l(K),K.forEach(c),lt.forEach(c),ce=ne(tt),ke&&ke.l(tt),tt.forEach(c),We.forEach(c),re=ne(Fe),$=I(Fe,"DIV",{class:!0});var Ne=g($);ge&&ge.l(Ne),Ne.forEach(c),Fe.forEach(c),ve.forEach(c),H=ne(T),fe=I(T,"DIV",{class:!0});var je=g(fe);U=I(je,"DIV",{class:!0});var xe=g(U);P=I(xe,"DIV",{class:!0});var rt=g(P);Me&&Me.l(rt),V=ne(rt),F=I(rt,"DIV",{class:!0});var ot=g(F);de(W.$$.fragment,ot),ot.forEach(c),rt.forEach(c),xe.forEach(c),Se=ne(je),Ee&&Ee.l(je),je.forEach(c),T.forEach(c),this.h()},h(){b(o,"class","relative mr-8 h-8"),b(a,"class","flex w-full flex-row flex-wrap items-center gap-x-2 gap-y-2 pl-2"),q(a,"opacity-50",i[20]),b(n,"class","flex w-1/3 flex-row"),b(O,"class","flex"),b(M,"class","text-gray-500 opacity-80"),b(k,"class","inline-flex text-gray-500 opacity-80"),b(m,"class","mx-2 flex w-32 flex-row justify-center justify-items-center gap-x-1.5"),b(d,"class","flex w-full flex-row items-center justify-center truncate text-center text-lg"),b(f,"class","w-1/3 items-center justify-items-center self-center justify-self-center"),b($,"class","flex w-1/3 flex-row items-center justify-end pr-2"),b(l,"class","flex w-full rounded-t-lg border border-neutral-300 bg-violet-200 bg-opacity-70 py-2"),Ht(()=>i[46].call(l)),q(l,"bg-violet-200",!i[11].viewTrash),q(l,"bg-opacity-70",!i[11].viewTrash),q(l,"bg-red-500",i[11].viewTrash),q(l,"bg-opacity-20",i[11].viewTrash),b(t,"class","sticky top-0 z-10 flex w-full flex-row justify-between bg-white"),b(F,"class","flex w-full flex-col"),b(P,"class","rounded-b border-b border-l border-r border-neutral-300"),b(U,"class",ye=`flex flex-col ${i[11].showMetadataPanel?"w-2/3":"grow "}`),Ht(()=>i[47].call(U)),b(fe,"class","flex w-full flex-row"),b(e,"class","relative flex w-full flex-col rounded md:flex-col")},m(j,T){A(j,e,T),h(e,t),h(t,l),h(l,n),h(n,a);for(let ve=0;ve<L.length;ve+=1)L[ve]&&L[ve].m(a,null);h(a,r),h(a,o),oe(s,o,null),h(l,u),h(l,f),h(f,d),z&&z.m(d,null),h(d,_),h(d,m),h(m,O),R[N].m(O,null),h(m,S),h(m,M),h(M,C),h(m,D),h(m,k),Ce[p].m(k,null),h(d,ce),ke&&ke.m(d,null),h(l,re),h(l,$),ge&&ge.m($,null),ee=Yt(l,i[46].bind(l)),h(e,H),h(e,fe),h(fe,U),h(U,P),Me&&Me.m(P,null),h(P,V),h(P,F),oe(W,F,null),se=Yt(U,i[47].bind(U)),h(fe,Se),Ee&&Ee.m(fe,null),Q=!0,G||(be=Qe(window,"keydown",i[30]),G=!0)},p(j,T){if(T[0]&807084032){X=j[19]||[];let ze;for(ze=0;ze<X.length;ze+=1){const We=Rl(j,X,ze);L[ze]?(L[ze].p(We,T),w(L[ze],1)):(L[ze]=Al(We),L[ze].c(),w(L[ze],1),L[ze].m(a,r))}for(Ve(),ze=X.length;ze<L.length;ze+=1)v(ze);Te()}const ve={};T[0]&1&&(ve.labelsQuery={row_ids:j[0]!=null?[j[0]]:[]}),T[0]&65536&&(ve.hideLabels=j[16]),s.$set(ve),(!Q||T[0]&1048576)&&q(a,"opacity-50",j[20]),j[5]!=null?z?(z.p(Lt(j),T),T[0]&32&&w(z,1)):(z=zl(Lt(j)),z.c(),w(z,1),z.m(d,_)):z&&(Ve(),y(z,1,1,()=>{z=null}),Te());let Fe=N;N=_e(j),N===Fe?R[N].p(j,T):(Ve(),y(R[Fe],1,1,()=>{R[Fe]=null}),Te(),B=R[N],B?B.p(j,T):(B=R[N]=he[N](j),B.c()),w(B,1),B.m(O,null));let Ye=p;p=De(j),p===Ye?Ce[p].p(j,T):(Ve(),y(Ce[Ye],1,1,()=>{Ce[Ye]=null}),Te(),Y=Ce[p],Y?Y.p(j,T):(Y=Ce[p]=pe[p](j),Y.c()),w(Y,1),Y.m(k,null)),j[5]!=null&&j[4]!=null?ke?(ke.p(zt(j),T),T[0]&48&&w(ke,1)):(ke=Ll(zt(j)),ke.c(),w(ke,1),ke.m(d,null)):ke&&(Ve(),y(ke,1,1,()=>{ke=null}),Te()),j[0]!=null?ge?(ge.p(j,T),T[0]&1&&w(ge,1)):(ge=Bl(j),ge.c(),w(ge,1),ge.m($,null)):ge&&(Ve(),y(ge,1,1,()=>{ge=null}),Te()),(!Q||T[0]&2048)&&q(l,"bg-violet-200",!j[11].viewTrash),(!Q||T[0]&2048)&&q(l,"bg-opacity-70",!j[11].viewTrash),(!Q||T[0]&2048)&&q(l,"bg-red-500",j[11].viewTrash),(!Q||T[0]&2048)&&q(l,"bg-opacity-20",j[11].viewTrash),j[9].isFetching?Me?T[0]&512&&w(Me,1):(Me=Hl(),Me.c(),w(Me,1),Me.m(P,V)):Me&&(Ve(),y(Me,1,1,()=>{Me=null}),Te());const Oe={};T[0]&2&&(Oe.mediaFields=j[1]),T[0]&256&&(Oe.row=j[8]),T[0]&4&&(Oe.highlightedFields=j[2]),T[0]&512&&(Oe.isFetching=j[9].isFetching),T[0]&32896&&(Oe.datasetViewHeight=j[7]-j[15]),W.$set(Oe),(!Q||T[0]&2048&&ye!==(ye=`flex flex-col ${j[11].showMetadataPanel?"w-2/3":"grow "}`))&&b(U,"class",ye),j[11].showMetadataPanel?Ee?(Ee.p(j,T),T[0]&2048&&w(Ee,1)):(Ee=Nl(j),Ee.c(),w(Ee,1),Ee.m(fe,null)):Ee&&(Ve(),y(Ee,1,1,()=>{Ee=null}),Te())},i(j){if(!Q){for(let T=0;T<X.length;T+=1)w(L[T]);w(s.$$.fragment,j),w(z),w(B),w(Y),w(ke),w(ge),w(Me),w(W.$$.fragment,j),w(Ee),Q=!0}},o(j){L=L.filter(Boolean);for(let T=0;T<L.length;T+=1)y(L[T]);y(s.$$.fragment,j),y(z),y(B),y(Y),y(ke),y(ge),y(Me),y(W.$$.fragment,j),y(Ee),Q=!1},d(j){j&&c(e),Ct(L,j),ue(s),z&&z.d(),R[N].d(),Ce[p].d(),ke&&ke.d(),ge&&ge.d(),ee(),Me&&Me.d(),ue(W),se(),Ee&&Ee.d(),G=!1,be()}}}const Fl=165;function qs(i,e,t){let l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M,C,D,k=Z,p=()=>(k(),k=Ge(a,K=>t(37,D=K)),a),Y,ce=Z,re=()=>(ce(),ce=Ge(f,K=>t(49,Y=K)),f),$,ee=Z,H=()=>(ee(),ee=Ge(S,K=>t(50,$=K)),S),fe,U=Z,P=()=>(U(),U=Ge(_,K=>t(9,fe=K)),_),V,F=Z,W=()=>(F(),F=Ge(s,K=>t(38,V=K)),s),ye,se=Z,Se=()=>(se(),se=Ge(u,K=>t(10,ye=K)),u),Q,G;i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>ce()),i.$$.on_destroy.push(()=>ee()),i.$$.on_destroy.push(()=>U()),i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>se());let{rowId:be}=e,{mediaFields:X}=e,{highlightedFields:L}=e,{index:v=void 0}=e,{totalNumRows:z=void 0}=e,{updateSequentialRowId:he=void 0}=e,{nextRowId:R=void 0}=e,{modalOpen:_e=!1}=e,{datasetViewHeight:pe}=e,Ce=!1;const De=gt();Xe(i,De,K=>t(11,Q=K));const ke=di(),ge=St();Xe(i,ge,K=>t(39,G=K));let Me=new Set,Ee=0;function j(K){if(be==null||!o)return;const Ne={row_ids:[be],label_name:K};Me.add(K),t(13,Me),t(35,M),t(9,fe),$.mutate([l,n,Ne],{onSuccess:je=>{if(je===1)return;const xe=Ne.row_ids!=null?`Document id: ${Ne.row_ids}`:`${je.toLocaleString()} rows labeled`;ke.addNotification({kind:"success",title:`Added label "${Ne.label_name}"`,message:xe})}})}function T(K){if(be==null||!o)return;const Ne={label_name:K,row_ids:[be]};Me.add(K),t(13,Me),t(35,M),t(9,fe),Y.mutate([l,n,Ne],{onSuccess:je=>{je!==1&&ke.addNotification({kind:"success",title:`Removed label "${Ne.label_name}"`,message:`Document id: ${be}`})}})}function ve(K){if(!(r!=="single_item"||_e))if(K.code==="Delete"||K.code==="Backspace")t(12,Ce=!0);else for(const Ne of Object.keys(C))C[Ne]===K.code&&(O.includes(Ne)?T(Ne):j(Ne))}let Fe;const Ye=K=>{O.includes(K)?T(K):j(K)},Oe=()=>he!=null?he("previous"):null,ze=()=>he!=null?he("next"):null;function We(K){Ce=K,t(12,Ce)}const tt=()=>R!=null?De.setRowId(R):null,lt=()=>R!=null?De.setRowId(R):null;function me(){Fe=this.clientHeight,t(15,Fe)}function Ue(){Ee=this.clientHeight,t(14,Ee)}return i.$$set=K=>{"rowId"in K&&t(0,be=K.rowId),"mediaFields"in K&&t(1,X=K.mediaFields),"highlightedFields"in K&&t(2,L=K.highlightedFields),"index"in K&&t(3,v=K.index),"totalNumRows"in K&&t(4,z=K.totalNumRows),"updateSequentialRowId"in K&&t(5,he=K.updateSequentialRowId),"nextRowId"in K&&t(6,R=K.nextRowId),"modalOpen"in K&&t(31,_e=K.modalOpen),"datasetViewHeight"in K&&t(7,pe=K.datasetViewHeight)},i.$$.update=()=>{var K,Ne,je,xe,rt,ot;i.$$.dirty[0]&2048&&t(33,l=Q.namespace),i.$$.dirty[0]&2048&&t(32,n=Q.datasetName),i.$$.dirty[1]&6&&p(t(25,a=si(l,n))),i.$$.dirty[1]&64&&(r=((Ne=(K=D.data)==null?void 0:K.ui)==null?void 0:Ne.view_type)||"single_item"),i.$$.dirty[1]&256&&t(34,o=(je=G.data)==null?void 0:je.access.dataset.edit_labels),i.$$.dirty[1]&6&&W(t(24,s=Dt(l,n))),i.$$.dirty[0]&2048|i.$$.dirty[1]&134&&Se(t(23,u=ni(l,n,ri(Q,V.data)))),i.$$.dirty[1]&128&&re(t(22,f=V.data!=null?ti(V.data):null)),i.$$.dirty[0]&2048|i.$$.dirty[1]&128&&t(36,d=Yi(Q,V.data)),i.$$.dirty[0]&1025|i.$$.dirty[1]&38&&P(t(21,_=Ki(l,n,be,d,(xe=ye.data)==null?void 0:xe.schema,be!=null&&ye.data!=null))),i.$$.dirty[0]&512&&t(8,m=fe.data),i.$$.dirty[0]&256&&t(16,O=m!=null?Zi(m):[]),i.$$.dirty[1]&8&&t(20,N=!o),i.$$.dirty[1]&128&&t(19,B=V.data&&li(V.data)),i.$$.dirty[1]&128&&H(t(18,S=V.data!=null?ei(V.data):null)),i.$$.dirty[0]&512&&t(35,M=fe.isStale),i.$$.dirty[1]&16&&(M||t(13,Me=new Set)),i.$$.dirty[1]&64&&t(17,C=((ot=(rt=D.data)==null?void 0:rt.ui)==null?void 0:ot.label_to_keycode)||{})},[be,X,L,v,z,he,R,pe,m,fe,ye,Q,Ce,Me,Ee,Fe,O,C,S,B,N,_,f,u,s,a,De,ge,j,T,ve,_e,n,l,o,M,d,D,V,G,Ye,Oe,ze,We,tt,lt,me,Ue]}class ma extends Le{constructor(e){super(),Be(this,e,qs,js,He,{rowId:0,mediaFields:1,highlightedFields:2,index:3,totalNumRows:4,updateSequentialRowId:5,nextRowId:6,modalOpen:31,datasetViewHeight:7},null,[-1,-1])}}function jl(i){let e,t,l;var n=i[2];function a(r){return{}}return n&&(t=_t(n,a())),{c(){e=E("div"),t&&ae(t.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=g(e);t&&de(t.$$.fragment,o),o.forEach(c),this.h()},h(){b(e,"class","mr-2")},m(r,o){A(r,e,o),t&&oe(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){Ve();const s=t;y(s.$$.fragment,1,0,()=>{ue(s,1)}),Te()}n?(t=_t(n,a()),ae(t.$$.fragment),w(t.$$.fragment,1),oe(t,e,null)):t=null}},i(r){l||(t&&w(t.$$.fragment,r),l=!0)},o(r){t&&y(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&ue(t)}}}function Us(i){let e,t,l,n,a,r,o,s,u=i[2]!=null&&jl(i);return{c(){e=E("button"),u&&u.c(),t=ie(),l=E("div"),n=te(i[1]),this.h()},l(f){e=I(f,"BUTTON",{class:!0});var d=g(e);u&&u.l(d),t=ne(d),l=I(d,"DIV",{class:!0});var _=g(l);n=le(_,i[1]),_.forEach(c),d.forEach(c),this.h()},h(){b(l,"class","text-sm"),b(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),q(e,"active",i[0])},m(f,d){A(f,e,d),u&&u.m(e,null),h(e,t),h(e,l),h(l,n),r=!0,o||(s=[Qe(e,"click",i[4]),Ke(a=Ze.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&w(u,1)):(u=jl(f),u.c(),w(u,1),u.m(e,t)):u&&(Ve(),y(u,1,1,()=>{u=null}),Te()),(!r||d&2)&&Ie(n,f[1]),a&&nt(a.update)&&d&8&&a.update.call(null,{text:f[3]}),(!r||d&1)&&q(e,"active",f[0])},i(f){r||(w(u),r=!0)},o(f){y(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,at(s)}}}function Ys(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:a=void 0}=e,{tooltip:r=void 0}=e;function o(s){$l.call(this,i,s)}return i.$$set=s=>{"active"in s&&t(0,l=s.active),"label"in s&&t(1,n=s.label),"icon"in s&&t(2,a=s.icon),"tooltip"in s&&t(3,r=s.tooltip)},[l,n,a,r,o]}class ql extends Le{constructor(e){super(),Be(this,e,Ys,Us,He,{active:0,label:1,icon:2,tooltip:3})}}function Ul(i,e,t){const l=i.slice();return l[26]=e[t],l}function Yl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function Bt(i){const e=i.slice(),t=oi(e[30]);e[33]=t;const l=ui(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const a=e[32]===e[0].ui.media_paths.length-1;return e[36]=a,e}function Ks(i){let e,t,l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M,C,D,k,p,Y,ce,re,$,ee,H,fe,U,P;const V=[Ws,Qs],F=[];function W(Q,G){var be;return((be=Q[0].ui)==null?void 0:be.media_paths)!=null&&Q[1]!=null?0:1}u=W(i),f=F[u]=V[u](i),S=new ql({props:{icon:Wn,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),S.$on("click",i[22]),C=new ql({props:{icon:qn,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),C.$on("click",i[23]);const ye=[xs,Js],se=[];function Se(Q,G){return Q[6].isFetching?0:1}return fe=Se(i),U=se[fe]=ye[fe](i),{c(){e=E("div"),t=E("section"),l=E("div"),n=te("Media fields"),a=ie(),r=E("div"),o=te(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),s=ie(),f.c(),d=ie(),_=E("section"),m=E("div"),O=te("View type"),N=ie(),B=E("div"),ae(S.$$.fragment),M=ie(),ae(C.$$.fragment),D=ie(),k=E("section"),p=E("div"),Y=te("Preferred embedding"),ce=ie(),re=E("div"),$=te("This embedding will be used by default when indexing and querying the data."),ee=ie(),H=E("div"),U.c(),this.h()},l(Q){e=I(Q,"DIV",{class:!0});var G=g(e);t=I(G,"SECTION",{class:!0});var be=g(t);l=I(be,"DIV",{class:!0});var X=g(l);n=le(X,"Media fields"),X.forEach(c),a=ne(be),r=I(be,"DIV",{class:!0});var L=g(r);o=le(L,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),L.forEach(c),s=ne(be),f.l(be),be.forEach(c),d=ne(G),_=I(G,"SECTION",{class:!0});var v=g(_);m=I(v,"DIV",{class:!0});var z=g(m);O=le(z,"View type"),z.forEach(c),N=ne(v),B=I(v,"DIV",{class:!0});var he=g(B);de(S.$$.fragment,he),M=ne(he),de(C.$$.fragment,he),he.forEach(c),v.forEach(c),D=ne(G),k=I(G,"SECTION",{class:!0});var R=g(k);p=I(R,"DIV",{class:!0});var _e=g(p);Y=le(_e,"Preferred embedding"),_e.forEach(c),ce=ne(R),re=I(R,"DIV",{class:!0});var pe=g(re);$=le(pe,"This embedding will be used by default when indexing and querying the data."),pe.forEach(c),ee=ne(R),H=I(R,"DIV",{class:!0});var Ce=g(H);U.l(Ce),Ce.forEach(c),R.forEach(c),G.forEach(c),this.h()},h(){b(l,"class","text-lg text-gray-700"),b(r,"class","mb-2 text-sm text-gray-500"),b(t,"class","flex flex-col gap-y-2"),b(m,"class","mb-2 text-lg text-gray-700"),b(B,"class","flex gap-x-2"),b(_,"class","flex flex-col gap-y-1"),b(p,"class","text-lg text-gray-700"),b(re,"class","text-sm text-gray-500"),b(H,"class","w-60"),b(k,"class","flex flex-col gap-y-1"),b(e,"class","flex flex-col gap-y-6")},m(Q,G){A(Q,e,G),h(e,t),h(t,l),h(l,n),h(t,a),h(t,r),h(r,o),h(t,s),F[u].m(t,null),h(e,d),h(e,_),h(_,m),h(m,O),h(_,N),h(_,B),oe(S,B,null),h(B,M),oe(C,B,null),h(e,D),h(e,k),h(k,p),h(p,Y),h(k,ce),h(k,re),h(re,$),h(k,ee),h(k,H),se[fe].m(H,null),P=!0},p(Q,G){let be=u;u=W(Q),u===be?F[u].p(Q,G):(Ve(),y(F[be],1,1,()=>{F[be]=null}),Te(),f=F[u],f?f.p(Q,G):(f=F[u]=V[u](Q),f.c()),w(f,1),f.m(t,null));const X={};G[0]&16&&(X.active=Q[4]=="scroll"),S.$set(X);const L={};G[0]&16&&(L.active=Q[4]=="single_item"),C.$set(L);let v=fe;fe=Se(Q),fe===v?se[fe].p(Q,G):(Ve(),y(se[v],1,1,()=>{se[v]=null}),Te(),U=se[fe],U?U.p(Q,G):(U=se[fe]=ye[fe](Q),U.c()),w(U,1),U.m(H,null))},i(Q){P||(w(f),w(S.$$.fragment,Q),w(C.$$.fragment,Q),w(U),P=!0)},o(Q){y(f),y(S.$$.fragment,Q),y(C.$$.fragment,Q),y(U),P=!1},d(Q){Q&&c(e),F[u].d(),ue(S),ue(C),se[fe].d()}}}function Zs(i){let e,t;return e=new kt({}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p:Z,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Qs(i){let e,t;return e=new fi({}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p:Z,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Ws(i){let e,t,l,n,a,r,o,s,u,f,d,_,m,O,N,B,S,M,C=i[1]&&Kl(i),D=i[3]&&Gl(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=ie(),r=E("div"),o=te("Field"),s=ie(),u=E("div"),f=te("Markdown"),d=ie(),_=E("div"),m=ie(),C&&C.c(),O=ie(),N=E("div"),D&&D.c(),this.h()},l(k){e=I(k,"DIV",{class:!0});var p=g(e);t=I(p,"DIV",{class:!0});var Y=g(t);l=I(Y,"DIV",{class:!0});var ce=g(l);n=I(ce,"DIV",{class:!0}),g(n).forEach(c),a=ne(ce),r=I(ce,"DIV",{class:!0});var re=g(r);o=le(re,"Field"),re.forEach(c),s=ne(ce),u=I(ce,"DIV",{class:!0});var $=g(u);f=le($,"Markdown"),$.forEach(c),d=ne(ce),_=I(ce,"DIV",{class:!0}),g(_).forEach(c),ce.forEach(c),Y.forEach(c),m=ne(p),C&&C.l(p),p.forEach(c),O=ne(k),N=I(k,"DIV",{class:!0});var ee=g(N);D&&D.l(ee),ee.forEach(c),this.h()},h(){b(n,"class","table-cell"),b(r,"class","table-cell"),b(u,"class","table-cell"),b(_,"class","table-cell"),b(l,"class","table-row text-xs text-neutral-600"),b(t,"class","table-header-group items-center"),b(e,"class","table border-spacing-1 gap-y-2"),b(N,"class","h-12")},m(k,p){A(k,e,p),h(e,t),h(t,l),h(l,n),h(l,a),h(l,r),h(r,o),h(l,s),h(l,u),h(u,f),h(l,d),h(l,_),h(e,m),C&&C.m(e,null),A(k,O,p),A(k,N,p),D&&D.m(N,null),B=!0,S||(M=Ke(Ze.call(null,u,{text:"Render media field with a markdown renderer."})),S=!0)},p(k,p){k[1]?C?(C.p(k,p),p[0]&2&&w(C,1)):(C=Kl(k),C.c(),w(C,1),C.m(e,null)):C&&(Ve(),y(C,1,1,()=>{C=null}),Te()),k[3]?D?(D.p(k,p),p[0]&8&&w(D,1)):(D=Gl(k),D.c(),w(D,1),D.m(N,null)):D&&(Ve(),y(D,1,1,()=>{D=null}),Te())},i(k){B||(w(C),w(D),B=!0)},o(k){y(C),y(D),B=!1},d(k){k&&c(e),C&&C.d(),k&&c(O),k&&c(N),D&&D.d(),S=!1,M()}}}function Kl(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=Wl(Yl(i,l,r));const a=r=>y(n[r],1,1,()=>{n[r]=null});return{c(){e=E("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=I(r,"DIV",{class:!0});var o=g(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(c),this.h()},h(){b(e,"class","table-row-group")},m(r,o){A(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let s;for(s=0;s<l.length;s+=1){const u=Yl(r,l,s);n[s]?(n[s].p(u,o),w(n[s],1)):(n[s]=Wl(u),n[s].c(),w(n[s],1),n[s].m(e,null))}for(Ve(),s=l.length;s<n.length;s+=1)a(s);Te()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)w(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)y(n[o]);t=!1},d(r){r&&c(e),Ct(n,r)}}}function Zl(i){let e,t,l,n,a,r=i[30].path.indexOf(Nt)>=0,o,s,u=mt(i[30].path)+"",f,d,_,m,O,N,B,S,M,C,D,k,p,Y,ce,re,$,ee,H,fe,U,P,V;const F=[Xs,Gs],W=[];function ye(X,L){return X[30].dtype&&X[30].dtype.type!=="map"?0:1}l=ye(i),n=W[l]=F[l](i);let se=r&&Ql();function Se(...X){return i[17](i[30],...X)}m=new Xi({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),m.$on("toggle",Se),C=new vn({props:{size:16}});function Q(){return i[18](i[30])}Y=new _n({props:{size:16}});function G(){return i[19](i[30])}H=new Ji({props:{size:16}});function be(){return i[20](i[30])}return{c(){e=E("div"),t=E("div"),n.c(),a=ie(),se&&se.c(),o=ie(),s=E("div"),f=te(u),d=ie(),_=E("div"),ae(m.$$.fragment),O=ie(),N=E("div"),B=E("div"),S=E("div"),M=E("button"),ae(C.$$.fragment),D=ie(),k=E("div"),p=E("button"),ae(Y.$$.fragment),re=ie(),$=E("div"),ee=E("button"),ae(H.$$.fragment),fe=ie(),this.h()},l(X){e=I(X,"DIV",{class:!0});var L=g(e);t=I(L,"DIV",{class:!0});var v=g(t);n.l(v),a=ne(v),se&&se.l(v),v.forEach(c),o=ne(L),s=I(L,"DIV",{class:!0});var z=g(s);f=le(z,u),z.forEach(c),d=ne(L),_=I(L,"DIV",{class:!0});var he=g(_);de(m.$$.fragment,he),he.forEach(c),O=ne(L),N=I(L,"DIV",{class:!0});var R=g(N);B=I(R,"DIV",{class:!0});var _e=g(B);S=I(_e,"DIV",{class:!0});var pe=g(S);M=I(pe,"BUTTON",{});var Ce=g(M);de(C.$$.fragment,Ce),Ce.forEach(c),pe.forEach(c),D=ne(_e),k=I(_e,"DIV",{class:!0});var De=g(k);p=I(De,"BUTTON",{});var ke=g(p);de(Y.$$.fragment,ke),ke.forEach(c),De.forEach(c),re=ne(_e),$=I(_e,"DIV",{class:!0});var ge=g($);ee=I(ge,"BUTTON",{});var Me=g(ee);de(H.$$.fragment,Me),Me.forEach(c),ge.forEach(c),_e.forEach(c),R.forEach(c),fe=ne(L),L.forEach(c),this.h()},h(){b(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),q(t,"bg-blue-200",i[33]),q(t,"bg-teal-100",i[34]),b(s,"class","table-cell w-40 align-middle"),b(_,"class","table-cell w-8 align-middle"),M.disabled=i[35],q(M,"opacity-50",i[35]),b(S,"class","ml-auto align-middle"),p.disabled=ce=i[36],q(p,"opacity-50",i[36]),b(k,"class","align-middle"),b($,"class","align-middle"),b(B,"class","flex flex-row gap-x-1"),b(N,"class","table-cell"),b(e,"class","table-row h-10")},m(X,L){A(X,e,L),h(e,t),W[l].m(t,null),h(t,a),se&&se.m(t,null),h(e,o),h(e,s),h(s,f),h(e,d),h(e,_),oe(m,_,null),h(e,O),h(e,N),h(N,B),h(B,S),h(S,M),oe(C,M,null),h(B,D),h(B,k),h(k,p),oe(Y,p,null),h(B,re),h(B,$),h($,ee),oe(H,ee,null),h(e,fe),U=!0,P||(V=[Qe(M,"click",Q),Ke(Ze.call(null,S,{text:"Move media field up"})),Qe(p,"click",G),Ke(Ze.call(null,k,{text:"Move media field down"})),Qe(ee,"click",be),Ke(Ze.call(null,$,{text:"Remove media field"}))],P=!0)},p(X,L){i=X;let v=l;l=ye(i),l===v?W[l].p(i,L):(Ve(),y(W[v],1,1,()=>{W[v]=null}),Te(),n=W[l],n?n.p(i,L):(n=W[l]=F[l](i),n.c()),w(n,1),n.m(t,a)),L[0]&3&&(r=i[30].path.indexOf(Nt)>=0),r?se||(se=Ql(),se.c(),se.m(t,null)):se&&(se.d(1),se=null),(!U||L[0]&3)&&q(t,"bg-blue-200",i[33]),(!U||L[0]&3)&&q(t,"bg-teal-100",i[34]),(!U||L[0]&3)&&u!==(u=mt(i[30].path)+"")&&Ie(f,u);const z={};L[0]&3&&(z.toggled=i[12](i[30])),m.$set(z),(!U||L[0]&1&&ce!==(ce=i[36]))&&(p.disabled=ce),(!U||L[0]&1)&&q(p,"opacity-50",i[36])},i(X){U||(w(n),w(m.$$.fragment,X),w(C.$$.fragment,X),w(Y.$$.fragment,X),w(H.$$.fragment,X),U=!0)},o(X){y(n),y(m.$$.fragment,X),y(C.$$.fragment,X),y(Y.$$.fragment,X),y(H.$$.fragment,X),U=!1},d(X){X&&c(e),W[l].d(),se&&se.d(),ue(m),ue(C),ue(Y),ue(H),P=!1,at(V)}}}function Gs(i){let e,t="{}",l,n;return{c(){e=E("span"),l=te(t),this.h()},l(a){e=I(a,"SPAN",{class:!0,title:!0});var r=g(e);l=le(r,t),r.forEach(c),this.h()},h(){var a;b(e,"class","font-mono"),b(e,"title",n=(a=i[30].dtype)==null?void 0:a.type)},m(a,r){A(a,e,r),h(e,l)},p(a,r){var o;r[0]&3&&n!==(n=(o=a[30].dtype)==null?void 0:o.type)&&b(e,"title",n)},i:Z,o:Z,d(a){a&&c(e)}}}function Xs(i){let e,t,l;var n=Gt[i[30].dtype.type];function a(r){return{props:{title:r[30].dtype.type}}}return n&&(e=_t(n,a(i))),{c(){e&&ae(e.$$.fragment),t=et()},l(r){e&&de(e.$$.fragment,r),t=et()},m(r,o){e&&oe(e,r,o),A(r,t,o),l=!0},p(r,o){const s={};if(o[0]&3&&(s.title=r[30].dtype.type),o[0]&3&&n!==(n=Gt[r[30].dtype.type])){if(e){Ve();const u=e;y(u.$$.fragment,1,0,()=>{ue(u,1)}),Te()}n?(e=_t(n,a(r)),ae(e.$$.fragment),w(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else n&&e.$set(s)},i(r){l||(e&&w(e.$$.fragment,r),l=!0)},o(r){e&&y(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&ue(e,r)}}}function Ql(i){let e;return{c(){e=te("[]")},l(t){e=le(t,"[]")},m(t,l){A(t,e,l)},d(t){t&&c(e)}}}function Wl(i){let e,t,l=i[30]&&Zl(Bt(i));return{c(){l&&l.c(),e=et()},l(n){l&&l.l(n),e=et()},m(n,a){l&&l.m(n,a),A(n,e,a),t=!0},p(n,a){n[30]?l?(l.p(Bt(n),a),a[0]&3&&w(l,1)):(l=Zl(Bt(n)),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(Ve(),y(l,1,1,()=>{l=null}),Te())},i(n){t||(w(l),t=!0)},o(n){y(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function Gl(i){let e,t;return e=new jt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:dn,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const a={};n[0]&8&&(a.disabled=l[3].length===0),n[0]&8&&(a.items=l[3]),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Js(i){var l;let e,t;return e=new Gi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[$s]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){ae(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,a){oe(e,n,a),t=!0},p(n,a){var o;const r={};a[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),a[0]&64|a[1]&64&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){ue(e,n)}}}function xs(i){let e,t;return e=new fi({}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p:Z,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Xl(i){let e,t;return e=new ci({props:{value:i[26].name}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const a={};n[0]&64&&(a.value=l[26].name),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function $s(i){let e,t,l,n;e=new ci({props:{value:void 0,text:"None"}});let a=i[6].data||[],r=[];for(let s=0;s<a.length;s+=1)r[s]=Xl(Ul(i,a,s));const o=s=>y(r[s],1,1,()=>{r[s]=null});return{c(){ae(e.$$.fragment),t=ie();for(let s=0;s<r.length;s+=1)r[s].c();l=et()},l(s){de(e.$$.fragment,s),t=ne(s);for(let u=0;u<r.length;u+=1)r[u].l(s);l=et()},m(s,u){oe(e,s,u),A(s,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);A(s,l,u),n=!0},p(s,u){if(u[0]&64){a=s[6].data||[];let f;for(f=0;f<a.length;f+=1){const d=Ul(s,a,f);r[f]?(r[f].p(d,u),w(r[f],1)):(r[f]=Xl(d),r[f].c(),w(r[f],1),r[f].m(l.parentNode,l))}for(Ve(),f=a.length;f<r.length;f+=1)o(f);Te()}},i(s){if(!n){w(e.$$.fragment,s);for(let u=0;u<a.length;u+=1)w(r[u]);n=!0}},o(s){y(e.$$.fragment,s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)y(r[u]);n=!1},d(s){ue(e,s),s&&c(t),Ct(r,s),s&&c(l)}}}function ea(i){let e,t,l,n;const a=[Zs,Ks],r=[];function o(s,u){return s[0]==null||s[2].data==null?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=et()},l(s){t.l(s),l=et()},m(s,u){r[e].m(s,u),A(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),y(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){y(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function ta(i,e,t){let l,n,a,r,o,s=Z,u=()=>(s(),s=Ge(l,P=>t(2,o=P)),l),f;i.$$.on_destroy.push(()=>s());let{namespace:d}=e,{datasetName:_}=e,{newSettings:m}=e;const O=Qi();Xe(i,O,P=>t(6,f=P));function N(P){const V=P.detail.id;m.ui==null&&t(0,m.ui={},m),m.ui.media_paths==null&&t(0,m.ui.media_paths=[],m),m.ui.media_paths.find(W=>it(W,V.path))==null&&t(0,m.ui.media_paths=[...m.ui.media_paths,V.path],m)}function B(P){var V;((V=m.ui)==null?void 0:V.media_paths)!=null&&t(0,m.ui.media_paths=m.ui.media_paths.filter(F=>!it(F,P.path)),m)}function S(P){var F;if(((F=m.ui)==null?void 0:F.media_paths)==null)return;const V=m.ui.media_paths.findIndex(W=>it(W,P.path));V<=0||t(0,m.ui.media_paths=[...m.ui.media_paths.slice(0,V-1),P.path,m.ui.media_paths[V-1],...m.ui.media_paths.slice(V+1)],m)}function M(P){var F;if(((F=m.ui)==null?void 0:F.media_paths)==null)return;const V=m.ui.media_paths.findIndex(W=>it(W,P.path));V<0||V>=m.ui.media_paths.length-1||t(0,m.ui.media_paths=[...m.ui.media_paths.slice(0,V),m.ui.media_paths[V+1],P.path,...m.ui.media_paths.slice(V+2)],m)}function C(P){var V,F;return((F=(V=m.ui)==null?void 0:V.markdown_paths)==null?void 0:F.find(W=>it(W,P.path)))!=null}function D(P,V){P.detail.toggled?k(V):p(V)}function k(P){m.ui==null&&t(0,m.ui={},m),m.ui.markdown_paths==null&&t(0,m.ui.markdown_paths=[],m),m.ui.markdown_paths.find(F=>it(F,P.path))==null&&t(0,m.ui.markdown_paths=[...m.ui.markdown_paths,P.path],m)}function p(P){m.ui!=null&&m.ui.markdown_paths!=null&&t(0,m.ui.markdown_paths=m.ui.markdown_paths.filter(V=>!it(V,P.path)),m)}function Y(P){const V=P.target.value;t(0,m.preferred_embedding=V===""?void 0:V,m)}const ce=(P,V)=>D(V,P),re=P=>S(P),$=P=>M(P),ee=P=>B(P),H=(P,V)=>it(V.path,P),fe=()=>{(m==null?void 0:m.ui)!=null&&t(0,m.ui.view_type="scroll",m)},U=()=>{(m==null?void 0:m.ui)!=null&&t(0,m.ui.view_type="single_item",m)};return i.$$set=P=>{"namespace"in P&&t(15,d=P.namespace),"datasetName"in P&&t(16,_=P.datasetName),"newSettings"in P&&t(0,m=P.newSettings)},i.$$.update=()=>{var P;i.$$.dirty[0]&98304&&u(t(5,l=Dt(d,_))),i.$$.dirty[0]&1&&t(4,n=((P=m==null?void 0:m.ui)==null?void 0:P.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,a=o.data!=null?ai(o.data).filter(V=>{var F;return((F=V.dtype)==null?void 0:F.type)==="string"&&!it(V.path,[Wi])&&!oi(V)&&!ui(V)}):null),i.$$.dirty[0]&3&&t(3,r=a!=null?a.filter(V=>{var F,W;return!((W=(F=m.ui)==null?void 0:F.media_paths)!=null&&W.includes(V.path))}).map(V=>{const F=mt(V.path);return{id:V,text:F}}):null)},[m,a,o,r,n,l,f,O,N,B,S,M,C,D,Y,d,_,ce,re,$,ee,H,fe,U]}class _a extends Le{constructor(e){super(),Be(this,e,ta,ea,He,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{dn as A,In as C,lr as D,pr as E,ma as R,hi as T,Tn as a,As as b,_a as c};
