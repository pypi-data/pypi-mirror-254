/*! For license information please see 3279.c93cc73f9fb7df11b84e.js.LICENSE.txt */
(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[3279,8741,208,1182],{20106:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var o=n(66029),r=n(69652),i=n(22265);const l={isLoading:!0};function s(e,t){const n=(0,i.uo)(e),s=(0,o.useCallback)((e=>(n?.addDrillthroughColumnsListener(t,e),()=>{n?.removeDrillthroughColumnsListener(t,e)})),[n,t]);(0,r.useAsyncAbortable)((async e=>{if(!n?.drillthroughColumns[t])return n?.loadDrillthroughColumns(t,{signal:e})}),[n,t]);const{drillthroughColumns:a,isLoading:u,error:d}=(0,o.useSyncExternalStore)(s,(()=>n?.drillthroughColumns[t]??l)),c=(0,o.useMemo)((()=>a?.filter((({visible:e})=>e))),[a]);return e?[c,{isLoading:u,error:d}]:void 0}},96198:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var o=n(77026),r=n(66029),i=n(22265);function l({serverKey:e,queryId:t}){const n=(0,i.uo)(e),l=(0,r.useCallback)((e=>n&&t?(n.addQueryListener(t,e),()=>{n.removeQueryListener(t,e)}):o.noop),[n,t]);return(0,r.useSyncExternalStore)(l,(()=>n&&t?n.getQuery(t):void 0))}},59017:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var o=n(14618),r=n(35231);function i(e,t){return(0,o.produce)(e,(n=>{const o=t.key||(0,r.A)(e.pagesOrder);n.pagesOrder.splice(t.index??n.pagesOrder.length,0,o),n.pages[o]=t.page}))}},35231:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(77026);const r=e=>parseInt(e.substring(2));function i(e){const t=(0,o.maxBy)(e,r);return`p-${t?r(t)+1:0}`}},93235:(e,t,n)=>{"use strict";function o(e){return"dimension"===e.type}n.d(t,{D:()=>o})},47915:(e,t,n)=>{"use strict";function o(e){return"hierarchy"===e.type}n.d(t,{N:()=>o})},79776:(e,t,n)=>{"use strict";function o(e){return"level"===e.type}n.d(t,{h:()=>o})},51368:(e,t,n)=>{"use strict";function o({dimension:e,hierarchy:t,level:n}){if(n&&t)return{dimensionName:e.name,hierarchyName:t.name,levelName:n.name};if(t){const n=t.slicing?0:1;return o({dimension:e,hierarchy:t,level:Object.values(t.levels)[n]})}const r=e.defaultHierarchy;return o({dimension:e,hierarchy:e.hierarchies[r]})}n.d(t,{x:()=>o})},66623:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var o=n(93388),r=n(81292),i=n(9617),l=n(66029),s=n(93481),a=n(52258),u=n(46151),d=n(3778),c=n(96198),m=n(20990),f=n(15300),h=n(26072),p=n(67722),g=n(76453),y=n(25122),b=n(3515),v=n(54408),w=n(28855),C=n(60136),x=n(41807),O=n(33145);function I(e,{type:t,payload:{mdxString:n,dashboardState:o,pageKey:r,leafKey:i,widgetState:l,widgetPlugin:s,dataModels:a,lastUsedCube:u}}){if("updateMdxString"===t)try{const e=(0,y.Q)(n),{widgetStateDerivedFromMdx:t,dashboardStateDerivedFromMdx:d}=(0,O.deriveStateFromMdx)({mdx:e,dashboardState:o,pageKey:r,leafKey:i,dataModels:a,widgetState:l,widgetPlugin:s,lastUsedCube:u,shouldRemoveFiltersFromQuery:!1});return{mdxString:n,widgetStateDerivedFromMdx:t,dashboardStateDerivedFromMdx:d}}catch(e){return{mdxString:n,error:(0,C.b)(e)}}}const R=e=>{const{widgetState:t,queryId:n,onWidgetChange:y}=e,[C]=(0,u.X)("lastUsedCube"),{dashboardState:R,leafKey:S,pageKey:H,onDashboardChange:M}=(0,a.F)(e)?e:{},z=(0,O.useSwitchedWidgetState)(t,n),[F]=(0,w.useWidgetPlugins)([z.widgetKey]),T=(0,d.T)(),{formatMessage:E}=(0,s.useIntl)(),N=z.serverKey,W=(0,c.a)({serverKey:N,queryId:n}),[D,P]=(0,l.useReducer)(I,{mdxString:W?.mdx}),{cube:Z,dataModel:k}=(0,l.useMemo)((()=>{const e=D.widgetStateDerivedFromMdx??z,t=e.query.mdx?(0,b.p)(e.query.mdx):void 0;return(0,O.getTargetCube)({serverKey:e.serverKey,dataModels:T,cubeName:t,lastUsedCube:C})}),[D.widgetStateDerivedFromMdx,z,T,C]),B=W?.context?.["mdx.casesensitive"]??Z.contextValues["mdx.casesensitive"]?.value,A=void 0===B||"true"===B,_=(0,l.useCallback)((e=>{P({type:"updateMdxString",payload:{mdxString:e,dashboardState:R,pageKey:H,leafKey:S,widgetState:z,widgetPlugin:F,dataModels:T,lastUsedCube:C}})}),[R,H,S,z,F,T,C]),L=W?.mdx??"";(0,l.useEffect)((()=>{_(L)}),[L,_]);const j=(0,l.useCallback)((()=>{D.error||(M&&D.dashboardStateDerivedFromMdx?M(D.dashboardStateDerivedFromMdx):D.widgetStateDerivedFromMdx&&y(D.widgetStateDerivedFromMdx))}),[D.widgetStateDerivedFromMdx,D.dashboardStateDerivedFromMdx,y,M,D.error]),$=(0,l.useCallback)((()=>{_(L)}),[L,_]),K=(0,l.useMemo)((()=>D.mdxString!==L),[D.mdxString,L]),[V,q]=(0,l.useMemo)((()=>{if(!K)return[!1,E({id:"aui.mdxEditor.hover.noChanges"})];if(D.error){let e;if(D.error instanceof O.InvalidMdxTypeError)e=E({id:"aui.mdxEditor.hover.invalidMdxType"});else if(D.error instanceof m.s){const{cubeName:t,availableCubeNames:n}=D.error;e=`${E({id:"aui.error.cubeNotFound"})}: "${t}". ${E({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(n)}`}else if(D.error instanceof f.B){const{dimensionName:t,cubeName:n}=D.error;e=`${E({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${E({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${t}".`}else if(D.error instanceof h.K){const{hierarchyCoordinates:t,cubeName:n}=D.error;e=`${E({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${E({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,v.mW)(t.dimensionName,t.hierarchyName)}".`}else if(D.error instanceof p.i){const{levelCoordinates:t,cubeName:n}=D.error;e=`${E({id:"aui.mdxEditor.hover.levelNotFound"})} ${E({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,v.mW)(t.dimensionName,t.hierarchyName,t.levelName)}".`}else D.error instanceof O.MdxInconsistentWithDashboardOrPageFiltersError?e=E({id:"aui.mdxEditor.hover.filtersChanged"}):(e=E({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(D.error));return[!1,e]}return[!0,void 0]}),[K,D.error,E]);return(0,o.BX)("div",{css:r.css`
        height: 100%;
        display: flex;
        margin-right: 4px;
        flex-direction: column;
      `,children:[(0,o.tZ)("div",{style:{height:"calc(100% - 28px)"},children:(0,o.tZ)(g.M,{type:"mdx",value:D.mdxString,onChange:_,dataModel:k,cube:Z,isCaseSensitive:A})}),(0,o.BX)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,o.tZ)(i.Button,{disabled:!K,onClick:$,children:E({id:"aui.mdxEditor.reset"})})," ",(0,o.tZ)(x.Tooltip,{title:q,children:(0,o.tZ)(i.Button,{type:"primary",disabled:!V,onClick:j,children:E({id:"aui.mdxEditor.submit"})})})]})]})}},52415:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var o=n(93388);const r=({content:e})=>(0,o.tZ)("div",{css:{display:"table"},children:e.map((({left:e,right:t},n)=>(0,o.BX)("div",{css:{display:"table-row"},children:[(0,o.tZ)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,o.tZ)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:t})]},n)))})},13450:(e,t,n)=>{"use strict";n.d(t,{v:()=>k});var o=n(93388),r=n(50083),i=n(9617),l=n(14618),s=n(77026),a=n(66029),u=n(93481),d=n(87187),c=n(36250),m=n(62408),f=n(28855),h=n(84030),p=n(41807),g=n(33145);const y=e=>{const{formatMessage:t}=(0,u.useIntl)();return(0,o.BX)("div",{css:{display:"grid"},children:[(0,o.tZ)(p.Text,{small:!0,strong:!0,css:{paddingTop:5,paddingBottom:5},children:t({id:"aui.dataVisualization.attribute.align"})}),(0,o.BX)(i.Radio.Group,{value:e.justifyContent,onChange:t=>{e.onJustifyContentChange({justifyContent:t.target.value})},children:[(0,o.tZ)(i.Radio.Button,{value:"left",children:(0,o.tZ)(r.AlignLeftOutlined,{})}),(0,o.tZ)(i.Radio.Button,{value:"center",children:(0,o.tZ)(r.AlignCenterOutlined,{})}),(0,o.tZ)(i.Radio.Button,{value:"right",children:(0,o.tZ)(r.AlignRightOutlined,{})})]})]})};var b=n(27860);const v=n.n(b)()("2022-02-18"),w=["YYYY-MM-DD","YYYY/MM/DD","M/D","M/D/YY","MM/DD/YY","MM/DD/YYYY","DD-MMMM-YY","DD-MMMM-YYYY","dddd, MMM DD, YYYY","MMM DD, YYYY"].map((e=>({value:e,label:v.format(e)}))),C=({disabled:e,value:t=w[0].value,fieldName:n,onChange:r=(()=>{})})=>{const{formatMessage:l}=(0,u.useIntl)();return(0,o.BX)("div",{style:{display:"flex",flexDirection:"column",marginBlock:12},children:[(0,o.tZ)(p.Text,{small:!0,strong:!0,children:l({id:"aui.dataVisualization.dateFormat"})}),(0,o.tZ)(p.Tooltip,{placement:"right",trigger:e?["hover"]:[],title:n&&l({id:"aui.formatting.dateFormattingOnlyApplyToTimeFields"},{fieldName:n}),children:(0,o.tZ)(i.Select,{"aria-label":"Date format select",disabled:e,style:{marginTop:6},value:t,options:w,onChange:e=>r(e)})})]})};var x=n(69152),O=n(33005),I=n(51189);const R={eq:"=",neq:"≠",lt:"<",gt:">",lte:"<=",gte:">="},S=e=>{const{formatMessage:t}=(0,u.useIntl)(),n=(0,h.Fg)(),{style:r,...i}=e.measureConditionalStyle,l=Object.keys(i);let s="";switch(l.length){case 1:const e=i[l[0]];s=`${t({id:"aui.if"})} ${R[l[0]]} ${e}`;break;case 2:s=`${t({id:"aui.if"})} ${void 0!==i.gt?R.gt:R.gte} ${i.gt??i.gte} ${t({id:"aui.and"})} ${void 0!==i.lt?R.lt:R.lte} ${i.lt??i.lte}`;break;default:s=t({id:"aui.default"})}const a="background"===e.colorType&&r.backgroundColor?r.backgroundColor:n.backgroundColor;return(0,o.tZ)(I.L,{caption:s,sampleStyle:{...r,color:"text"===e.colorType?r.backgroundColor:n.textColor,backgroundColor:e.colorOpacity&&r.backgroundColor?(0,O.U)(r.backgroundColor,e.colorOpacity):a},sampleLabel:"123"})},H=(0,a.lazy)((()=>n.e(5748).then(n.bind(n,45748)))),M=({colorOpacity:e,defaultStyle:t,conditionalStyles:n,onMeasureConditionalStyleChanged:s,isDisabled:d,selectedMeasureName:c,colorType:m})=>{const{formatMessage:f}=(0,u.useIntl)(),[h,p]=(0,a.useState)(),g=(0,a.useMemo)((()=>[{style:t||{}},...n||[]]),[n,t]),y=(0,a.useMemo)((()=>{const t="conditionalStyle",n=g.map(((n,i)=>{const{style:l,...s}=n,a=0===Object.keys(s).length;return{icons:d?null:(0,o.tZ)(r.EditOutlined,{onClick:()=>{p({sectionName:t,tileIndex:i})}}),caption:(0,o.tZ)(S,{colorOpacity:e,measureConditionalStyle:n,colorType:m}),isDisabled:d,tooltipValue:d?f({id:"aui.formatting.conditionalStylesOnlyApplyToNumericFields"},{fieldName:c}):void 0,tooltipPlacement:"right",isRemovable:!d,dragItem:!a&&!d&&{type:"CONDITIONAL_MEASURE_STYLE_IN_WIZARD",fromPosition:{tileIndex:i}}}}));return{[t]:{caption:f({id:"aui.conditionalStyle.title"}),tiles:n,isAddButtonVisible:!d}}}),[g,f,c,d,e,m]),b=h&&"tileIndex"in h?g[h.tileIndex]:void 0;return(0,o.tZ)(x.e,{canDrop:({toPosition:{tileIndex:e}})=>0!==e,dragItemTypes:["CONDITIONAL_MEASURE_STYLE_IN_WIZARD"],sections:y,onTileRemoved:({tileIndex:e})=>{s(0===e?{default:void 0}:{conditional:(0,l.produce)(n,(t=>{const n=e-1;t?.splice(n,1)}))})},popover:{title:f({id:"aui.conditionalStyle."+(void 0!==b?"edit":"add")}),content:(0,o.tZ)(a.Suspense,{fallback:(0,o.tZ)("div",{style:{display:"flex",height:330,width:327,justifyContent:"center",alignItems:"center"},children:(0,o.tZ)(i.Spin,{})}),children:(0,o.tZ)(H,{colorOpacity:e,onCancel:()=>p(void 0),onSubmitDefaultStyle:e=>{s({default:e}),p(void 0)},onSubmit:e=>{s(h&&"tileIndex"in h?{conditional:(0,l.produce)(n,(t=>{t[h.tileIndex-1]=e}))}:{conditional:[...n||[],e]}),p(void 0)},colorType:m,conditionalStyle:b})})},popoverPosition:h,popoverInnerHeight:h&&"tileIndex"in h&&0===h.tileIndex?230:330,onAddButtonClicked:()=>p({sectionName:"conditionalStyle"}),onTileMoved:({dragItem:e,toPosition:{tileIndex:o}})=>{s({default:t,conditional:(0,l.produce)(n,(t=>{const n=e.fromPosition.tileIndex-1,r=Math.max(0,o-1),[i]=t.splice(n,1),l=r>n?r-1:r;t.splice(l,0,i)}))})}})};var z=n(43543);const F=["number","percentage","thousands","millions","billions"],T=e=>{const{formatMessage:t}=(0,u.useIntl)(),n=e.numberOfDecimals??2,r=e.numberFormat??"number";return(0,o.tZ)(a.Fragment,{children:(0,o.BX)("div",{style:{display:"flex",width:"100%",marginTop:6,marginBottom:6},children:[(0,o.tZ)(p.Tooltip,{placement:"right",trigger:e.isDisabled?["hover"]:[],title:t({id:"aui.formatting.numberFormattingOnlyApplyToNumericFields"},{fieldName:e.fieldName}),children:(0,o.tZ)(i.Select,{style:{flexGrow:1,marginRight:3},value:r,onChange:t=>{e.onMeasureNumberFormatChanged({numberFormat:t})},disabled:e.isDisabled,"aria-label":"Number format select",children:F.map((e=>(0,o.tZ)(i.Select.Option,{value:e,children:t({id:`aui.formatting.numberFormat.${e}`})},e)))})}),(0,o.tZ)(i.Button,{disabled:e.isDisabled||0===n,icon:(0,o.tZ)(z.IconRemoveDecimal,{}),onClick:()=>{e.onMeasureNumberFormatChanged({numberOfDecimals:Math.max(0,n-1)})},"aria-label":"Remove decimal button",style:{marginRight:3}}),(0,o.tZ)(i.Button,{icon:(0,o.tZ)(z.IconAddDecimal,{}),onClick:()=>{e.onMeasureNumberFormatChanged({numberOfDecimals:Math.max(0,n+1)})},"aria-label":"Add decimal button",disabled:e.isDisabled})]})})};var E=n(10405),N=n(44944),W=n(12116),D=n(54408);function P(e){return("level"===e.type||"drillthroughHeader"===e.type)&&e.isTime}const Z=e=>"result"in e,k=e=>{const{formatMessage:t}=(0,u.useIntl)(),{queryId:n,widgetState:b}=e,v=e.colorType??"background",{serverKey:w}=b,{data:x}=(0,c.b)({serverKey:w,queryId:n}),[O]=(0,f.useWidgetPlugins)([e.widgetState.widgetKey]),I=(0,g.useWidgetName)(e.widgetState),R=(0,h.Fg)(),{cube:S}=(0,g.useCube)(e.widgetState),H=(0,a.useMemo)((()=>x&&!Z(x)?(0,d.getCellSetMetaData)(x,S):void 0),[x,S]),z=(0,a.useMemo)((()=>x&&Z(x)?x.result.headers.filter(((e,t)=>t%2==0)):void 0),[x]),F=(0,a.useMemo)((()=>"drillthrough-table"===O.key||Object.values(O?.attributes??{}).some((({role:e})=>"numeric"===(0,g.getAttributeType)(e)))),[O.key,O?.attributes]),k=(0,a.useMemo)((()=>(({cellSetMetaData:e,cube:t,drillthroughHeaders:n,widgetPlugin:o,widgetState:r})=>{if(n)return n.map((({name:e,caption:t,type:n})=>({value:e,label:t,type:"drillthroughHeader",isNumeric:["double","int","long"].includes(n),isTime:"LocalDate"===n})));if(!(0,g.isDataVisualizationWidgetState)(r,o))return[];const i=[],l=r.mapping,s=[];for(const e in l){const t=o.attributes?.[e],n=l[e];t&&"numeric"===(0,g.getAttributeType)(t.role)&&n.forEach((e=>{(0,g.isKpiPropertyInMapping)(e)&&s.push(e)}))}return e?.measures.forEach((({measureName:e,isNumeric:n})=>{const o=(0,m.t)(e,t),r=s.find((t=>e===t.underlyingMeasureName));i.push({value:e,label:r?(0,g.getKpiPropertyCaption)(r):o?.caption??e,type:"measure",isNumeric:n})})),e?.levels.forEach((({isNumeric:e,dimensionName:n,hierarchyName:o,levelName:r})=>{const l=(0,W.W)({dimensionName:n,hierarchyName:o,levelName:r},t);i.push({value:(0,D.mW)(n,o,r),label:l.caption,type:"level",isNumeric:e,isTime:"TIME"===l.type})})),i})({cellSetMetaData:H,cube:S,drillthroughHeaders:z,widgetPlugin:O,widgetState:b})),[H,S,z,b,O]),[B,A]=(0,a.useState)((()=>k[0]??{})),_=e.widgetState.style??{},L=B.isNumeric?_.measures?.[B.value]:void 0,j=(0,a.useMemo)((()=>{if("measure"!==B.type||!B.isNumeric)return;const e=(0,m.t)(B.value,S);return e&&(e=>"double"===e.type?2:0)(e)}),[B,S]),$=t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{(0,s.set)(e,["style","measures",B.value],{..._.measures?.[B.value],...t}),function(e){const t=e.style?.measures;void 0!==t&&(Object.keys(t).forEach((n=>{const o=t[n];void 0!==o&&(Object.entries(o).forEach((([e,t])=>{(null==t||(0,s.isObject)(t)&&(0,s.isEmpty)(t))&&delete o[e]})),(0,s.isEmpty)(o)&&delete e.style.measures[n])})),(0,s.isEmpty)(t)&&delete e.style.measures),void 0!==e.style&&(0,s.isEmpty)(e.style)&&delete e.style}(e)})))};return(0,a.useMemo)((()=>(0,N.w)(I,_.measures)),[I,_.measures]),F?(0,o.BX)("div",{style:{borderBottom:`1px solid ${R.grayScale[4]}`,marginBottom:5,paddingTop:4},children:[(0,o.tZ)(p.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.fields"})}),(0,o.tZ)(i.Select,{"aria-label":"Field select",style:{width:"100%",marginTop:6},value:B,options:k,onChange:(e,t)=>{A((0,s.isArray)(t)?t[0]:t)},dropdownRender:e=>k.length>0?e:(0,o.BX)("div",{css:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20},children:[(0,o.tZ)(r.SearchOutlined,{}),(0,o.tZ)("div",{children:t({id:"aui.formatting.noFieldInMapping"})})]}),showSearch:!0}),(0,o.BX)("div",{children:[(0,o.tZ)(T,{numberFormat:L?.numberFormat,numberOfDecimals:L?.numberOfDecimals??j,isDisabled:!B.isNumeric,onMeasureNumberFormatChanged:$,fieldName:B.value}),!1!==e.isAlignmentVisible&&"measure"===B.type&&(0,o.tZ)(y,{onJustifyContentChange:$,justifyContent:L?.justifyContent}),(0,o.tZ)(C,{disabled:!P(B),value:P(B)?_.measures?.[B.value]?.dateFormat:void 0,fieldName:B.value,onChange:t=>{P(B)&&e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{(0,s.set)(e,["style","measures",B.value,"dateFormat"],t)})))}}),e.isMeasureConditionalStyleVisible&&(0,o.tZ)("div",{style:{paddingTop:4},children:(0,o.tZ)(M,{colorOpacity:e.colorOpacity,defaultStyle:L?.default,conditionalStyles:L?.conditional,onMeasureConditionalStyleChanged:$,selectedMeasureName:B.value,isDisabled:!B.isNumeric,colorType:v})}),(0,o.tZ)(E.O,{isDisabled:(0,s.isEmpty)(_.measures),onResetStyle:()=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{delete e.style?.measures,(0,s.isEmpty)(e.style)&&delete e.style})))},caption:t({id:"aui.formatting.resetFieldsStyle"})})]})]}):null}},10405:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var o=n(93388),r=n(9617),i=n(93481),l=n(41807);const s=({caption:e,isDisabled:t,onResetStyle:n})=>{const{formatMessage:s}=(0,i.useIntl)();return(0,o.tZ)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,o.tZ)(l.Tooltip,{placement:"right",trigger:t?["hover"]:[],title:s({id:"aui.style.noStyleConfigured"}),children:(0,o.tZ)(r.Button,{style:{padding:0},type:"link",onClick:n,disabled:t,children:(0,o.tZ)("span",{style:t?{}:{textDecoration:"underline"},children:e})})})})}},51189:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var o=n(93388),r=n(84030);const i=e=>{const t=(0,r.Fg)(),n={border:`solid 1px ${t.grayScale[4]}`,borderRadius:3,paddingLeft:5,paddingRight:5,marginRight:5,width:32,lineHeight:"14px",height:16,color:t.textColor,...e.sampleStyle};return(0,o.BX)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.tZ)("div",{style:n,children:e.sampleLabel}),(0,o.tZ)("div",{children:e.caption})]})}},44944:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var o=n(45096);const r=["eq","neq","lt","lte","gt","gte"];function i(e,t){t&&Object.values(t).forEach((t=>{t.conditional&&t.conditional.forEach((t=>{!function(e,t){const{style:n,...i}=t,l=Object.keys(i);if(l.length>2||0===l.length)throw new o.p(e,"invalidNumberOfKeys",t);if(2===l.length&&(l.includes("eq")||l.includes("neq")))throw new o.p(e,"invalidPairOfKeys",t);l.forEach((n=>{if(!r.includes(n))throw new o.p(e,"invalidComparisonOperator",t);if(void 0===i[n])throw new o.p(e,"undefinedComparisonOperand",t)}))}(e,t)}))}))}},45096:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});class o extends Error{invalidStyle;widgetName;constructor(e,t,n){let o;switch(t){case"invalidNumberOfKeys":o="A measure conditional style can only contain 1 or 2 comparison operators.";break;case"invalidPairOfKeys":o="A pair of comparison operators can only be lt(e)/gt(e).";break;case"invalidComparisonOperator":o="A measure conditional style can only use the following comparison operators: eq, neq, lt, lte, gt, gte.";break;case"undefinedComparisonOperand":o="A comparison operand cannot be undefined."}super(`The widget contains an invalid measure conditional style. ${o}`),this.invalidStyle=n,this.widgetName=e}}},54326:(e,t,n)=>{"use strict";function o({measureStyle:e,valueFormattedByActivePivot:t,value:n,locale:o}){let r=t;if(e){let t,i=n;if(void 0!==e.numberFormat)switch(e.numberFormat){case"percentage":i=100*n,t="%";break;case"thousands":i=n/1e3,t="K";break;case"millions":i=n/1e6,t="M";break;case"billions":i=n/1e9,t="B"}r=i.toLocaleString(o,void 0!==e.numberOfDecimals?{minimumFractionDigits:e.numberOfDecimals,maximumFractionDigits:e.numberOfDecimals}:void 0),t&&(r=`${r} ${t}`)}return r}n.d(t,{m:()=>o})},76453:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var o=n(93388),r=n(66029),i=n(66554);const l={mdx:(0,r.lazy)((()=>Promise.all([n.e(7323),n.e(7958),n.e(5156)]).then(n.bind(n,63901)))),json:(0,r.lazy)((()=>Promise.all([n.e(7323),n.e(7958),n.e(6106)]).then(n.bind(n,17086)))),markdown:(0,r.lazy)((()=>Promise.all([n.e(7323),n.e(7958),n.e(8602)]).then(n.bind(n,57078)))),base:(0,r.lazy)((()=>Promise.all([n.e(7323),n.e(7958),n.e(5656)]).then(n.bind(n,47958))))},s=(0,r.forwardRef)(((e,t)=>{const{type:n,...s}=e,a=(0,r.useMemo)((()=>l[n||"base"]),[n]);return(0,o.tZ)(r.Suspense,{fallback:(0,o.tZ)(i.R,{}),children:(0,o.tZ)(a,{ref:t,...s})})}))},66554:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var o=n(93388),r=n(81292),i=n(9617);const l=()=>(0,o.tZ)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,o.tZ)(i.Spin,{})})},67776:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var o=n(77026),r=n(17298),i=n(95735);function l(e){return e.columns?(0,o.compact)(e.columns.map((e=>{const t=(0,i.G)(e,"membervalue")?e.arguments[0]:e;return(0,r.a)(t)?t.identifiers[0].value:void 0}))):[]}},21488:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});const o=e=>({elementType:"CompoundIdentifier",type:"unknown",identifiers:e.map((e=>({elementType:"Identifier",value:e,quoting:"QUOTED"})))});function r(e){return[{elementType:"Function",name:"MemberValue",syntax:"Function",arguments:[o([e])]},{elementType:"Function",name:"Caption",syntax:"Function",arguments:[o([e])]}]}},24960:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var o=n(77026),r=n(21488);function i(e,{drillthroughColumnUniqueNames:t}){return{...e,columns:(0,o.flatMap)(t,r.n)}}},67410:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>s,x_:()=>l});var o=n(66029),r=n(4285);const i=(0,o.createContext)({}),l=i.Provider;function s(e){const t=(0,o.useContext)(i);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,t)))),[t,e])}i.Consumer},64769:(e,t,n)=>{"use strict";n.d(t,{J6:()=>s,bB:()=>l});var o=n(66029),r=n(4285);const i=(0,o.createContext)({}),l=i.Provider;function s(e){const t=(0,o.useContext)(i);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,t)))),[t,e])}i.Consumer},12102:(e,t,n)=>{"use strict";n.d(t,{o:()=>D});var o=n(93388),r=n(64880),i=n(77026),l=n(66029),s=n(87187),a=n(64769),u=n(67410),d=n(28855),c=n(1325),m=n(52575),f=n(62932),h=n(83363),p=n(41807),g=n(33145),y=n(83239),b=n(43543),v=n(87103);const w=(0,l.forwardRef)(((e,t)=>{const n=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,i=e.value===r&&n,l=i&&"ASC"===n?b.IconNumericAscendingOrder:i&&"DESC"===n?b.IconNumericDescendingOrder:void 0;return(0,o.BX)("div",{ref:t,style:{display:"flex",alignItems:"center",...e.style},children:[(0,o.tZ)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:`calc(100% - ${i?"18px":"0px"})`},children:e.caption}),l?(0,o.tZ)(l,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,o.tZ)("div",{style:{height:"100%",marginLeft:6}})]})}));w.displayName="DefaultDrillthroughHeaderCell";const C=(0,v.f)(w),x=(0,l.forwardRef)(((e,t)=>e.isRowFrozen?(0,o.tZ)(C,{ref:t,...e}):(0,o.tZ)(y.V,{ref:t,...e})));x.displayName="DefaultDrillthroughCell";const O=(0,l.memo)(x);var I=n(81292),R=n(84030);const S=({style:e})=>{const t=(0,R.Fg)();return(0,o.tZ)("div",{style:e,children:(0,o.tZ)("div",{css:{display:"flex",overflow:"hidden"},children:(0,i.range)(4).map((e=>(0,o.BX)("div",{children:[(0,o.tZ)("div",{css:I.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,o.tZ)("div",{css:I.css`
                  padding: 4px 4px 3px;
                `})}),(0,o.tZ)("div",{css:I.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${t.cellBorderColor};
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,i.range)(7).map((e=>(0,o.tZ)("div",{css:I.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?t.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${t.cellBorderColor};
                  `},e)))})]},e)))})})};var H=n(95735),M=n(17298);function z(e,t){const{headers:n,rows:o}=t,r=new Map,i={};e.forEach((({columnHeader:e,body:t})=>{if(t)for(let e=t.rows.from;e<=t.rows.to;e++)for(let i=t.columns.from;i<=t.columns.to;i++){let t=r.get(n[i]);t||(t={},r.set(n[i],t)),t[e]=o[e][i]}e&&n.slice(e.columns.from,e.columns.to+1).forEach(((t,n)=>{i[e.columns.from+n]=t}))}));const l=[];for(const e of r.entries()){const[t,n]=e;l.push({header:t,cells:Object.keys(n).map((e=>parseInt(e))).sort().map((e=>n[e]))})}return{headers:Object.keys(i).map((e=>parseInt(e))).sort().map((e=>i[e])),columns:l}}var F=n(27860),T=n.n(F),E=n(14618),N=n(54326);const W=e=>e,D=(0,g.withLoadingOverlay)((0,g.withoutIrrelevantRenders)((e=>{const{queryResult:t,widgetState:n,style:g,onChange:y,onSelectionChange:b}=e,{widgetKey:v,columnWidths:w,sort:C}=n,x=n.style?.measures;(0,p.useCallOnLoadedAfterFirstProperRender)(e);const[I]=(0,d.useWidgetPlugins)([v]),[R]=(0,u.Nw)([I.cellStyle]),[F]=(0,a.J6)([I?.cell]),D=(0,l.useCallback)((R?.withCellStyle??W)(F??O),[R]);D.displayName="DrillthroughCell";const P=t.data,{cells:Z,headers:k}=(0,l.useMemo)((()=>((e,t)=>{if(!t||!e||!e.mdx)return{cells:void 0,headers:void 0};const n=((e,t)=>{const n={};return(e.columns??[]).forEach(((e,o)=>{const r=(0,H.G)(e)?e.arguments[0]:e;if(!(0,M.a)(r)||void 0===t.find((e=>e.name===r.identifiers[0].value)))return;const i=r.identifiers[0].value;n[i]||(n[i]={valueIndex:-1});const l=(0,H.G)(e)&&e.name.toLowerCase();"membervalue"!==l&&l?"caption"===l&&(n[i].captionIndex=o):n[i].valueIndex=o})),n})(e.mdx,t.headers);if((0,i.isEqual)(n,{}))return{cells:void 0,headers:void 0};const o=[];return Object.values(n).forEach((({captionIndex:e,valueIndex:n})=>{const r=t.headers[n];if(r){const n=void 0!==e?t.headers[e].caption:r.caption;o.push({...r,caption:n})}})),{cells:t.rows.map((e=>Object.values(n).map((({captionIndex:t,valueIndex:n})=>{const o=e[n];return{caption:void 0!==t?`${e[t]}`:"object"==typeof o?JSON.stringify(o):`${o}`,value:"number"==typeof o?o:JSON.stringify(o)}})))),headers:o}})(n.query,P?.result)),[n.query,P]),B=(0,l.useMemo)((()=>(k||[]).map((({caption:e})=>({value:e,caption:e})))),[k]),A=(0,l.useMemo)((()=>{if(Z&&C){const e=B.findIndex((e=>e?.caption===C.drillthroughColumnUniqueName));if(e>-1)return(0,i.orderBy)(Z,[t=>t[e].value],["ASC"===C.orderMode?"asc":"desc"])}}),[Z,C,B])??Z,_=(0,l.useMemo)((()=>{const e=x&&A?(({bodyCells:e,columnsStyle:t,headerCells:n})=>{const o=n.map(((e,t)=>({styledColumnIndex:t,value:e?.value}))).filter((({value:e})=>t[String(e)]));return(0,E.produce)(e,(e=>{e?.forEach((e=>{Object.values(o).forEach((({styledColumnIndex:n,value:o})=>{if(!o)return;const r=e[n],i=t[o],l=i.dateFormat?T()(r.value).format(i.dateFormat):(0,N.m)({measureStyle:i,value:Number(r.value),valueFormattedByActivePivot:String(r.value)});e[n]={caption:l,value:r.value}}))}))}))})({bodyCells:A,columnsStyle:x,headerCells:B}):A;return[B,...e??[]]}),[B,x,A]),L=(0,l.useMemo)((()=>w&&k?Object.entries(w).reduce(((e,[t,n])=>{const o=k.findIndex((e=>e?.caption===t));return-1!==o?{...e,[o]:n}:e}),{}):void 0),[k,w]);if(!t.isLoading&&t.error){if((0,s.isQueryErrorOfType)(t.error,"QueryTimeoutException"))throw new s.QueryTimeoutError(t.error);throw new s.MdxError(t.error)}const j=(0,l.useCallback)((()=>{y({...e.widgetState,sort:{...C,orderMode:"ASC"===C.orderMode?"DESC":"ASC"}})}),[e.widgetState,C,y]),$=(0,p.useCurriedComponent)(D,{headerValues:k||[],onSortChanged:j,sort:C});$.displayName="DrillthroughTableCell";const K=(0,l.useRef)([]),V=(0,l.useRef)(void 0);(0,l.useEffect)((()=>{if(k&&A&&b){const e=V.current,t=z(K.current,{headers:k,rows:A.map((e=>e.map((e=>e.value))))});(0,i.isEqual)(t,e)||(V.current=t,b(t))}}),[k,b,A]);const q=k?t=>{y({...e.widgetState,columnWidths:{...w,...Object.entries(t).reduce(((e,[t,n])=>({...e,[k[parseInt(t)].caption]:n})),{})}})}:void 0,Y=k&&A?e=>{if(b){K.current=e;const t=z(e,{headers:k,rows:A.map((e=>e.map((e=>e.value))))});V.current=t,b(t)}}:void 0,X=A?async e=>{const t=(0,c.r)(K.current,{numberOfColumnsInBody:k?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:1,numberOfRowsInBody:A.length});if(e[h.q?"metaKey":"ctrlKey"]&&"c"===e.key&&t.length>0){const e=t[0];await r.nx([...(0,m.p)(e.columnHeader,(e=>`${B[e]?.value}`)),...(0,m.p)(e.body,((e,t)=>`${A[t][e].value}`))].join("\n"))}}:void 0;return _?(0,o.tZ)(f.i,{cells:_,style:g,numberOfFrozenRows:1,Cell:$,columnWidths:L,onColumnsResized:q,onSelectionChanged:Y,onKeyDown:X}):(0,o.tZ)(S,{style:e.style})})))},13743:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var o=n(77026);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function i(e){return(0,o.mapValues)((0,o.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,o.sortBy)(e,(e=>e.name.toLowerCase()))))}},49304:(e,t,n)=>{"use strict";n.d(t,{o:()=>_});var o=n(93388),r=n(66623),i=n(43543),l=n(33145),s=n(14618),a=n(66029),u=n(93481),d=n(20106),c=n(85881),m=n(51368),f=n(4835),h=n(17331),p=n(7232),g=n(93235),y=n(47915),b=n(79776),v=n(59518),w=n(85968),C=n(23893),x=n(67776),O=n(24960),I=n(41807),R=n(31001);const S=(e,t,n)=>{!e.children&&"drillthroughColumn"===e.type&&t.includes(e.uniqueName)?n.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{S(e,t,n)})),e.children.every((e=>n.includes(e.path)))&&n.push(e.path))};var H=n(3567),M=n(51514),z=n(20911),F=n(13743);const T=["numeric","regular","date"],E=()=>!0,N=e=>{const{formatMessage:t}=(0,u.useIntl)(),{selectedColumnUniqueNames:n,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:i}=e,l=function(e){const{formatMessage:t}=(0,u.useIntl)(),n=(0,F.K)(e),o=(0,a.useMemo)((()=>T.map(((e,o)=>({type:e,caption:t({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,o],children:n[e]?.map(((e,t)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,o,t]})))})))),[n,t]);return[{caption:t({id:"aui.selectAll"}),children:o,isFolder:!0,path:[0],type:"root"}]}(i),s=(0,a.useMemo)((()=>((e,t)=>{const n=[];return S(e,t,n),n})(l[0],n)),[l,n]),d=(0,a.useCallback)((e=>{const t=((e,t)=>{const n=(0,H.V)({caption:"root",children:[e]},t),o=[];return(0,M.f)(e,{forEachNode:e=>{"drillthroughColumn"===e.type&&(0,z.A)(e.path,n)&&o.push(e.uniqueName)}}),o})(l[0],e);r(t)}),[l,r]);return(0,o.tZ)(R.m,{style:{minHeight:0},value:l,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:t({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:d,hasCheckbox:E,selectedPaths:s})};class W extends Error{constructor(e){super(`The drillthrough column "${e}" could not be found. Has the data model changed since you last run this query?`)}}const D=["widget"];var P=n(12102),Z=n(13450);const k=()=>{},B="drillthrough-table",A={query:{updateMode:"once"},widgetKey:B},_={key:B,category:"misc",Component:function(e){const t=(0,a.memo)((t=>{const{serverKey:n,cube:r}=(0,l.useCube)(t.widgetState),{widgetState:i,queryId:s,isDeferred:a}=t,{dashboardState:u,pageKey:d}=(0,l.isWidgetInDashboard)(t)?t:{},c=(0,l.useWidgetQueryResult)({serverKey:n,queryId:s,widgetState:i,dashboardState:u,pageKey:d,cube:r,isDeferred:a});return(0,o.tZ)(e,{...t,queryResult:c,onQueryRangesChanged:k})}));return t.displayName=`withDrillthroughQueryResult(${e.displayName})`,t}((0,l.withWidgetQueryErrorBoundary)(P.o)),contentEditor:e=>{const{cube:t,serverKey:n}=(0,l.useCube)(e.widgetState),{onWidgetChange:r,widgetState:i}=e,[R,{isLoading:S,error:H}]=(0,d.o)(n,t.name),M=(0,l.useFilters)(i),z=(0,l.useMdxInViews)({widgetState:i}),{query:F}=i,T=F?.mdx??(0,l.getDefaultMdxDrillthrough)(t.name),E=(0,a.useMemo)((()=>{if(!T||!R)return[];const e=(0,x.W)(T);return e.forEach((e=>{if(!R.some((t=>t.name===e)))throw new W(e)})),e}),[R,T]),P=(0,a.useCallback)((e=>{if(!F)return;const t=(0,s.produce)(i,(t=>{t.query.mdx=(0,O.r)(T,{drillthroughColumnUniqueNames:e}),t.serverKey=n}));r(t)}),[i,F,n,r,T]),[Z,k]=(0,a.useState)(),B=(0,a.useCallback)((e=>{const t=(0,s.produce)(i,(t=>{t.filters=e.widget}));r(t)}),[r,i]),A=({dragItem:e})=>(0,w.p)(e)||(0,f.x)(e)||(0,h.W)(e)||(0,p.k)(e),_=({dragItem:e,toPosition:o})=>{const{dimensionName:r,hierarchyName:i,levelName:l}=e.field,s=(0,c.K)({dimensionName:r,hierarchyName:i,levelName:l,cube:t});k({serverKey:n,cubeName:t.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:i},position:o,levelIndex:s,type:"create-filter"})};(0,v.gS)((e=>{if((0,g.D)(e)||(0,y.N)(e)||(0,b.h)(e)){const{dimensionName:t,hierarchyName:n,levelName:o}=(0,m.x)(e),r={fieldType:e.type,type:"DATA_TREE_FIELD",field:{dimensionName:t,hierarchyName:n,levelName:o}};A({dragItem:r})&&_({dragItem:r,toPosition:{sectionName:"widget",tileIndex:M.widget.length}})}}));const{formatMessage:L}=(0,u.useIntl)(),j=(0,a.useMemo)((()=>({widget:L({id:"aui.filters.section.widgetFilters"})})),[L]);return H?(0,o.tZ)(I.CenteredTitle,{level:2,children:H.message}):S?(0,o.tZ)(I.CenteredTitle,{level:2,children:L({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):R?(0,o.BX)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,o.tZ)("div",{style:{flexGrow:1,minHeight:0},children:(0,o.tZ)(N,{drillthroughColumns:R,onSelectedColumnUniqueNamesChange:P,selectedColumnUniqueNames:E})}),(0,o.tZ)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,o.tZ)(C.S,{canDrop:A,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:n,cubeName:t.name,filters:M,onFiltersChange:B,sectionCaptions:j,popoverConfiguration:Z,onPopoverConfigurationChanged:k,mdxInViews:z,visibleSectionNames:D,onTileMoved:_})})]}):(0,o.tZ)(I.CenteredTitle,{level:2,children:L({id:"aui.dataVisualization.missingDrillthroughColumns"})})},filtersEditor:e=>(0,o.tZ)(l.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.A,styleEditor:e=>(0,o.tZ)(Z.v,{...e}),Icon:i.IconBusinessDrillthrough,initialState:A,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},83239:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var o=n(93388),r=n(66029),i=n(52415),l=n(41807),s=n(87103);const a=(0,r.forwardRef)((({caption:e,className:t,style:n,tooltipContent:r},s)=>{const a=(0,o.tZ)("div",{className:t,style:n,ref:s,children:e});return r?(0,o.tZ)(l.Tooltip,{title:(0,o.tZ)(i.j,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:a}):a}));a.displayName="DefaultTableCell";const u=(0,r.memo)((0,s.f)(a))},62932:(e,t,n)=>{"use strict";n.d(t,{i:()=>le});var o=n(93388),r=n(14618),i=n(77026),l=n(66029),s=n(58521),a=n(84030),u=n(41807),d=n(83239);const c=e=>{const t=(0,a.Fg)(),[n,r]=(0,l.useState)(!1),[i,s]=(0,l.useState)(e.position),u=(0,l.useRef)(i);return(0,l.useEffect)((()=>{s(e.position)}),[e.position]),(0,l.useEffect)((()=>{u.current=i}),[i]),(0,o.tZ)("div",{className:"handle",onMouseDown:t=>{t.stopPropagation(),document.body.style.userSelect="none";const n=t.clientX;r(!0);const o=t=>{s(function(t){const o=t-n;return Math.max(i+o,e.minPosition)}(t.clientX))},l=()=>{document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",o),document.body.removeEventListener("mouseup",l),r(!1),e.onResizeEnded(u.current)};document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",l)},onDoubleClick:e.onDoubleClicked,css:{position:"absolute",cursor:"col-resize",height:"100%",width:4,background:n?t.primaryColor:"transparent",top:0,left:i,zIndex:1,":hover":{background:t.primaryColor}}})};var m=n(50083),f=n(93481);const h=({left:e,onClick:t,numberOfHiddenColumns:n})=>{const r=(0,a.Fg)(),{formatMessage:i}=(0,f.useIntl)();return(0,o.tZ)("div",{css:{cursor:"pointer",position:"absolute",top:0,left:e-15,height:14,width:26,zIndex:1,":hover":{border:`1px solid ${r.primaryColor}`,borderRadius:5,backgroundColor:r.white},display:"flex",justifyContent:"center",alignItems:"center"},onClick:t,onMouseDown:e=>{e.stopPropagation()},children:(0,o.tZ)(u.Tooltip,{title:i({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:n}),placement:"top",trigger:"hover",children:(0,o.BX)("span",{css:{width:24,height:12,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,o.tZ)(m.CaretLeftOutlined,{}),(0,o.tZ)(m.CaretRightOutlined,{})]})})})};var p=n(81292);function g({columnIndex:e,columnWidths:t,defaultColumnWidth:n,hiddenColumns:o}){return o.has(e)?0:t?.[e]??n}const y=e=>{const t=(0,a.Fg)(),{range:n}=e;if(!n)return null;const{left:r,width:i,top:s,height:u}=(({columnWidths:e={},defaultColumnWidth:t,defaultRowHeight:n,hiddenColumns:o,range:r,rowHeights:i})=>{const{columns:l,rows:s}=r;let a=0,u=0;for(let n=0;n<l.to+1;n++){const r=g({columnIndex:n,columnWidths:e,defaultColumnWidth:t,hiddenColumns:o});n<l.from?a+=r:u+=r}let d=0,c=0;if(i)for(let e=0;e<s.to+1;e++){const t=i[e]??n;e<s.from?d+=t:c+=t}else d=s.from*n,c=(s.to+1-s.from)*n;return{left:a,width:u,top:d,height:c}})({...e,range:n});return(0,o.tZ)(l.Fragment,{children:(0,o.tZ)("div",{css:p.css`
          background: ${t.selectionOverlayColor};
          position: absolute;
          top: ${s}px;
          left: ${r}px;
          height: ${u}px;
          width: ${i}px;
          pointer-events: none;
        `})})};var b=n(10409);const v=({columnWidths:e={},containerHeight:t,containerWidth:n,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:i,numberOfColumns:l,numberOfRows:s,scrollLeft:a,scrollTop:u})=>{function d(t){return g({columnIndex:t,columnWidths:e,defaultColumnWidth:o,hiddenColumns:i})}const[c,m,f]=function(){if(0===a||0===l)return[0,d(0),0];let e=0;for(let t=0;t<l;t++){const n=e+d(t);if(n>a)return[t,n-a,e];e=n}return[l-1,0,e]}(),h=function(e,t){if(e===l-1||t>n)return e;let o=t;for(let t=e+1;t<l;t++)if(o+=d(t),o>n)return t;return l-1}(c,m),p=Math.floor(u/r);return[{rows:{from:p,to:Math.min(p+Math.ceil(t/r),s-1)},columns:{from:c,to:h}},f]},w=e=>{const t={width:e.containerWidth,...!1!==e.isVirtualized&&{height:e.containerHeight}},n=e.scrollDirection||[];return 2===n.length?{...t,overflow:"auto"}:n.includes("horizontal")?{...t,overflowX:"auto",overflowY:"hidden"}:n.includes("vertical")?{...t,overflowX:"hidden",overflowY:"auto"}:t},C=e=>{if(!e)return 0;const t=e.borderTop??e.border??"0px";return Number.parseInt(t.toString().split(" ")[0])},x=e=>{const{style:t,numberOfRows:n,defaultRowHeight:o,numberOfColumns:r,defaultColumnWidth:i,columnWidths:l,hiddenColumns:s}=e;let a=0;for(let e=0;e<r;e++)a+=g({columnIndex:e,columnWidths:l,defaultColumnWidth:i,hiddenColumns:s});return{cursor:"cell",width:a,position:"relative",...!1!==e.isVirtualized&&{height:n*o+C(e.style),overflow:"hidden"},...t}},O={},I=()=>{},R=e=>{const{columnWidths:t=O,onVisibleRangeChanged:n=I}=e,r=e.isVirtualized??!0,s=(0,l.useRef)(),[a,u]=(0,l.useState)(0),[d,m]=(0,l.useState)(0),[f,p]=(0,l.useMemo)((()=>r?v({columnWidths:t,containerHeight:e.containerHeight,containerWidth:e.containerWidth,defaultColumnWidth:e.defaultColumnWidth,defaultRowHeight:e.defaultRowHeight,hiddenColumns:e.hiddenColumns,numberOfColumns:e.numberOfColumns,numberOfRows:e.numberOfRows,scrollLeft:d,scrollTop:a}):[{columns:{from:0,to:e.numberOfColumns-1},rows:{from:0,to:e.numberOfRows-1}},0]),[t,e.containerHeight,e.containerWidth,e.defaultColumnWidth,e.defaultRowHeight,e.hiddenColumns,e.numberOfColumns,e.numberOfRows,r,d,a]);(0,l.useEffect)((()=>{f.rows.from===s.current?.rows.from&&f.rows.to===s.current?.rows.to&&f.columns.from===s.current?.columns.from&&f.columns.to===s.current?.columns.to||(n(f),s.current=f)}),[n,f]);const g=[],C=[],R=[],S=[];let H=f.rows.from;function M(n,{left:i,rowIndex:l,columnIndex:s,rowProps:a,columnProps:u}){if(e.hiddenColumns.has(s)){if(0===l){const e=S.at(-1);e?.to===s-1?e.to=s:S.push({from:s,to:s,left:i})}}else{const d=e.cells[l][s],c=t[s]??e.defaultColumnWidth;n.push((0,o.tZ)(e.Cell,{className:"aui-table-cell",...d,rowIndex:l,columnIndex:s,left:i,width:c,parentTotalRowIndex:H,top:l*e.defaultRowHeight,height:e.defaultRowHeight,isVirtualized:r,...a[s],...u[l]},`cell-${l}-${s}`)),i+=c}return i}for(let t=f.rows.from;t<=Math.min(e.numberOfRows-1,f.rows.to);t++){r||C.push([]);let n=p;const o=e.getRowProps?e.getRowProps(t):[];e.isTotal?.(t)&&(H=t);for(let i=f.columns.from;i<=Math.min(e.numberOfColumns-1,f.columns.to);i++){const l=e.getColumnProps?e.getColumnProps(i):[];n=M(r?g:C[t],{rowIndex:t,columnIndex:i,left:n,rowProps:o,columnProps:l}),e.areColumnsResizable&&0===t&&R.push(n-3)}}return(0,o.tZ)("div",{ref:e.gridRef,className:e.isScrollbarVisible?"":"aui-invisible-scrollbars",style:w(e),onScroll:t=>{const n=t.target;r&&(a!==n.scrollTop&&u(n.scrollTop),d!==n.scrollLeft&&m(n.scrollLeft)),!e.onScroll||a===n.scrollTop&&d===n.scrollLeft||e.onScroll({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})},children:(0,o.BX)("div",{style:x(e),children:[r?g:C.map(((t,n)=>(0,o.tZ)("div",{css:{display:"flex",flexDirection:"row",...!e.wrapText&&{height:e.defaultRowHeight}},ref:t=>{e.rowsRef?.(t,n)},children:t},`row-${n}`))),(e.selection||[]).map(((t,n)=>(0,o.tZ)(y,{range:t,defaultRowHeight:e.defaultRowHeight,defaultColumnWidth:e.defaultColumnWidth,columnWidths:e.columnWidths,hiddenColumns:e.hiddenColumns,rowHeights:e.rowHeights},n))),e.areHiddenColumnGroupCaretsVisible&&S.map((({left:t,from:n,to:r},l)=>(0,o.tZ)(h,{left:t,numberOfHiddenColumns:r-n+1,onClick:()=>((t,n)=>{e.onColumnsShown?.((0,i.range)(t,n+1))})(n,r)},l))),e.areColumnsResizable&&R.map(((n,r)=>{const i=0===r?0:R[r-1],l=n-i;return(0,o.tZ)(c,{position:n,minPosition:i+b.F,onDoubleClicked:()=>e.onColumnResizeHandleDoubleClicked?.(r),onResizeEnded:o=>{e.onColumnsWidthChanged?.({...t,[r]:l+o-n+3})}},r)}))]})})};R.defaultProps={isScrollbarVisible:!0,scrollDirection:[]};let S=n(34933);S=S.default??S;const{ScrollSync:H,ScrollSyncPane:M}=S,z=e=>{const{TopCell:t,TopLeftCell:n,LeftCell:r,BodyCell:i,numberOfFrozenColumns:s,numberOfFrozenRows:a,rowHeaderStyle:u,bodyStyle:d,numberOfRowsInBody:c,numberOfColumnsInBody:m,frozenRowsTotalHeight:f,frozenColumnsTotalWidth:h,columnHeaderCells:p,bodyCells:g,columnWidths:y,body:b,columnHeader:v,selection:w,bodyWidth:C,bodyHeight:x,height:O,onVisibleRangeChanged:I,getRowProps:S}=e,z=(0,l.useCallback)((e=>S(e+a)),[S,a]),F=(0,l.useCallback)((e=>{const{columnIndex:r}=e;return r<=s-1?(0,o.tZ)(n,{...e}):(0,o.tZ)(t,{...e,columnIndex:r-s})}),[s,n,t]),T=(0,l.useCallback)((e=>{const{columnIndex:t}=e;return t<=s-1?(0,o.tZ)(r,{...e,style:u}):(0,o.tZ)(i,{...e,columnIndex:t-s})}),[s,u,r,i]);return F.displayName="TopCellWhenNotEnoughWidth",T.displayName="BodyCellWhenNotEnoughWidth",(0,o.tZ)(H,{children:(0,o.BX)("div",{css:{display:"flex",height:O,flexDirection:"column"},children:[(0,o.tZ)("div",{css:{borderCollapse:"collapse"},children:(0,o.tZ)(M,{group:"horizontal",children:(0,o.tZ)(R,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:p,Cell:F,columnWidths:y,gridRef:v,containerHeight:f,containerWidth:h+C-18,defaultColumnWidth:e.defaultColumnWidth,defaultRowHeight:e.defaultRowHeight,wrapText:e.wrapHeaders,hiddenColumns:e.hiddenColumns,isVirtualized:!1,getRowProps:e.getRowProps,getColumnProps:e.getColumnProps,numberOfRows:a,numberOfColumns:m,onColumnsShown:e.onColumnsShown,selection:w.map((e=>e.columnHeader)),scrollDirection:["horizontal"],isScrollbarVisible:!1,onColumnsWidthChanged:e.onColumnsWidthChanged,onColumnResizeHandleDoubleClicked:e.onColumnResizeHandleDoubleClicked})})}),(0,o.tZ)(M,{group:"horizontal",children:(0,o.tZ)(R,{areHiddenColumnGroupCaretsVisible:!0,cells:g,Cell:T,columnWidths:y,gridRef:b,containerHeight:x,containerWidth:h+C,defaultColumnWidth:e.defaultColumnWidth,defaultRowHeight:e.defaultRowHeight,hiddenColumns:e.hiddenColumns,getColumnProps:e.getColumnProps,getRowProps:z,numberOfRows:c,numberOfColumns:m,selection:w.map((e=>e.body)),style:d,scrollDirection:["horizontal","vertical"],onVisibleRangeChanged:I,onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>s+e)))})})]})})};var F=n(9617);const{Option:T}=F.Select,E=new Intl.NumberFormat,N=({selection:e,cells:{bodyCells:t,columnHeaderCells:n,staticHeaderCells:r,rowHeaderCells:i},hiddenFrozenColumns:s,hiddenScrollableColumns:a})=>{const{formatMessage:u}=(0,f.useIntl)(),d=(0,l.useMemo)((()=>{const o={},l=new Set;return e.forEach((e=>{[[e.body,t,a],[e.columnHeader,n,a],[e.staticHeader,r,s],[e.rowHeader,i,s]].forEach((([e,t,n])=>{if(e&&t)for(let r=e.rows.from;r<=e.rows.to;r++)for(let i=e.columns.from;i<=e.columns.to;i++){const e=`${r}:${i}`;if(!l.has(e)&&!n.has(i)){l.add(e);const n=t[r]?.[i];if(n){const e=Number(n.value);isNaN(e)||(o.sum=(o.sum??0)+e,o.min=Math.min(o.min??e,e),o.max=Math.max(o.max??e,e),o.countNumbers=(o.countNumbers??0)+1),o.count=(o.count??0)+1}}}}))})),{...o,...o.sum&&o.countNumbers?{avg:o.sum/o.countNumbers}:{}}}),[t,n,s,a,i,e,r]),[c,m]=(0,l.useState)("sum"),h=(0,l.useMemo)((()=>d?Object.keys(d):[]),[d]);return d&&0!==h.length?(0,o.tZ)(F.Select,{bordered:!1,value:c,onChange:e=>m(e),dropdownMatchSelectWidth:175,children:["sum","min","max","avg","count","countNumbers"].map((e=>{const t=d[e];return(0,o.tZ)(T,{value:e,children:(0,o.BX)("div",{css:{display:"flex",justifyContent:"space-between"},children:[(0,o.BX)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[u({id:`aui.dataVisualization.statistics.${e}`})," "]}),(0,o.tZ)("div",{children:t?E.format(t):""})]})},e)}))}):null},W=e=>{const t=document.createElement("div");t.innerHTML=e,t.style.fontSize="12px",t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.whiteSpace="nowrap",document.body.appendChild(t);const n=t.clientWidth+1;return document.body.removeChild(t),n},D=["margin-left","margin-right","padding-left","padding-right"],P=e=>{let t=0;if("style"in e&&"none"===e.style.display)return 0;if(D.forEach((n=>{t+=parseFloat(window.getComputedStyle(e).getPropertyValue(n))})),"svg"===e.tagName)t+=e.getBoundingClientRect().width;else for(let n=0;n<e.children.length;n++)t+=P(e.children[n]);return t},Z=e=>"style"in e&&"none"===e.style.display,k=({gridElement:e,defaultRowHeight:t,defaultColumnWidth:n,columnWidths:o,hiddenColumns:r,rowHeights:i,x:l,y:s})=>{const a=e.getBoundingClientRect(),u=e.scrollTop+Math.max(0,Math.min(a.height,s-a.top));let d=0;if(i){let e=0;for(;d<i.length&&(e+=i[d]??t,e<u);)d+=1}else d=Math.floor(u/t);const c=function({distanceFromLeft:e,hiddenColumns:t,columnWidths:n,defaultColumnWidth:o}){let r=-1,i=0;for(;i<=e;)r++,i+=g({columnIndex:r,columnWidths:n,defaultColumnWidth:o,hiddenColumns:t});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(a.width,l-a.left)),columnWidths:o,defaultColumnWidth:n,hiddenColumns:r});return{rowIndex:d,columnIndex:c}},B=["staticHeader","columnHeader","rowHeader","body"],A={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},_=e=>A?.[e],L=(e,t)=>{const n=_(e),o=_(t.gridKey),r={rowIndex:t.rowIndex,columnIndex:t.columnIndex};return o.horizontal!==n.horizontal&&(r.columnIndex="left"===n.horizontal?1/0:-1/0),o.vertical!==n.vertical&&(r.rowIndex="top"===n.vertical?1/0:-1/0),r},j=({anchorFrom:e,anchorTo:t,columnWidths:n,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:i,grid:l,gridKey:s,numberOfColumns:a,numberOfRows:u})=>{const d=L(s,e),c=L(s,t),m={rows:{from:Math.min(d.rowIndex,c.rowIndex),to:Math.max(d.rowIndex,c.rowIndex)},columns:{from:Math.min(d.columnIndex,c.columnIndex),to:Math.max(d.columnIndex,c.columnIndex)}},{height:f,width:h}=l.getBoundingClientRect(),[p]=v({columnWidths:n,containerHeight:f,containerWidth:h,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:i,numberOfColumns:a,numberOfRows:u,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}),g=["rows","columns"];for(let e=0;e<g.length;e++){const t=g[e],n=m[t],{from:o,to:r}=n;if(!isFinite(o)&&!isFinite(r))return;isFinite(o)?isFinite(r)||(n.to=p[t].to):n.from=p[t].from}return m};function $(e,{cellPosition:t,frozenColumnWidths:n,scrollableColumnWidths:o,defaultColumnWidth:l,defaultRowHeight:s,grids:a,hiddenFrozenColumns:u,hiddenScrollableColumns:d,numberOfColumnsInBody:c,numberOfFrozenColumns:m,numberOfFrozenRows:f,numberOfRowsInBody:h}){return(0,r.produce)(e,(e=>{const r=e.at(-1);B.forEach((e=>{const p=a[e].current;if(!p)return;const g=["staticHeader","rowHeader"].includes(e),y=["staticHeader","columnHeader"].includes(e),b=j({anchorFrom:r.anchor,anchorTo:t,defaultColumnWidth:l,defaultRowHeight:s,columnWidths:g?n:o,grid:p,gridKey:e,hiddenColumns:g?u:d,numberOfColumns:g?m:c,numberOfRows:y?f:h});(0,i.set)(r,e,b)}))}))}var K=n(83363);function V({gridKey:e,columnIndex:t,rowIndex:n},{numberOfFrozenColumns:o,numberOfFrozenRows:r}){return{columnIndex:t+(["body","columnHeader"].includes(e)?o:0),rowIndex:n+(["body","rowHeader"].includes(e)?r:0)}}function q(e,[t,n]){return Math.max(t,Math.min(n,e))}function Y({rowIndex:e,columnIndex:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o}){return e<o&&t<n?{gridKey:"staticHeader",rowIndex:e,columnIndex:t}:e<o?{gridKey:"columnHeader",rowIndex:e,columnIndex:t-n}:t<n?{gridKey:"rowHeader",rowIndex:e-o,columnIndex:t}:{gridKey:"body",rowIndex:e-o,columnIndex:t-n}}function X({anchor:e,to:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o,numberOfColumnsInBody:r,numberOfRowsInBody:i}){const l=Math.min(e.rowIndex,t.rowIndex),s=Math.max(e.rowIndex,t.rowIndex),a=Math.min(e.columnIndex,t.columnIndex),u=Math.max(e.columnIndex,t.columnIndex),d={staticHeader:{rows:{from:0,to:o-1},columns:{from:0,to:n-1}},columnHeader:{rows:{from:0,to:o-1},columns:{from:n,to:r-1}},rowHeader:{rows:{from:o,to:i-1},columns:{from:0,to:n-1}},body:{rows:{from:o,to:i-1},columns:{from:n,to:r-1}}},c={anchor:Y(e,{numberOfFrozenColumns:n,numberOfFrozenRows:o})};return B.forEach((e=>{const t=d[e];if(s<t.rows.from||l>t.rows.from+t.rows.to||u<t.columns.from||a>t.columns.from+t.columns.to)return;const n={columns:{from:q(a-t.columns.from,[0,t.columns.to]),to:q(u-t.columns.from,[0,t.columns.to])},rows:{from:q(l-t.rows.from,[0,t.rows.to]),to:q(s-t.rows.from,[0,t.rows.to])}};c[e]=n})),c}function U(e,{key:t,shiftKey:n,ctrlKey:o,metaKey:r,numberOfColumnsInBody:l,numberOfRowsInBody:s,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfVisibleRows:d}){const c={numberOfColumnsInBody:l,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfRowsInBody:s},m={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-d},PageDown:{rowOffset:d},Home:{rowOffset:-1/0},End:{rowOffset:1/0}};switch(t){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:t=!1,rowOffset:n=0,columnOffset:o=0,numberOfColumnsInBody:r,numberOfRowsInBody:l,numberOfFrozenColumns:s,numberOfFrozenRows:a}){const u=function(e,t){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:n}=e,o=V(n,t),r=[];return B.forEach((n=>{const o=e[n];o&&["from","to"].forEach((e=>{["from","to"].forEach((i=>{const l=V({gridKey:n,rowIndex:o.rows[e],columnIndex:o.columns[i]},t);r.push(l)}))}))})),{anchor:o,to:(0,i.maxBy)(r,(e=>{return t=e,n=o,Math.abs(n.columnIndex-t.columnIndex)+Math.abs(n.rowIndex-t.rowIndex);var t,n}))}}(e.at(-1),{numberOfFrozenColumns:s,numberOfFrozenRows:a}),d=a+l,c=s+r,{rowIndex:m,columnIndex:f}=t?u.to:u.anchor,h={rowIndex:q(m+n,[0,d-1]),columnIndex:q(f+o,[0,c-1])},p=t?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[X(p,{numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfColumnsInBody:r,numberOfRowsInBody:l})],targetCellPosition:p.to}}(e,{...m[t],isExtending:n,...c});case"a":if(K.q?r:o)return{selection:[{anchor:{columnIndex:0,gridKey:"body",rowIndex:0},body:{columns:{from:0,to:l-1},rows:{from:0,to:s-1}},...u>0&&{columnHeader:{columns:{from:0,to:l-1},rows:{from:0,to:u-1}}},...a>0&&{rowHeader:{columns:{from:0,to:a-1},rows:{from:0,to:s-1}}},...u>0&&a>0&&{staticHeader:{columns:{from:0,to:a-1},rows:{from:0,to:u-1}}}}]}}return{selection:e}}const Q=100;function G(e,t){return e.columnIndex<t?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-t}}function J(e,t){return{rows:e.rows,columns:{from:e.columns.from-t,to:e.columns.to-t}}}function ee(e,t){return e?e.columns.to<t?[e,void 0]:e.columns.from>=t?[void 0,J(e,t)]:function(e,t){return[{rows:e.rows,columns:{from:e.columns.from,to:t-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-t}}]}(e,t):[void 0,void 0]}const te=()=>{},ne={},oe=new Set,re=()=>!1,ie=["horizontal","vertical"],le=e=>{const[t]=(0,s.y)("table.defaultSize"),{columnWidth:n,rowHeight:c}=b.v[e.size??t],m=e.columnWidths??ne,f=e.isTotal??re,h=e.numberOfFrozenColumns??0,p=e.numberOfFrozenRows??0,y=e.onColumnsResized??te,v=e.onKeyDown??te,w=e.onKeyUp??te,C=e.onScrolled??te,x=e.onVisibleRangeChanged??te,O=e.hiddenColumns??oe,{onFrozenColumnsIgnored:I}=e,S=(0,l.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),F=e.cells.length-p,T=(0,l.useRef)(null),E=(0,l.useRef)(null),D=(0,l.useRef)(null),B=(0,l.useRef)(null),A=(0,l.useRef)(null),_=(0,l.useMemo)((()=>({staticHeader:E,rowHeader:D,columnHeader:B,body:A})),[E,D,B,A]),L=(0,a.Fg)(),j=(0,l.useMemo)((()=>({borderRight:`2px solid ${L.cellBorderColor}`})),[L.cellBorderColor]),K=(0,l.useMemo)((()=>({borderTop:`2px solid ${L.cellBorderColor}`,borderRight:`2px solid ${L.cellBorderColor}`})),[L.cellBorderColor]),V=(0,l.useMemo)((()=>({borderTop:`2px solid ${L.cellBorderColor}`})),[L.cellBorderColor]),{height:q,width:Y}=(0,u.useDebouncedComponentSize)(T),[X,J]=(0,l.useMemo)((()=>{const e=new Set,t=new Set;return O.forEach((n=>{n<h?e.add(n):t.add(n-h)})),[e,t]}),[h,O]),[le,se]=(0,l.useMemo)((()=>{const e={},t={};for(const n in m){const o=Number.parseInt(n,10),r=m[o];o<h?e[n]=r:t[o-h]=r}return[e,t]}),[m,h]),ae=(0,l.useMemo)((()=>{let e=0;for(let t=0;t<h;t++)e+=g({columnIndex:t,columnWidths:le,defaultColumnWidth:n,hiddenColumns:X});return e}),[n,le,X,h]);(0,l.useEffect)((()=>{ae/Y>.9&&I?I(!0):I&&I(!1)}),[I,ae,Y]);const{staticHeader:ue,rowHeader:de,columnHeader:ce,body:me}=(0,l.useMemo)((()=>function(e,{numberOfFrozenRows:t,numberOfFrozenColumns:n,areFrozenColumnsIgnored:o}){const r=o?0:n,i={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,n)=>{e.forEach(((e,o)=>{const l=function({rowIndex:e,columnIndex:t,numberOfFrozenRows:n,effectiveNumberOfFrozenColumns:o}){const r=e<n,i=t<o;return r&&i?"staticHeader":i?"rowHeader":r?"columnHeader":"body"}({rowIndex:n,columnIndex:o,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:r}),s=i[l];s.length===(n<t?n:n-t)&&s.push([]),s.at(-1).push(e)}))})),i}(e.cells,{areFrozenColumnsIgnored:Boolean(e.areFrozenColumnsIgnored),numberOfFrozenRows:p,numberOfFrozenColumns:h})),[e.cells,h,p,e.areFrozenColumnsIgnored]),fe=me[0]?me[0].length:ce[0]?.length??0,[he,pe,ge]=function(){const e=(0,l.useRef)([]),t=(0,l.useRef)([]),n=(0,l.useRef)([]),o=(0,l.useRef)([]),r=(0,l.useCallback)((()=>{const[r,i]=[e.current,t.current].map((e=>e.filter((e=>null!==e))));function l(){for(let e=0;e<r.length;e++){const[t,n]=[r,i].map((t=>t[e])),[o,l]=[t,n].map((e=>e.clientHeight));o!==l&&(t.style.minHeight&&t.style.minHeight===`${o}px`||n.style.minHeight&&n.style.minHeight===`${l}px`)?(t.style.minHeight="",n.style.minHeight=""):o<l?t.style.minHeight=`${l}px`:l<o&&(n.style.minHeight=`${o}px`)}}const s=n.current,a=o.current;if(r.length===i.length&&r.length===s.length&&i.length===a.length||([...s,...a].forEach((e=>{e.disconnect()})),s.splice(0,s.length),a.splice(0,a.length)),0===s.length&&0===a.length&&r.length>0&&r.length===i.length)for(let e=0;e<r.length;e++){const t=new ResizeObserver(l);t.observe(r[e]),s.push(t);const n=new ResizeObserver(l);n.observe(i[e]),a.push(n)}}),[]);return[e,t,r]}(),[ye,be,ve,we,Ce]=function({container:e,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,hiddenFrozenColumns:r,hiddenScrollableColumns:s,grids:a,numberOfColumnsInBody:u,numberOfFrozenColumns:d,numberOfFrozenRows:c,numberOfRowsInBody:m,numberOfVisibleRows:f,columnHeaderRows:h,scrollableColumnWidths:p}){const[y,b]=(0,l.useState)([]),v=(0,l.useRef)(y);(0,l.useEffect)((()=>{v.current=y}),[y]);const w=(0,l.useCallback)(((i,l)=>{if(!e.current||!a.body.current)return null;const u=a.body.current.getBoundingClientRect(),d={staticHeader:i<u.left&&l<u.top,rowHeader:i<u.left&&l>=u.top,columnHeader:i>=u.left&&l<u.top,body:i>=u.left&&l>=u.top},c=Object.keys(a).find((e=>!0===d[e]));if(!a[c]||!a[c].current)return null;const m=["staticHeader","rowHeader"].includes(c),f=["staticHeader","columnHeader"].includes(c);return{gridKey:c,...k({gridElement:a[c].current,defaultColumnWidth:t,columnWidths:m?o:p,hiddenColumns:m?r:s,defaultRowHeight:n,rowHeights:f?h.map((e=>e?.clientHeight)):void 0,x:i,y:l})}}),[h,e,t,n,r,s,a,o,p]),C=(0,l.useCallback)((l=>{if(l.preventDefault(),e.current?.focus(),((e,t)=>{if(null===e)return!1;const n=e.getBoundingClientRect(),o=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight;return o&&t.clientY>n.bottom-18||r&&t.clientX>n.right-18})(a.body.current,l)||0!==l.button||!((e,t)=>{const n=t.body.current?.children?.[0],o=t.staticHeader.current?.children?.[0]||t.rowHeader.current?.children?.[0]||t.columnHeader.current?.children?.[0]||n;if(!n||!o)return!1;const{top:r,left:i}=o.getBoundingClientRect(),{bottom:l,right:s}=n.getBoundingClientRect();return e.clientX>=i&&e.clientX<=s&&e.clientY>=r&&e.clientY<=l})(l,a))return;let f=l.clientX,h=l.clientY;const g=w(f,h);let y=g,C=!1;const x=e=>{f=e.clientX,h=e.clientY};if(g){const{gridKey:O,rowIndex:I,columnIndex:R}=g,S=v.current.at(-1);if(l.shiftKey&&S){const e=$(v.current,{cellPosition:g,defaultColumnWidth:t,defaultRowHeight:n,grids:a,hiddenFrozenColumns:r,hiddenScrollableColumns:s,numberOfColumnsInBody:u,numberOfFrozenColumns:d,numberOfFrozenRows:c,numberOfRowsInBody:m,frozenColumnWidths:o,scrollableColumnWidths:p});b(e)}else{const e={anchor:g,[O]:{rows:{from:I,to:I},columns:{from:R,to:R}}};l.ctrlKey||l.metaKey?b([...v.current,e]):b([e])}const H=()=>{C||(C=!0,requestAnimationFrame((()=>{C=!1;const l=w(f,h);if(l&&!(0,i.isEqual)(l,y)&&(y=l,v.current.length>0)){const e=$(v.current,{cellPosition:l,defaultColumnWidth:t,defaultRowHeight:n,grids:a,hiddenFrozenColumns:r,hiddenScrollableColumns:s,numberOfColumnsInBody:u,numberOfFrozenColumns:d,numberOfFrozenRows:c,numberOfRowsInBody:m,frozenColumnWidths:o,scrollableColumnWidths:p});b(e)}((e,t,{x:n,y:o})=>{const r=e.getBoundingClientRect();n<r.left?t.scrollLeft-=Q:n>r.right&&(t.scrollLeft+=Q),o<r.top?t.scrollTop-=Q:o>r.bottom&&(t.scrollTop+=Q)})(e.current,a.body.current,{x:f,y:h})})))},M=setInterval(H,10),z=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",z),clearInterval(M)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",z)}}),[n,t,e,a,w,o,r,s,u,d,m,c,p]),x=(0,l.useCallback)((e=>{const t=e.pageX,n=e.pageY,o=w(t,n);if(!o)return y;const{columnIndex:r,gridKey:i,rowIndex:l}=o;if(!y.some((e=>void 0!==e[i]&&e[i].columns.from<=r&&e[i].columns.to>=r&&e[i].rows.from<=l&&e[i].rows.to>=l))){const e=[{anchor:o,[i]:{columns:{from:r,to:r},rows:{from:l,to:l}}}];return b(e),e}return y}),[w,y]);return[y,C,x,(i,l)=>{const{selection:h,targetCellPosition:v}=U(y,{...i,numberOfColumnsInBody:u,numberOfFrozenColumns:d,numberOfFrozenRows:c,numberOfRowsInBody:m,numberOfVisibleRows:f});if(h!==y){b(h),l(h),i.preventDefault();const u=a.body.current;if(!v||!u||!e.current)return;const c=e.current.scrollHeight,m=e.current.scrollWidth,{rowIndex:f,columnIndex:y}=v,w=Math.max(0,n*(f-2)),C=w+3*n;w<u.scrollTop?u.scrollTop=w:C>u.scrollTop+c&&(u.scrollTop=C-c);let x=0;for(let e=0;e<y;e++)x+=g({columnIndex:e,columnWidths:e<d?o:p,defaultColumnWidth:t,hiddenColumns:e<d?r:s});x<u.scrollLeft?u.scrollLeft=x:x>u.scrollLeft+m&&(u.scrollLeft=x-m)}},(e,t)=>{"Escape"===e.key&&(b([]),t([]))}]}({container:T,defaultColumnWidth:n,defaultRowHeight:c,grids:_,hiddenFrozenColumns:X,hiddenScrollableColumns:J,numberOfFrozenRows:p,numberOfRowsInBody:F,numberOfVisibleRows:T.current?Math.floor(T.current.scrollHeight/c-p):0,...Boolean(e.areFrozenColumnsIgnored)?{frozenColumnWidths:{},numberOfColumnsInBody:h+fe,numberOfFrozenColumns:0,scrollableColumnWidths:m}:{frozenColumnWidths:le,numberOfColumnsInBody:fe,numberOfFrozenColumns:h,scrollableColumnWidths:se},columnHeaderRows:pe.current}),xe=(0,l.useRef)(ye);(0,l.useEffect)((()=>{xe.current=ye}),[ye]);const Oe=t=>{if(e.onSelectionChanged){const n=Boolean(e.areFrozenColumnsIgnored)?function({selection:e,numberOfFrozenColumns:t}){return e.map((e=>{const[n,o]=ee(e.body,t),[r,i]=ee(e.columnHeader,t);return{anchor:G(e.anchor,t),staticHeader:r,columnHeader:i,rowHeader:n,body:o}}))}({selection:t,numberOfFrozenColumns:h}):t;e.onSelectionChanged(n)}},Ie=(0,l.useCallback)((t=>{const n=function(e,t){const n=e[0],o=[];if(n?.staticHeader){const{from:e,to:t}=n.staticHeader.columns;o.push(...(0,i.range)(e,t+1))}if(n?.columnHeader){const{from:e,to:r}=n.columnHeader.columns;o.push(...(0,i.range)(e+t,r+t+1))}return o}(xe.current,Boolean(e.areFrozenColumnsIgnored)?0:h),o=n.includes(t)?n:[t],r={};o.forEach((t=>{const n=(({cells:e,columnIndex:t,cellRefs:{body:n,columnHeader:o,rowHeader:r,staticHeader:i},numberOfFrozenColumns:l,numberOfFrozenRows:s,numberOfRowsInBody:a,numberOfColumnsInBody:u})=>{const d=s+a,c=t<l,m=c?t:t-l,[[f,h],[p,g]]=[{from:0,to:s,cellsContainer:c?i:o},{from:s,to:d,cellsContainer:c?r:n}].map((({from:n,to:o,cellsContainer:r})=>{let i="",l=0;for(let a=n;a<o;a++){let n=null;if(r){const e=a<s?a:a-s,t=Math.min(m,r[0].length-1);if(n=r[e]?.[t],n){const e=P(n);e>l&&(l=e)}}if(!n||!n?.children?.[0]||!Z(n)&&!Z(n.children[0])){const n=e[a][t]?.caption??"";n.length>i.length&&(i=n)}}return[i,l]})),y=W(f)+h+6,b=W(p)+g;return Math.max(y,b)+10})({cells:e.cells,cellRefs:S.current,columnIndex:t,numberOfFrozenColumns:h,numberOfFrozenRows:p,numberOfColumnsInBody:fe,numberOfRowsInBody:F});r[t]=n})),y?.(r)}),[e.cells,h,p,fe,F,y,e.areFrozenColumnsIgnored]),[Re,Se]=(0,l.useState)(p*c);(0,l.useEffect)((()=>{setTimeout((()=>{const t=_.columnHeader.current??_.staticHeader.current;t&&Se(e.wrapHeaders?t.clientHeight:p*c)}))}),[_.columnHeader,_.staticHeader,e.wrapHeaders,p,c]);const He=q-Re,Me=Y-ae,ze=A.current&&A.current.scrollWidth>A.current.clientWidth,{getRowProps:Fe,getColumnProps:Te}=e,Ee=(0,l.useMemo)((()=>(0,i.memoize)(Fe??(()=>[]))),[Fe]),Ne=(0,l.useMemo)((()=>(0,i.memoize)(Te??(()=>[]))),[Te]),We=(0,l.useCallback)((e=>Ee(e+p)),[Ee,p]),De=(0,l.useCallback)((e=>Ne(e+h)),[Ne,h]),Pe=e.Cell??d.V,Ze=(0,l.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,i=(0,l.useCallback)((e=>{const t=S.current.staticHeader;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.tZ)(Pe,{ref:i,...t,size:e.size,wrapText:e.wrapHeaders,isRowFrozen:!0,isColumnFrozen:!0,rowIndex:r,columnIndex:n})}),[e.size,Pe,e.wrapHeaders]),ke=(0,l.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,i=(0,l.useCallback)((e=>{const t=S.current.rowHeader;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.tZ)(Pe,{ref:i,...t,rowIndex:r,columnIndex:n,size:e.size,isRowFrozen:!1,isColumnFrozen:!0})}),[e.size,p,Pe]),Be=(0,l.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,i=(0,l.useCallback)((e=>{const t=S.current.columnHeader;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.tZ)(Pe,{ref:i,...t,size:e.size,wrapText:e.wrapHeaders,isRowFrozen:!0,isColumnFrozen:!1,rowIndex:r,columnIndex:n})}),[e.size,Pe,e.wrapHeaders]),Ae=(0,l.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,i=(0,l.useCallback)((e=>{const t=S.current.body;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.tZ)(Pe,{...t,ref:i,rowIndex:r,columnIndex:n,size:e.size,isRowFrozen:!1,isColumnFrozen:!1})}),[e.areFrozenColumnsIgnored,e.size,h,p,Pe]);return Ze.displayName="TopLeftCell",ke.displayName="LeftCell",Be.displayName="TopCell",Ae.displayName="BodyCell",(0,o.BX)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,o.tZ)("div",{css:{height:"calc(100% - 30px)",outline:"none",position:"relative"},onKeyDown:e=>{we(e,Oe),v(e)},onKeyUp:e=>{Ce(e,Oe),w(e)},onMouseDown:e=>{be(e);const t=e=>{document.removeEventListener("mouseup",t),0===e.button&&Oe(xe.current)};document.addEventListener("mouseup",t)},onContextMenu:e=>{const t=ve(e);t!==ye&&Oe(t)},ref:T,tabIndex:0,children:q&&Y?Boolean(e.areFrozenColumnsIgnored)?(0,o.tZ)(z,{LeftCell:ke,TopCell:Be,BodyCell:Ae,TopLeftCell:Ze,numberOfFrozenColumns:h,numberOfFrozenRows:p,numberOfColumnsInBody:fe,numberOfRowsInBody:F,rowHeaderStyle:K,bodyStyle:V,selection:ye,frozenRowsTotalHeight:Re,frozenColumnsTotalWidth:ae,getColumnProps:Ne,getRowProps:Ee,wrapHeaders:e.wrapHeaders,columnHeaderCells:ce,bodyCells:me,columnWidths:m,defaultColumnWidth:n,defaultRowHeight:c,bodyHeight:He,bodyWidth:Me,body:A,columnHeader:B,height:q,hiddenColumns:O,onColumnsShown:e.onColumnsShown,style:e.style,onVisibleRangeChanged:x,onColumnsWidthChanged:t=>{e.onColumnsResized?.({...e.columnWidths,...t})}}):(0,o.tZ)(H,{children:(0,o.BX)("div",{css:{display:"flex",height:q},children:[(0,o.BX)("div",{css:{borderCollapse:"collapse",height:Re,width:ae},children:[(0,o.tZ)(R,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:ue,Cell:Ze,columnWidths:le,gridRef:E,containerHeight:Re,containerWidth:ae,defaultColumnWidth:n,defaultRowHeight:c,wrapText:e.wrapHeaders,hiddenColumns:X,isVirtualized:!1,numberOfRows:p,numberOfColumns:h,onColumnsShown:e.onColumnsShown,onColumnsWidthChanged:t=>{e.onColumnsResized?.({...e.columnWidths,...t})},onColumnResizeHandleDoubleClicked:Ie,selection:ye.map((e=>e.staticHeader)),style:j,getRowProps:Ee,getColumnProps:Ne,rowsRef:(e,t)=>{he.current[t]=e,ge()},rowHeights:he.current.map((e=>e?.clientHeight))}),(0,o.tZ)(M,{group:"vertical",children:(0,o.tZ)(R,{cells:de,Cell:ke,columnWidths:le,gridRef:D,containerHeight:He-(ze?18:0),containerWidth:ae,defaultColumnWidth:n,hiddenColumns:X,isScrollbarVisible:!1,isTotal:f,defaultRowHeight:c,numberOfColumns:h,numberOfRows:F,selection:ye.map((e=>e.rowHeader)),scrollDirection:["vertical"],style:K,getRowProps:We,getColumnProps:Ne})})]}),(0,o.BX)("div",{css:{width:Me,borderCollapse:"collapse"},children:[(0,o.tZ)(M,{group:"horizontal",children:(0,o.tZ)(R,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:ce,Cell:Be,columnWidths:se,gridRef:B,containerHeight:Re,containerWidth:Me-18,defaultColumnWidth:n,wrapText:e.wrapHeaders,hiddenColumns:J,isScrollbarVisible:!1,isVirtualized:!1,defaultRowHeight:c,numberOfColumns:fe,numberOfRows:p,onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>h+e))),onColumnsWidthChanged:t=>{const n=(0,r.produce)(e.columnWidths??{},(e=>{for(let n=0;n<h+fe;n++)t[n]&&(e[h+n]=t[n])}));e.onColumnsResized?.({...e.columnWidths,...n})},onColumnResizeHandleDoubleClicked:e=>Ie(h+e),selection:ye.map((e=>e.columnHeader)),scrollDirection:["horizontal"],getRowProps:Ee,getColumnProps:De,rowsRef:(e,t)=>{pe.current[t]=e,ge()},rowHeights:pe.current.map((e=>e?.clientHeight))})}),(0,o.tZ)(M,{group:ie,children:(0,o.tZ)(R,{Cell:Ae,cells:me,columnWidths:se,gridRef:A,containerHeight:He,containerWidth:Me,defaultColumnWidth:n,hiddenColumns:J,isTotal:f,onScroll:C,onVisibleRangeChanged:x,defaultRowHeight:c,numberOfColumns:fe,numberOfRows:F,selection:ye.map((e=>e.body)),scrollDirection:["horizontal","vertical"],style:V,getRowProps:We,getColumnProps:De})})]})]})}):null}),(0,o.tZ)("div",{css:{height:30,textAlign:"right",paddingRight:25},children:(0,o.tZ)(N,{selection:ye,cells:{bodyCells:me,staticHeaderCells:ue,rowHeaderCells:de,columnHeaderCells:ce},hiddenFrozenColumns:X,hiddenScrollableColumns:J})})]})}},1325:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var o=n(77026);function r(e,{numberOfFrozenColumns:t,numberOfFrozenRows:n,numberOfColumnsInBody:r,numberOfRowsInBody:i}){const l={body:{columns:r,rows:i},columnHeader:{columns:r,rows:n},rowHeader:{columns:t,rows:i},staticHeader:{columns:t,rows:n}};return e.map((e=>{const{anchor:t,...n}=e;return{anchor:t,...(0,o.mapValues)(n,((e,t)=>{const n=l[t];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(n.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(n.rows-1,e.rows.to)}}:void 0}))}}))}},52575:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});const o=(e,t)=>{const n=[];if(e)for(let o=e.rows.from;o<=e.rows.to;o++){n.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const i=t(r,o);n[o-e.rows.from].push(i)}}return n}},10409:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,v:()=>r});const o=10,r={small:{columnWidth:90,rowHeight:14},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},87103:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var o=n(93388),r=n(66029);function i(e){const t=(0,r.forwardRef)(((t,n)=>{const i=(0,r.useMemo)((()=>{const e="small"===t.size?1:4,n=t.height-(e+3);return{display:"flex",alignItems:"center",justifyContent:t.isColumnFrozen||t.isRowFrozen?"start":"end",fontSize:12,textOverflow:"ellipsis",boxSizing:"border-box",padding:`${e}px 4px 3px`,lineHeight:`${n}px`,width:t.width,...!t.wrapText&&{overflow:"hidden",height:t.height,whiteSpace:"nowrap"},...!1!==t.isVirtualized&&{position:"absolute",left:t.left,top:t.top},...t.style}}),[t.height,t.isColumnFrozen,t.isRowFrozen,t.left,t.size,t.style,t.top,t.width,t.isVirtualized,t.wrapText]);return(0,o.tZ)(e,{ref:n,...t,style:i})}));return t.displayName="WithDefaultCellStyle",t}},83363:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});const o=globalThis.window?.navigator.platform.startsWith("Mac")??!1},80208:(e,t)=>{"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy");Symbol.for("react.offscreen");function p(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case l:case i:case c:case m:return e;default:switch(e=e&&e.$$typeof){case u:case a:case d:case h:case f:case s:return e;default:return t}}case o:return t}}}Symbol.for("react.module.reference"),t.isFragment=function(e){return p(e)===r},t.isMemo=function(e){return p(e)===f}},34933:function(e,t,n){var o;o=function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:l}catch(e){o=l}}();var a,u=[],d=!1,c=-1;function m(){d&&a&&(d=!1,a.length?u=a.concat(u):c=-1,u.length&&f())}function f(){if(!d){var e=s(m);d=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,o,r,i,l,s,a){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[o,r,i,l,s,a],c=0;(u=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=((o=n(4))&&o.__esModule?o:{default:o}).default.createContext({registerPane:function(){},unregisterPane:function(){}});t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(t){var o,r=n(1);"production"!==t.env.NODE_ENV&&(o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,i="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}},r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[t].concat(r))}}),e.exports=r}).call(t,n(0))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}),!0)}else e.exports=n(12)()}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),i=a(r),l=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.panes={},o.registerPane=function(e,t){t.forEach((function(t){o.panes[t]||(o.panes[t]=[]),o.findPane(e,t)||(o.panes[t].length>0&&o.syncScrollPosition(o.panes[t][0],e),o.panes[t].push(e))})),o.addEvents(e,t)},o.unregisterPane=function(e,t){t.forEach((function(t){o.findPane(e,t)&&(o.removeEvents(e),o.panes[t].splice(o.panes[t].indexOf(e),1))}))},o.addEvents=function(e,t){e.onscroll=o.handlePaneScroll.bind(o,e,t)},o.removeEvents=function(e){e.onscroll=null},o.findPane=function(e,t){return!!o.panes[t]&&o.panes[t].find((function(t){return t===e}))},o.handlePaneScroll=function(e,t){o.props.enabled&&window.requestAnimationFrame((function(){o.syncScrollPositions(e,t)}))},o.syncScrollPositions=function(e,t){t.forEach((function(n){o.panes[n].forEach((function(r){e!==r&&(o.removeEvents(r,n),o.syncScrollPosition(e,r),window.requestAnimationFrame((function(){o.addEvents(r,t)})))}))})),o.props.onSync&&o.props.onSync(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,t){var n=e.scrollTop,o=e.scrollHeight,r=e.clientHeight,i=e.scrollLeft,l=e.scrollWidth,s=e.clientWidth,a=o-r,u=l-s,d=this.props,c=d.proportional,m=d.vertical,f=d.horizontal,h=t.scrollHeight-r,p=t.scrollWidth-s;m&&a>0&&(t.scrollTop=c?h*n/a:n),f&&u>0&&(t.scrollLeft=c?p*i/u:i)}},{key:"render",value:function(){return i.default.createElement(s.default.Provider,{value:this.getContextValue()},i.default.Children.only(this.props.children))}}]),t}(r.Component);d.propTypes={onSync:l.default.func,children:l.default.element.isRequired,proportional:l.default.bool,vertical:l.default.bool,horizontal:l.default.bool,enabled:l.default.bool},d.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),i=a(n(14)),l=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.toArray=function(e){return[].concat(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.node=this.props.attachTo||i.default.findDOMNode(this),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);d.contextType=s.default,d.propTypes={children:l.default.node.isRequired,attachTo:l.default.object,group:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),enabled:l.default.bool},d.defaultProps={group:"default",enabled:!0},d.contextTypes={registerPane:l.default.func,unregisterPane:l.default.func},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);Object.defineProperty(t,"ScrollSync",{enumerable:!0,get:function(){return i(o).default}});var r=n(9);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ScrollSyncPane",{enumerable:!0,get:function(){return i(r).default}})},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var o=n(2),r=n(6),i=n(3),l={};e.exports=function(e,n,s,a,u){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var c;try{o("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s,d),c=e[d](n,d,a,s,null,i)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",s,d,typeof c),c instanceof Error&&!(c.message in l)){l[c.message]=!0;var m=u?u():"";r(!1,"Failed %s type: %s%s",s,c.message,null!=m?m:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3);e.exports=function(){function e(e,t,n,o,l,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";(function(t){var o=n(1),r=n(2),i=n(6),l=n(3),s=n(11);e.exports=function(e,n){var a="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:m(o.thatReturnsNull),arrayOf:function(e){return m((function(t,n,o,r,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new c("Invalid "+r+" `"+i+"` of type `"+p(s)+"` supplied to `"+o+"`, expected an array.");for(var a=0;a<s.length;a++){var u=e(s,a,o,r,i+"["+a+"]",l);if(u instanceof Error)return u}return null}))},element:m((function(t,n,o,r,i){var l=t[n];return e(l)?null:new c("Invalid "+r+" `"+i+"` of type `"+p(l)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(t,n,o,r,i){if(!(t[n]instanceof e)){var l=e.name||u;return new c("Invalid "+r+" `"+i+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+o+"`, expected instance of `"+l+"`.")}var s;return null}))},node:m((function(e,t,n,o,r){return h(e[t])?null:new c("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,n,o,r,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+o+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var d=e(s,u,o,r,i+"."+u,l);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,n,o,r,i){for(var l=t[n],s=0;s<e.length;s++)if(a=l,u=e[s],a===u?0!==a||1/a==1/u:a!=a&&u!=u)return null;var a,u;return new c("Invalid "+r+" `"+i+"` of value `"+l+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var n=0;n<e.length;n++){var r=e[n];if("function"!=typeof r)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",y(r),n),o.thatReturnsNull}return m((function(t,n,o,r,i){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,r,i,l))return null;return new c("Invalid "+r+" `"+i+"` supplied to `"+o+"`.")}))},shape:function(e){return m((function(t,n,o,r,i){var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var m=d(s,u,o,r,i+"."+u,l);if(m)return m}}return null}))}};function c(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var o={},s=0;function a(a,d,m,f,h,p,g){if(f=f||u,p=p||m,g!==l)if(n)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+m;!o[y]&&s<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),o[y]=!0,s++)}return null==d[m]?a?null===d[m]?new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(d,m,f,h,p)}var d=a.bind(null,!1);return d.isRequired=a.bind(null,!0),d}function f(e){return m((function(t,n,o,r,i,l){var s=t[n];return p(s)!==e?new c("Invalid "+r+" `"+i+"` of type `"+g(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=function(e){var t=e&&(a&&e[a]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var o,r=n.call(t);if(n!==t.entries){for(;!(o=r.next()).done;)if(!h(o.value))return!1}else for(;!(o=r.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return c.prototype=Error.prototype,d.checkPropTypes=s,d.PropTypes=d,d}}).call(t,n(0))},function(e,n){e.exports=t}])},e.exports=o(n(66029),n(37704))},37372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!1}),t.default=function(e,t){if(e===t)return 0;var n=e.length,o=t.length;if(!n)return o;if(!o)return n;if(n>o){var r=[t,e];e=r[0],t=r[1];var i=[o,n];n=i[0],o=i[1]}for(;n>0&&e[n-1]===t[o-1];)n--,o--;var l=0;if(e[0]===t[0]||!n){for(;l<n&&e[l]===t[l];)l++;if(o-=l,!(n-=l))return o;t=t.slice(l,l+o)}for(var s=new Array(o),a=new Array(o),u=0;u<o;u++)s[u]=u+1;for(var d=e[0],c=0,m=0;m<n;m++){var f=d,h=0,p=t[0],g=m;c=m+1,d=e[l+m];for(var y=0;y<o;y++){var b=c,v=p,w=h;p=t[y],h=a[y],a[y]=c=g,g=s[y],d!==p&&(g<c&&(c=g),b<c&&(c=b),c++,0!==m&&0!==y&&d===v&&p===f&&++w<c&&(c=w)),s[y]=c}}return c},t.limited=function(e,t,n){if(t===n)return 0;var o=t.length,r=n.length;if(!o)return r>e?1/0:r;if(!r)return o>e?1/0:o;if(o>r){var i=[n,t];t=i[0],n=i[1];var l=[r,o];o=l[0],r=l[1]}for(;o>0&&t[o-1]===n[r-1];)o--,r--;var s=0;if(t[0]===n[0]||!o){for(;s<o&&t[s]===n[s];)s++;if(r-=s,!(o-=s))return r>e?1/0:r;n=n.slice(s,s+r)}var a=r-o;if(e>r)e=r;else if(a>e)return 1/0;var u=new Array(r),d=new Array(r),c=void 0;for(c=0;c<e;c++)u[c]=c+1;for(;c<r;c++)u[c]=e+1;var m=e-a,f=e<r,h=0,p=e,g=t[0],y=0;for(c=0;c<o;c++){var b=g,v=0,w=n[0],C=c;y=c+1,g=t[s+c],p+=p<r?1:0;for(var x=h+=c>m?1:0;x<p;x++){var O=y,I=w,R=v;w=n[x],v=d[x],d[x]=y=C,C=u[x],g!==w&&(C<y&&(y=C),O<y&&(y=O),y++,0!==c&&0!==x&&g===I&&w===b&&++R<y&&(y=R)),u[x]=y}if(f&&u[c+a]>e)return 1/0}return y<=e?y:1/0},e.exports=t.default,t.default.limited=t.limited}}]);