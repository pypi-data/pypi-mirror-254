/*! For license information please see 3744.ee1b9fdf8f7f7db5a65d.js.LICENSE.txt */
"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[3744,3388,4881,7076,7458],{35899:(e,t,r)=>{r.d(t,{R:()=>i});const i=["KPIValue","KPIGoal","KPIStatus","KPITrend","KPIStart","KPIExpiry"]},58267:(e,t,r)=>{r.d(t,{a:()=>i});const i=r(35899).R.map((e=>e.toLowerCase()))},45379:(e,t,r)=>{r.d(t,{n:()=>n});var i=r(58191);function n(e){const t=(0,i.w)(e);if(0===t.length)return-1;if(t[0].length<2)return 0;const r=t[0].slice(t[0].length-2);return"arguments"===r[0]?r[1]:0}},44202:(e,t,r)=>{r.d(t,{I:()=>o});var i=r(93388),n=r(84030),a=r(41807);const o=({children:e,levelName:t})=>{const r=(0,n.Fg)(),{ref:o,hasOverflow:s}=(0,a.useHasOverflow)();return(0,i.BX)("div",{style:{position:"relative"},children:[(0,i.tZ)(a.Tooltip,{title:t,trigger:s?["hover"]:[],children:(0,i.tZ)("div",{ref:o,css:{position:"absolute",width:"min-content",maxWidth:"80%",bottom:24,left:6,paddingRight:3,paddingLeft:3,fontSize:10,backgroundColor:r.backgroundColor,zIndex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t})}),e]})}},3744:(e,t,r)=>{r.r(t),r.d(t,{EmptyWidget:()=>Pe,FiltersBar:()=>le,FiltersEditor:()=>ft,InvalidMdxTypeError:()=>Jt,IsContextMenuOpenProvider:()=>ce,MdxInconsistentWithDashboardOrPageFiltersError:()=>Yt,MenuWithItems:()=>he,ResizableEditor:()=>Fe,Widget:()=>Te,WidgetErrorFallback:()=>Nr,WidgetIconTooltip:()=>Zt,WidgetInDashboard:()=>Le,WidgetLoadingBar:()=>Lr,WidgetLoadingOverlay:()=>Mr,WidgetLoadingOverlayProvider:()=>Cr,WidgetsPanel:()=>Lt,deriveMappingFromMdx:()=>fr,deriveStateFromMdx:()=>vr,deserializeWidgetState:()=>it,driveFiltersFromState:()=>ie,getAttributeType:()=>Ce,getDefaultMdxDrillthrough:()=>De,getDefaultMdxSelect:()=>$e,getKpiPropertyCaption:()=>wr,getSafeMapping:()=>br,getSwitchAvailability:()=>Oe,getTargetCube:()=>J,isAllMeasuresInMapping:()=>xe,isCompositeHierarchyInMapping:()=>Gt,isDataVisualizationWidgetPlugin:()=>Ie,isDataVisualizationWidgetState:()=>Ke,isHierarchyInMapping:()=>Ut,isKpiPropertyInMapping:()=>_t,isMappingEmpty:()=>We,isMeasureInMapping:()=>zt,isNamedSetInMapping:()=>Xt,isWidgetInDashboard:()=>ge,isWidgetWithQueryState:()=>j,serializeWidgetState:()=>Ue,updateQueryContextEntry:()=>Kr,useContextualizedQuery:()=>$t,useCube:()=>Y,useFilteredQuery:()=>Ft,useFilters:()=>oe,useIsContextMenuOpen:()=>ue,useIsQueryLazyLoaded:()=>we,useIsQuerySuspended:()=>jt,useMdxInViews:()=>q,useQueryContexts:()=>Pt,useStringifiedQuery:()=>Dt,useSuspendedQueryResult:()=>qt,useSwitchedWidgetState:()=>Ze,useWidgetName:()=>nt,useWidgetQueryResult:()=>At,withLoadingOverlay:()=>Pr,withStateCleanup:()=>Vt,withWidgetLoadingBar:()=>Er,withWidgetQueryErrorBoundary:()=>Ir,withoutIrrelevantRenders:()=>Fr});var i=r(81292),n=r(66029),a=r(28855),o=r(93388),s=r(41807),l=r(14618),d=r(12995),c=r(14569),u=r(31934),p=r(42776),h=r(84030),g=r(50083),m=r(93481),y=r(43543),f=r(9617),v=r(72135),w=r(44514),b=r(74571),x=r(34497),S=r(97273),C=r(34325),M=r(47207),N=r(76515),k=r(44202);const O=({cube:e,filter:t,onFilterChanged:r})=>{const[i,a]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),{formatMessage:c}=(0,m.useIntl)(),u=(0,v.L)({cube:e,filter:t}),{useToken:p}=f.theme,{token:h}=p(),y=(0,n.useMemo)((()=>{switch(t.type){case"existenceOfValue":return{element:(0,o.tZ)(w.C,{doesExist:t.doesExist,onChange:e=>r({...t,doesExist:e})}),caption:c({id:"aui.filters.existenceOfValue."+(t.doesExist?"exist":"doesNotExist")})};case"topBottomMembers":return{element:(0,o.tZ)(b.H,{topBottomMode:t.topBottomMode,onTopBottomModeChange:e=>r({...t,topBottomMode:e})}),caption:c({id:`aui.filters.topBottomMode.${t.topBottomMode}`})};case"lowerOrGreaterValue":return{element:(0,o.tZ)(x.$,{lowerOrGreaterMode:t.lowerOrGreaterMode,lowerOrGreaterLimit:t.lowerOrGreaterLimit,onModeChange:e=>r({...t,lowerOrGreaterMode:e}),onLimitChange:e=>r({...t,lowerOrGreaterLimit:e})}),caption:`${c({id:`aui.filters.lowerOrGreaterMode.${t.lowerOrGreaterMode}`})} ${t.lowerOrGreaterLimit}`};case"valuesRange":return{element:(0,o.tZ)(S.e,{isBetween:t.isBetween,lowerLimit:t.lowerLimit,upperLimit:t.upperLimit,onIsBetweenChange:e=>r({...t,isBetween:e}),onLowerLimitChange:e=>r({...t,lowerLimit:e}),onUpperLimitChange:e=>r({...t,upperLimit:e})}),caption:`${c({id:"aui.filters.betweenMode."+(t.isBetween?"isBetween":"isNotBetween")})} ${t.lowerLimit} ${c({id:"aui.and"})} ${t.upperLimit}`};case"captionsContaining":return{element:(0,o.tZ)(C.H,{containingMode:t.containingMode,token:t.token,onContainingModeChange:e=>r({...t,containingMode:e}),onTokenChange:e=>r({...t,token:e})}),caption:`${c({id:`aui.filters.containingMode.${t.containingMode}`})} "${t.token}"`};case"lowerOrGreaterCaptions":return{element:(0,o.tZ)(M.f,{lowerOrGreaterMode:t.lowerOrGreaterMode,token:t.token,onLowerOrGreaterModeChange:e=>r({...t,lowerOrGreaterMode:e}),onTokenChange:e=>r({...t,token:e})}),caption:`${c({id:`aui.filters.alphabeticallyBeforeOrAfterMode.${t.lowerOrGreaterMode}`})} "${t.token}"`};case"captionsRange":return{element:(0,o.tZ)(N.W,{isBetween:t.isBetween,lowerToken:t.lowerToken,upperToken:t.upperToken,onIsBetweenChange:e=>r({...t,isBetween:e}),onLowerTokenChange:e=>r({...t,lowerToken:e}),onUpperTokenChange:e=>r({...t,upperToken:e})}),caption:`${c({id:"aui.filters.alphabeticallyBetweenMode."+(t.isBetween?"isBetween":"isNotBetween")})} "${t.lowerToken}" ${c({id:"aui.and"})} "${t.upperToken}"`};default:throw new Error(`Filter not supported by ${O.name}`)}}),[t,r,c]),I={selectThe:c({id:"aui.filters.select-the"}),limit:"limit"in t?t.limit:" ",levelName:`${t.levelName}`,whose:"measureName"in t?`${c({id:"aui.filters.whose"})} ${t.measureName}`:null,that:"measureName"in t?null:c({id:"aui.that"}),filterParameters:y.caption};return(0,o.tZ)(k.I,{levelName:t.levelName,children:(0,o.tZ)(s.Popover,{open:i,placement:"bottomLeft",trigger:"click",showArrow:!1,overlayStyle:{padding:0},overlayInnerStyle:{padding:"4px 0px"},onOpenChange:e=>{e&&d(!1),a(e)},content:(0,o.BX)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,o.BX)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.tZ)(s.Text,{small:!0,children:I.selectThe}),"topBottomMembers"===t.type?(0,o.tZ)(f.InputNumber,{type:"number",min:1,style:{width:100,margin:"0 8px"},value:t.limit,onChange:e=>{null!==e&&r({...t,limit:e})}}):(0,o.tZ)(s.Text,{small:!0,children:" "}),(0,o.BX)(s.Text,{small:!0,children:[I.levelName," ",I.that]})]}),I.whose&&(0,o.tZ)("div",{children:(0,o.tZ)(s.Text,{small:!0,children:I.whose})}),(0,o.tZ)("div",{style:{display:"flex"},children:y.element})]}),children:(0,o.tZ)(s.Tooltip,{title:(0,o.BX)("span",{children:[I.selectThe," ",I.limit," ",I.levelName," ",I.that," ",(0,o.tZ)("br",{}),I.whose," ",I.whose&&(0,o.tZ)("br",{}),I.filterParameters]}),open:l&&!i,onOpenChange:d,children:(0,o.BX)(f.Button,{style:{padding:"0px 5px",display:"flex",alignItems:"center",gap:"4px",height:"100%"},children:[(0,o.tZ)(s.Text,{small:!0,ellipsis:!0,children:u}),(0,o.tZ)(g.DownOutlined,{style:{color:h.colorTextQuaternary}})]})})})})};var I=r(77026),K=(r(53031),function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.addEventListener.apply(e,t)}),Z=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.removeEventListener.apply(e,t)},T=["mousedown","touchstart"];var L=r(85365),B=r(88505),E=r(34249),F=r(59776),P=r(49773),W=r(24622),$=r(25380),D=r(91663),R=r(75589);function j(e){return"query"in e}function q({dashboardState:e,pageKey:t,widgetState:r}){const i=(0,u.f)(e,t),a={dashboard:e?(0,I.flatMap)(e.pages,(({content:e})=>Object.values(e))):[],page:i?Object.values(i.content):[],widget:[r]},o=(0,I.mapValues)(a,(e=>e.filter((e=>j(e)&&Boolean(e.query.mdx))).map((({query:e})=>e.mdx)))),s=(0,n.useRef)(o);return["dashboard","page","widget"].some((e=>o[e].length!==s.current[e].length||o[e].some(((t,r)=>t!==s.current[e][r]))))&&(s.current=o),s.current}const A=e=>{const{cube:t,filters:r,section:i,filterIndexWithinSection:a,isHierarchyVirtual:s,serverKey:d,onFilterChanged:c,searchValue:u,widgetState:p,dashboardState:g,pageKey:y,filter:v}=e,w=(0,h.Fg)(),{formatMessage:b}=(0,m.useIntl)(),x=(0,B.a)(v,t),S=q({dashboardState:g,pageKey:y,widgetState:p})[i],[C,M]=(0,n.useReducer)(E.J1,x),N=(0,n.useMemo)((()=>(0,F.y)({filtersBySection:r,position:{sectionName:i,tileIndex:a},cube:t})),[r,i,a,t]),k=(0,n.useCallback)((e=>{M({type:"virtualHierarchyMemberSelected",selectedMemberNamePaths:e});const t=(0,l.produce)(v,(t=>{t.members=e}));c(t)}),[v,c]),O=(0,n.useCallback)((({membersTree:e,expansionAction:t})=>{M({type:"memberExpanded",membersTree:e,expansionAction:t})}),[M]),I=(0,n.useCallback)((({searchTree:e,previousSelectedPaths:t,newSelectedPaths:r,isHierarchySlicing:i})=>{const n=(0,W.Mg)({searchTree:e,previousSelectedPaths:t,newSelectedPaths:r,isHierarchySlicing:i}),a=(0,$.G)({action:n,previousSelectedMemberNamePaths:v.members}),o={...v,members:a};c(o)}),[v,c]),K=(0,n.useCallback)((e=>{const t=(0,l.produce)(v,(t=>{t.members=e}));c(t)}),[v,c]);return(0,o.BX)("div",{css:{height:350,backgroundColor:w.white,padding:"0 8px"},children:[(0,o.tZ)("div",{style:{height:"calc(350px - 35px)"},children:s?(0,o.tZ)(D.$,{...C,serverKey:d,selectedMemberNamePaths:v.members,cubeName:t.name,dimensionName:v.dimensionName,hierarchyName:v.hierarchyName,onSelectionChanged:k,onLevelIndexChanged:e=>{M({type:"levelIndexChanged",levelIndex:e})},filters:N}):(0,o.tZ)(R.X,{...C,isSearchVisible:!1,searchValue:u,selectedMemberNamePaths:v.members,serverKey:d,cubeName:t.name,dimensionName:v.dimensionName,hierarchyName:v.hierarchyName,onMemberSelected:({membersTree:e,nodePaths:t})=>{const r=(0,P.j)(t,e),i={...v,members:r};c(i)},onMemberExpanded:O,onSearchResultSelected:I,onMemberRemovedInTooltip:K,hasCheckbox:()=>!0,isAllMemberSelected:!1,mdxInView:S,filters:N})}),(0,o.tZ)(f.Checkbox,{css:{borderTop:`1px solid ${w.grayScale[5]}`,width:"100%",paddingTop:5,marginTop:5},checked:v.isExclusionFilter,onChange:e=>{const t={...v,isExclusionFilter:e.target.checked};c(t)},children:b({id:"aui.filters.excludeFilter"})})]})},V=e=>{const t=(0,h.Fg)(),{formatMessage:r}=(0,m.useIntl)(),{cube:i,filters:a,serverKey:d,onFilterChanged:c,section:u,dashboardState:p,pageKey:g,widgetState:v,filter:w,filterIndexWithinSection:b}=e,[x,S]=(0,n.useState)(),C=(0,L._)(w,i),M=(0,n.useCallback)((e=>{const t=(0,l.produce)(w,(t=>{t.members.splice(e,1)}));c(t)}),[w,c]),N=w.members.map(((e,t)=>({key:t,value:{namePath:e,index:t}}))),[O,B]=(0,n.useState)(!1),E=(0,n.useRef)(null);!function(e,t,r){void 0===r&&(r=T);var i=(0,n.useRef)(t);(0,n.useEffect)((function(){i.current=t}),[t]),(0,n.useEffect)((function(){for(var t=function(t){var r=e.current;r&&!r.contains(t.target)&&i.current(t)},n=0,a=r;n<a.length;n++){var o=a[n];K(document,o,t)}return function(){for(var e=0,i=r;e<i.length;e++){var n=i[e];Z(document,n,t)}}}),[r,e])}(E,(()=>{B(!1)}));const F=w.members.length>0?w.members[0].length-1:0,P=Object.keys(C.levels)[F];return(0,o.tZ)(k.I,{levelName:P||C.caption,children:(0,o.tZ)("div",{ref:E,style:{height:"100%"},children:(0,o.tZ)(f.Select,{open:O,onClick:()=>B((e=>!e)),placeholder:(0,o.BX)("span",{style:{display:"flex",alignItems:"center"},children:[w.isExclusionFilter&&(0,o.tZ)(y.IconExclude,{style:{marginRight:5,opacity:.4}}),C.caption]}),style:{height:"100%",...0===w.members.length&&{minWidth:120}},css:{".ant-select-selector":{height:"100%",width:0!==w.members.length?"max-content":"initial"},".ant-select-selection-overflow":{paddingTop:5,maxHeight:28,overflow:"hidden",flexWrap:"nowrap"},".ant-select-selection-overflow-item-rest .ant-select-selection-item":{height:20,margin:"0px 4px 0px 0px",padding:"0px 7px",background:t.grayScale[1],border:`1px solid ${t.cellBorderColor}`}},dropdownStyle:{minWidth:300},searchValue:x,showArrow:!0,mode:"tags",value:N,maxTagCount:2,onSearch:S,tagRender:({value:e})=>{const{namePath:t,index:i}=e,n=C.slicing?t:t.slice(1),a=n.length<=2?n:[n[0],"â€¦",n.at(-1)],l=n.slice(1,-1).join(" / ");return(0,o.BX)("span",{style:{display:"flex",alignItems:"center"},onMouseDown:e=>{E.current?.dispatchEvent(new Event("mousedown",e))},children:[0===i&&w.isExclusionFilter&&(0,o.tZ)(s.Tooltip,{trigger:["hover"],title:r({id:"aui.excluded"}),children:(0,o.tZ)(y.IconExclude,{"data-testid":"exclude-icon",style:{marginLeft:3,marginRight:5}})}),(0,o.tZ)(f.Tag,{closable:!0,onClose:()=>{M(i)},children:(0,I.flatMap)(a.map((e=>[e,"/"]))).slice(0,-1).map(((e,t)=>(0,o.tZ)(s.Tooltip,{trigger:n.length>2&&2===t?["hover"]:[],title:l,children:(0,o.tZ)("div",{style:{marginRight:2,maxWidth:70,float:"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e})},t)))},n.join("/"))]})},dropdownRender:()=>(0,o.tZ)("div",{onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,o.tZ)(A,{cube:i,filters:a,section:u,filterIndexWithinSection:b,onFilterChanged:c,isHierarchyVirtual:Boolean(C.virtual),serverKey:d,searchValue:x,widgetState:v,dashboardState:p,pageKey:g,filter:w})}),options:N})})})};var z=r(46151),_=r(3778),U=r(3515),X=r(31973),G=r(20990),Q=r(12519),H=r(44604);function J({dataModels:e,serverKey:t,cubeName:r,lastUsedCube:i}){const n=Object.keys(e);if(0===n.length)throw new X.A({existingServerKeys:n});if(t&&!n.includes(t))throw new X.A({serverKey:t,existingServerKeys:n});if(t&&r){const i=e[t];return{cube:(0,H.s)(i,r),dataModel:i,serverKey:t}}if(t&&!r){const r=e[t],i=function({serverKey:e,dataModel:t}){const r=Object.values(t.catalogs).find((({cubes:e})=>Object.values(e).length>0));if(void 0===r)throw new Q.w(e);return Object.values(r.cubes)[0]}({serverKey:t,dataModel:r});return{serverKey:t,dataModel:r,cube:i}}if(!t&&r){const t=function({cubeName:e,dataModels:t}){const r=[];for(const i in t)for(const n of Object.values(t[i].catalogs))for(const t in n.cubes){if(t===e)return i;r.push(t)}throw new G.s(e,r)}({cubeName:r,dataModels:e});return J({dataModels:e,serverKey:t,cubeName:r})}if(i)try{return J({dataModels:e,serverKey:i.serverKey,cubeName:i.cubeName})}catch(e){if(!(e instanceof X.A||e instanceof G.s))throw e}return J({dataModels:e,serverKey:n[0]})}function Y({initialCubeName:e,serverKey:t,...r}){const[i]=(0,z.X)("lastUsedCube");return J({cubeName:j(r)&&r.query.mdx?(0,U.p)(r.query.mdx):e,serverKey:t,dataModels:(0,_.T)(),lastUsedCube:i})}const ee=(0,n.lazy)((async()=>{const{FiltersBarDateRangePicker:e}=await r.e(8487).then(r.bind(r,48487));return{default:e}})),te=e=>{const t=(0,h.Fg)(),{formatMessage:r}=(0,m.useIntl)(),{cube:a,serverKey:d}=Y(e.widgetState),c=(0,n.useRef)(null),{width:u}=(0,s.useDebouncedComponentSize)(c),p=e.filters[e.section],[{isLeftScrollArrowVisible:f,isRightScrollArrowVisible:v},w]=(0,n.useState)({isLeftScrollArrowVisible:!1,isRightScrollArrowVisible:!1}),b=`1px solid ${t.grayScale[5]}`,x={display:"flex",alignItems:"center",height:"100%",background:t.grayScale[3],borderLeft:b,borderRight:b},S={fontSize:16,margin:6,marginTop:8},C={height:"100%",minWidth:24,zIndex:2,background:t.grayScale[0],position:"absolute",display:"flex",justifyContent:"center"},M=(0,n.useCallback)((()=>{if(c.current){const{scrollLeft:e,scrollWidth:t,clientWidth:r}=c.current,i=e>0,n=e+r<t;f===i&&v===n||w({isLeftScrollArrowVisible:i,isRightScrollArrowVisible:n})}}),[f,v]),N=(t,r)=>{const i=(0,l.produce)(p,(e=>{e[r]=t}));e.onFiltersChanged(i)},k=e=>{c.current?.scrollBy({left:"left"===e?-60:60})};(0,n.useEffect)((()=>{M()}),[u,M]);const I=p.filter((({isPinned:e})=>e));return 0===I.length?null:(0,o.BX)("div",{style:{display:"flex",alignItems:"stretch",overflow:"hidden",position:"relative"},css:i.css`
        .left-scroll-arrow,
        .right-scroll-arrow {
          visibility: collapse;
        }

        :hover {
          .left-scroll-arrow {
            visibility: ${f?"visible":"collapse"};
          }
          .right-scroll-arrow {
            visibility: ${v?"visible":"collapse"};
          }
        }
      `,children:[e.isIconVisible&&"dashboard"===e.section&&(0,o.tZ)(s.Tooltip,{mouseLeaveDelay:0,placement:"bottom",title:r({id:"aui.filters.section.dashboardFilters"}),children:(0,o.tZ)("div",{style:x,children:(0,o.tZ)(y.IconDashboardFilters,{style:S})})}),e.isIconVisible&&"page"===e.section&&(0,o.tZ)(s.Tooltip,{mouseLeaveDelay:0,placement:"bottom",title:r({id:"aui.filters.section.pageFilters"}),children:(0,o.tZ)("div",{style:x,children:(0,o.tZ)(y.IconPageFilters,{style:S})})}),(0,o.BX)("div",{style:{display:"flex",overflow:"hidden",alignItems:"center"},ref:c,onScroll:M,onWheel:e=>{c.current?.scrollBy({left:e.deltaY<0||e.deltaX<0?-20:20})},children:[(0,o.tZ)("div",{className:"left-scroll-arrow",style:{...C,boxShadow:`5px 0 2px -1px ${t.grayScale[5]}`},onClick:()=>{k("left")},children:(0,o.tZ)(g.LeftOutlined,{})}),(0,o.tZ)("div",{style:{display:"flex",gap:"6px",height:"32.5px",margin:"0px 6px"},children:I.map((t=>{const r=p.indexOf(t);switch(t.type){case"members":return(0,o.tZ)(V,{cube:a,serverKey:d,filters:e.filters,filterIndexWithinSection:r,section:e.section,onFilterChanged:e=>N(e,r),widgetState:e.widgetState,dashboardState:e.dashboardState,pageKey:e.pageKey,filter:t},e.section);case"dateRange":return(0,o.tZ)(n.Suspense,{fallback:(0,o.tZ)("div",{}),children:(0,o.tZ)(ee,{filter:t,onFilterChanged:e=>N(e,r)},r)});case"topBottomMembers":case"lowerOrGreaterValue":case"valuesRange":case"lowerOrGreaterCaptions":case"captionsRange":case"captionsContaining":case"existenceOfValue":return(0,o.tZ)(O,{cube:a,filter:t,onFilterChanged:e=>N(e,r)},r);default:return null}}))}),(0,o.tZ)("div",{className:"right-scroll-arrow",style:{...C,boxShadow:`-5px 0 2px -1px ${t.grayScale[5]}`,right:0},onClick:()=>{k("right")},children:(0,o.tZ)(g.RightOutlined,{})})]})]})};var re=r(94923);function ie(e){j(e)&&(delete e.areFiltersDrivenByMdx,e.query?.mdx&&(e.query.mdx=(0,re.Z)(e.query.mdx)))}var ne=r(78249);const ae=[];function oe(e,t,r){const[i,,]=(0,ne.g)("canUseUserFilters"),[a]=(0,z.X)("userFilters"),o=a&&i?a:ae,s=(0,n.useMemo)((()=>t?.filters||ae),[t]),l=(0,n.useMemo)((()=>(0,u.f)(t,r)?.filters||ae),[t,r]),d=(0,n.useMemo)((()=>e.filters||ae),[e.filters]);return(0,n.useMemo)((()=>({user:o,dashboard:s,page:l,widget:d})),[s,l,o,d])}function se(e){return"dashboardState"in e&&Boolean(e.dashboardState)&&Boolean(e.pageKey)&&Boolean(e.leafKey)}const le=e=>{const t=(0,h.Fg)(),r=se(e)?(0,d.L)(e.dashboardState,e.pageKey,e.leafKey):e.widgetState;if(void 0===r)throw new Error("Undefined widget state. This is not supported.");const{dashboardState:i,pageKey:a,leafKey:s,onDashboardChanged:g}={dashboardState:void 0,pageKey:void 0,leafKey:void 0,onDashboardChanged:void 0,...e},m=oe(r,i,a),y=(0,n.useMemo)((()=>e.filterTypes.map((e=>({section:e,filters:m[e]})))),[m,e.filterTypes]),f=(0,n.useMemo)((()=>y.filter((({filters:e})=>e.some((({isPinned:e})=>e)))).length),[y]),v=f>1;return f>0?(0,o.tZ)("div",{css:{display:"flex",overflow:"hidden",alignItems:"center",...!e.filterTypes.includes("widget")&&{background:t.grayScale[1],borderBottom:`1px solid ${t.grayScale[5]}`}},children:y.map((({section:t},n)=>(0,o.tZ)("div",{style:{height:44,display:"flex",alignItems:"stretch",overflow:"hidden"},children:(0,o.tZ)(te,{isIconVisible:v,section:t,filters:m,onFiltersChanged:r=>((t,r)=>{if(se(e)){if(i&&a&&s&&g){const e=(0,l.produce)(i,(e=>{if("dashboard"===r&&(e.filters=t,(0,c.k)(e,ie)),"page"===r){const r=(0,u.f)(e,a);r&&(r.filters=t,(0,p.J)(r,ie))}if("widget"===r){const r=(0,d.L)(e,a,s);r&&(r.filters=t,ie(r))}}));g(e)}}else{const r=(0,l.produce)(e.widgetState,(e=>{e.filters=t,ie(e)}));e.onWidgetChanged(r)}})(r,t),widgetState:r,dashboardState:i,pageKey:a})},n)))}):null},de=(0,n.createContext)(!1),ce=de.Provider;function ue(){return(0,n.useContext)(de)}var pe=r(3558);const he=e=>{const{keys:t,actionProps:r,closeContextMenu:i,...a}=e,s=(0,pe.C5)(t),[l,d]=(0,n.useState)([]),c=(0,n.useRef)(!1),u=[],p=[];for(const e of s){!1===e.doesContextMenuCloseOnClick&&p.push(e.key);const t=e.useMenuItem(r);t&&u.push({key:e.key,...t})}return(0,o.tZ)(f.Menu,{openKeys:l,onOpenChange:e=>{0!==e.length||!0!==c.current?d(e):c.current=!1},onClick:e=>{p.some((t=>e.keyPath.includes(t)))?c.current=!0:i?.()},...a,items:u})};function ge(e){return"dashboardState"in e}const me=[],ye=e=>{const{selection:t,...r}=e,{style:a,onSelectionChange:l,widgetPlugin:d,onChange:c,onLoaded:u,...p}=e,[h,g]=(0,n.useState)(!1),m=d?.contextMenuItems??me,y={...p,onWidgetChange:c},{leafKey:f,pageKey:v,dashboardState:w,onDashboardChange:b}=ge(e)?e:{leafKey:void 0,pageKey:void 0,dashboardState:void 0,onDashboardChange:void 0},x=j(e.widgetState)&&(0,o.tZ)("div",{style:{flexGrow:0,marginRight:2,marginLeft:2,paddingLeft:14},children:(0,o.tZ)(le,{dashboardState:w,leafKey:f,pageKey:v,filterTypes:["widget"],onDashboardChanged:b,widgetState:e.widgetState,onWidgetChanged:e.onChange})});return(0,o.tZ)(ce,{value:h,children:(0,o.tZ)(s.Dropdown,{onOpenChange:g,dropdownRender:()=>(0,o.tZ)(he,{keys:m,actionProps:y,css:{maxWidth:600},closeContextMenu:()=>g(!1)},r.widgetState.widgetKey),trigger:["contextMenu"],children:(0,o.BX)("div",{css:i.css`
            height: 100%;
            display: flex;
            flex-direction: column;
          `,children:[x,(0,o.tZ)("div",{css:{flexGrow:1,minHeight:0},children:(0,o.tZ)(d.Component,{...r})})]})})})};var fe=r(87187),ve=r(36250);function we({queryId:e,widgetState:t}){const r=(0,ve.b)({queryId:e,serverKey:t&&j(t)?t.serverKey:void 0});return!(!r?.data||!(0,fe.isCellSet)(r.data))&&r.data.axes.some((({range:e})=>e&&!e.entireAxis))}var be=r(5419);const xe=e=>"allMeasures"===e.type,Se={primaryNumeric:"numeric",primaryOrdinal:"ordinal",secondaryNumeric:"numeric",secondaryOrdinal:"ordinal",subplot:"ordinal"};function Ce(e){return Se[e]}const Me=(e,t,r)=>{for(let i=0;i<t.length&&0!==r.length;i++){const n=t[i],a=n.maxNumberOfFields||1/0;for(;e[n.name].length<a&&r.length>0;){const t=r.shift();t&&e[n.name].push(t)}}};function Ne(e,t){return t.doesSupportMeasuresRedirection?e:e.filter((e=>!xe(e)))}function ke(e,t){const r=t.attributes??{},i=(0,I.mapValues)(r,(()=>[])),n=function(e){const t=Object.entries(e).map((([e,t])=>({...t,name:e}))),r=(0,I.groupBy)(t,(e=>Ce(e.role)));return(0,I.mapValues)(r,(e=>(0,I.groupBy)(e,"role")))}(r);return Object.keys(e).forEach((r=>{const a=[],o=n?.[r]||[];if(Object.keys(e[r]).forEach((n=>{const s=[],l=o?.[n]||[];!function({mapping:e,attributes:t,fields:r,unmappedFields:i,widgetPlugin:n}){r.forEach(((r,a)=>{const o=Ne(r,n),s=t[a];if(s){const t=s.maxNumberOfFields||1/0;o.forEach((r=>{e[s.name].length<t?e[s.name].push(r):i.push(r)}))}else i.push(...o)}))}({mapping:i,attributes:l,fields:e?.[r]?.[n]||[],unmappedFields:s,widgetPlugin:t}),s.length>0&&Me(i,l,a),a.push(...s)})),a.length>0&&Me(i,(0,I.flatten)(Object.values(o)),a),a.length>0)throw new Error(`The chosen widget type does not support the current mapping: too many chosen ${r} fields.`)})),i}function Oe(e,t,r){const i=Object.entries(e).reduce(((e,[i,n])=>{const a=Ce(t[i].role),o=Ne(n,r);return{...e,[a]:e[a]+o.length}}),{numeric:0,ordinal:0}),n=r.attributes||{},a=Object.values(n).reduce(((e,t)=>{const r=Ce(t.role);return{...e,[r]:e[r]+(t.maxNumberOfFields||1/0)}}),{numeric:0,ordinal:0});return i.numeric>a.numeric?{status:"tooManyNumeric",maxNumberOfFields:a.numeric}:i.ordinal>a.ordinal?{status:"tooManyOrdinal",maxNumberOfFields:a.ordinal}:{status:"ok"}}const Ie=e=>"dataVisualization"===e.category,Ke=(e,t)=>{if(e.widgetKey!==t.key)throw new Error(`Expected widgetPlugin's key to be ${e.widgetKey} but was ${t.key}`);return Ie(t)};function Ze(e,t){const[r]=(0,a.useWidgetPlugins)(e?[e.widgetKey]:[]),i=e&&Ke(e,r)?e.switchedTo:void 0,o=we({queryId:t,widgetState:e}),[s]=(0,a.useWidgetPlugins)(i?[i]:[]);return(0,n.useMemo)((()=>{const t=void 0!==s?.lazyLoading;if(!(e&&Ke(e,r)&&Ie(r)&&s&&Ie(s))||o&&!t)return e;const i=function(e,t,r){const i=e.mapping,n=t.attributes||{},a=r.attributes||{},o=t.doesSupportMeasuresRedirection,s=r.doesSupportMeasuresRedirection,l=ke(function(e,t){const r={};return Object.entries(t).forEach((([t,i])=>{const n=Ce(i.role);(0,I.defaultsDeep)(r,{[n]:{[i.role]:[]}}),r[n][i.role].push(e[t]||[])})),r}(i,n),r);if(o&&!s){const e=(0,I.findKey)(l,(e=>e.some(xe)));e&&(l[e]=l[e].filter((e=>!xe(e))))}else if(!o&&s){const t=e.query.mdx,r="ROWS"===(t&&(0,be.S)(t))?"primaryOrdinal":"secondaryOrdinal",i=(0,I.findKey)(a,(e=>e.role===r));i&&l[i].push({type:"allMeasures"})}return l}(e,r,s);return(0,l.produce)(e,(e=>{e.widgetKey=s.key,Reflect.deleteProperty(e,"switchedTo"),e.mapping=i}))}),[s,r,e,o])}const Te=e=>{const{onSelectionChange:t}=e,[r,o]=(0,n.useState)(e.widgetState),s=e.onChange?e.widgetState:r,l=e.onChange??o,d=Ze(s),[c]=(0,a.useWidgetPlugins)([d.widgetKey]),[u,p]=(0,n.useState)(void 0),h=(0,n.useCallback)((e=>{p(e),t&&t(e)}),[p,t]);return(0,i.createElement)(ye,{...e,widgetState:d,widgetPlugin:c,selection:u,onSelectionChange:h,onChange:l,key:d.widgetKey})},Le=e=>{const t=e.widgetState.widgetKey,[r]=(0,a.useWidgetPlugins)([t]);return(0,i.createElement)(ye,{...e,widgetPlugin:r,key:t})},Be={whenInRows:{paddingRight:8}},Ee={whenInRows:{paddingLeft:8,paddingTop:2}},Fe=e=>(0,o.tZ)(s.DynamicResizable,{widthThreshold:400,firstChildStyle:Be,secondChildStyle:Ee,children:e.children}),Pe=()=>{const e=(0,h.Fg)();return(0,o.BX)("div",{css:i.css`
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      `,children:[(0,o.BX)("svg",{viewBox:"64 64 896 896",width:"64",height:"64",fill:"currentColor",children:[(0,o.tZ)("path",{d:"M134.4 269.5l-1.9 1.8c-14.3 14.1-14.2 32.7-14.2 39.7.4 149.2.4 300.9.4 447.7v99.6a44.7 44.7 0 0044.6 44.7l184.1 1c16.5-.7 31.7-8.1 41.7-21.2a52.4 52.4 0 009.4-45.7A120.8 120.8 0 00388 811c-.8-1.3-1.5-2.7-2.2-4.1-5.5-10-10.3-18.7-11.5-26.5-3.2-21.2 3.7-42.3 18.1-55 9.2-8.2 20.8-12.3 34.3-12.3a82.6 82.6 0 0122.7 3.5c18.2 5.1 26.9 19.4 30.5 27.5a59.4 59.4 0 01-.8 50c-1.3 2.9-3 5.9-4.7 9.1-5.3 9.7-11.2 20.7-14.7 34.2a52.7 52.7 0 0051.1 65.9h66c36.6 0 73.8.1 110.5.5h1.6c7.1 0 23.3-.8 36.2-12.7l-57.1-60v.5l-91.9-.3c-10.8 0-21.6 0-32.3-.3H541c.9-1.5 1.9-3.3 2.8-5.2a130.6 130.6 0 001.9-111c-14.9-33.3-42.8-57.9-76.6-67.5a156 156 0 00-42.4-6.2 128.8 128.8 0 00-26.5 2.7 120.9 120.9 0 00-55.5 27.6c-32.6 28.9-48.5 74.9-41.5 120 2.4 15.4 14 40.6 14 40.6H190.7v-72.6c0-140.7 0-286.1-.4-429.4h1.3l-57.2-60.2",fill:"currentColor"}),(0,o.tZ)("path",{d:"M924.9 566a50.6 50.6 0 00-.5-6.8c-6.8-43.6-31.6-79.1-67.9-97.3s-76.4-16.7-113.4 2.7l-1.2.6c.1-21.4.1-42.8 0-63.7 0-29.9 0-60.8.3-91.1.1-7.2.3-26.2-14.2-40.7s-33.3-14.1-39.6-14.1c-31.9.4-64.6.4-96.1.4h-52.2c.8-1.4 1.6-3 2.4-4.6 19-39.5 19-83 .2-119.6s-51.7-59.3-92-66.2a47.1 47.1 0 00-7.4-.6h-28.9a48.7 48.7 0 00-7.6.6c-42.3 7.2-74.1 30.3-91.8 66.9-19.9 41-19.9 81.1.1 119l3.6 6.6c-49 .2-99.2.3-148.5-.3-5.8-.1-23-.3-36.8 12l57.3 60.2c50.1.5 100.5.2 149.4 0h7.7c7.2-.1 26.2-.1 41.1-16a44.6 44.6 0 0011.5-24.8c3.5-28.3-8.3-48.2-16.9-62.8-1.8-3-3.5-5.9-4.9-8.6-9.1-17.3-8.8-33.9 1-54 7.3-15.2 18.4-23.3 36.8-26.8h23.9c17.1 3.5 30.6 13.2 38.1 27.7 8.4 16.3 8 36.4-1.1 55.3a97.3 97.3 0 01-4.8 8.5c-5.4 9.2-12.7 21.7-15 39.7-.9 6.9-3.6 27.7 11.3 44.4 6.4 7.2 18.2 15.9 37.7 15.6 28.5-.2 57.5-.2 85.6-.2 25.5 0 51.7 0 77.9-.2-.2 24.7-.2 49.5-.2 73.6.1 31.8.1 64.7-.3 96.9-.3 18.3 5.3 32.4 16.6 42s25.6 12.5 43.1 9.4 29-10.5 39.1-16.5l8.4-4.9c16.4-8.5 33.3-9.3 47.6-2.1s25.2 22.8 28.7 42.3V594c-3.9 20.1-14.6 35.7-29.7 42.9s-31.2 5.7-47.6-3.5l-4.8-2.7c-15.1-8.6-35.7-20.3-62.3-18.4a44.3 44.3 0 00-20.8 6.9c-21.2 13.8-20.3 44.5-20 46.9 0 .2.1.4.1.6v8.3c-.3 51.4-.5 104.4 0 157l57 60 1.3-1.2c14.3-14.3 14-33.4 14-39.6-.6-51.6-.5-104-.3-155.1 37 20.8 78.8 22.9 114.5 5.7s62.5-53.5 69.9-98.1a45.6 45.6 0 00.6-7.5z",fill:e.primaryColor})]}),(0,o.tZ)("h4",{className:"ant-typography",css:i.css`
          font-size: 14px;
          line-height: 22px;
          font-weight: 400;
          color: rgba(0, 0, 0, 0.85);
          margin: 0px;
        `,children:"Drag widget to dashboard."})]})},We=e=>!e||Object.values(e).every((e=>!e||e.every(xe))),$e=e=>({axes:[],cellProps:["VALUE","FORMATTED_VALUE","BACK_COLOR","FORE_COLOR","FONT_FLAGS"],elementType:"Select",from:{cubeName:e,elementType:"From"},slicerAxis:null,withClause:[]}),De=e=>({select:$e(e),elementType:"Drillthrough",columns:[]});var Re=r(11778),je=r(54408);class qe extends Error{mappingType;attributeName;constructor(e,t){super(`Can not serialize the "${t}" field with "${e}" type in mapping. Available types are: 'allMeasures', 'measure', 'gluedHierarchy', 'hierarchy', 'kpiProperty'.`),this.mappingType=e,this.attributeName=t}}const Ae=e=>"mapping"in e,Ve=e=>{const t=(0,je.mW)(e.dimensionName,e.hierarchyName,e.levelName);return e.expandedDownTo?`${t} => ${(0,je.mW)(e.dimensionName,e.hierarchyName,e.expandedDownTo)}`:t};var ze=r(31466),_e=r(5129);function Ue(e){return function(e){const t={...e,filters:e.filters?.map(ze.c)};return void 0===t.filters&&delete t.filters,j(t)&&j(e)&&e.query.mdx&&(t.query={...e.query,mdx:(0,_e.P)(e.query.mdx)}),t}(function(e){return Ae(e)?(0,l.produce)(e,(e=>{const{mapping:t}=e;return Object.keys(t).forEach((r=>{const i=t[r].map((e=>{if(void 0===e.type)return e;switch(e.type){case"compositeHierarchy":return e.hierarchies.map(Ve).join(" => ");case"hierarchy":return Ve(e);case"allMeasures":return"ALL_MEASURES";case"measure":return(0,je.mW)("Measures",e.measureName);case"kpiProperty":{const{kpiName:t,propertyName:r,underlyingMeasureName:i}=e;return(0,Re.R)({kpiName:t,kpiPropertyName:r,underlyingMeasureName:i})}case"namedSet":return(0,je.mW)(e.name);default:throw new qe(e.type,r)}}));e.mapping[r]=i})),e})):e}(e))}var Xe=r(35899),Ge=r(58267),Qe=r(40472),He=r(49419);class Je extends Error{attributeName;serializedMappingField;constructor(e,t){super(`Can not deserialize the "${t}" field with stringified value "${e}" in mapping.`),this.attributeName=t,this.serializedMappingField=e}}const Ye=/^\[.*\]$/,et=e=>"mapping"in e;var tt=r(67714),rt=r(25122);function it(e){const t=function(e){return et(e)?(0,l.produce)(e,(e=>{const t=e.mapping;return Object.keys(t).forEach((r=>{const i=t[r].map((e=>{if("ALL_MEASURES"===e)return{type:"allMeasures"};if(e.startsWith("[Measures]."))return{type:"measure",measureName:(0,He.I)(e)[1]};if(e.startsWith("KPI")){const t=function(e){const t=new Error(`Unable to parse string "${e}" as a KPI property.`),r=e.indexOf("(");let i=1,n=r+1;for(;i>0&&n<e.length;)"("===e[n]&&i++,")"===e[n]&&i--,n++;if(i>0)throw t;const a=n-1,o=e.slice(0,r),s=e.slice(r+1,a),l=e.slice(a+3),d=Xe.R.find(((e,t)=>Ge.a[t]===o.toLowerCase()));if(!d)throw t;return{kpiName:s,kpiPropertyName:d,underlyingMeasureName:l}}(e);return{type:"kpiProperty",propertyName:t.kpiPropertyName,kpiName:t.kpiName,underlyingMeasureName:t.underlyingMeasureName}}if(e.indexOf(" => ")>-1){const t=e.split(" => "),r=[];for(let e=0;e<t.length;e++){const[i,n,a]=(0,He.I)(t[e]),o=r.at(-1);(0,Qe.I)({dimensionName:i,hierarchyName:n},o)?o.expandedDownTo=a:r.push({dimensionName:i,hierarchyName:n,levelName:a})}return 1===r.length?{type:"hierarchy",...r[0]}:{type:"compositeHierarchy",hierarchies:r}}if(Ye.test(e)){const t=(0,He.I)(e);if(1===t.length)return{type:"namedSet",name:t[0]};const[r,i,n]=t;return{levelName:n,dimensionName:r,hierarchyName:i,type:"hierarchy"}}throw new Je(e,r)}));e.mapping[r]=i})),e})):e}(function(e){const t={...e,filters:e.filters?.map(tt.q)};return void 0===t.filters&&delete t.filters,j(e)&&j(t)&&e.query.mdx&&(t.query={...e.query,mdx:(0,rt.Q)(e.query.mdx)}),t}(e));return t}function nt(e){const{formatMessage:t}=(0,m.useIntl)();return e.name??t({id:`aui.plugins.widget.${e.widgetKey}.defaultName`})}var at=r(52258),ot=r(4835),st=r(17331),lt=r(7232),dt=r(59518),ct=r(85968),ut=r(10983),pt=r(23893);const ht=[],gt=["dashboard","page","widget"],mt=({dragItem:e})=>e&&((0,ct.p)(e)||(0,ot.x)(e)||(0,st.W)(e)||(0,ut.Q)(e)||(0,lt.k)(e)),yt=e=>{if(!(0,at.F)(e))throw new Error("FilterEditor can only be used for a widget in a dashboard");const{cube:t,serverKey:r}=Y(e.widgetState),{dashboardState:i,leafKey:a,pageKey:s,onDashboardChange:h}=e,[g,m]=(0,n.useState)(),y=(0,d.L)(i,s,a),f=q({dashboardState:i,pageKey:s,widgetState:y}),[v]=(0,ne.g)("canUseUserFilters"),[w,b]=(0,z.X)("userFilters"),x=w??ht,S=oe(y,i,s),C=(0,n.useCallback)((e=>{if(v&&e.user!==x&&b(e.user),i){const t=(0,l.produce)(i,(t=>{e.dashboard!==i.filters&&(t.filters=e.dashboard,(0,c.k)(t,ie));const r=(0,u.f)(t,s);if(r&&r.filters!==e.page&&(r.filters=e.page,(0,p.J)(r,ie)),a){const r=(0,d.L)(t,s,a);r&&(r.filters=e.widget,ie(r))}return t}));h(t)}}),[v,i,a,s,h,b,x]),M=({serverKey:e,cubeName:t,dimension:r,hierarchy:i,position:n})=>{m({serverKey:e,cubeName:t,hierarchyCoordinates:{dimensionName:r.name,hierarchyName:i.name},position:n,levelIndex:i.slicing?0:1,type:"create-filter"})},N=(0,n.useCallback)((({serverKey:e,cubeName:t,dimension:r,position:i})=>{const n=r.hierarchies[r.defaultHierarchy];M({serverKey:e,cubeName:t,dimension:r,hierarchy:n,position:i})}),[]),k=(0,n.useCallback)((e=>{const t=S.widget.length;switch(e.type){case"dimension":N({serverKey:e.serverKey,cubeName:e.cubeName,dimension:e.dimension,position:{sectionName:"widget",tileIndex:t}});break;case"hierarchy":case"level":M({serverKey:e.serverKey,cubeName:e.cubeName,dimension:e.dimension,hierarchy:e.hierarchy,position:{sectionName:"widget",tileIndex:t}})}}),[S.widget.length,N]);(0,dt.gS)(k);const O=gt;return v&&O.unshift("user"),(0,o.tZ)(pt.S,{areCubeFiltersVisible:!0,serverKey:r,cubeName:t.name,filters:S,onFiltersChange:C,canDrop:mt,popoverConfiguration:g,onPopoverConfigurationChanged:m,mdxInViews:f,visibleSectionNames:O})},ft=e=>{const{widgetState:t,queryType:r="select",...i}=e;return j(t)?(0,o.tZ)(yt,{widgetState:t,queryType:r,...i}):null};var vt=r(917),wt=r(79455),bt=r(22816),xt=r(6661),St=r(22265),Ct=r(97169),Mt=r(55924),Nt=r(33852),kt=r(72746),Ot=r(14821),It=r(83794);const Kt=e=>{const t=(0,h.Fg)(),{formatMessage:r}=(0,m.useIntl)(),[,i]=(0,It.useDrag)({type:"WIDGET",item:{state:e.widget.initialState}}),n=e.widget.key===e.selectedWidgetKey,a=e.widget.initialState?.name||e.widget.initialState&&r({id:`aui.plugins.widget.${e.widget.key}.key`}),l=e.widget.Icon||g.QuestionOutlined;return(0,o.tZ)("div",{ref:i,css:{backgroundColor:n?t.selectionColor:t.backgroundColor,cursor:"pointer",padding:"5px 5px 5px 13px",display:"flex",flexWrap:"wrap",".drag-icon":{color:t.grayScale[6],opacity:0,":hover":{color:t.grayScale[8]}},":hover":{".drag-icon":{opacity:1}}},onClick:e.onClick,children:(0,o.tZ)(s.Tooltip,{title:e.title,placement:"right",children:(0,o.BX)("div",{css:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",transition:"opacity 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)","& .highlight-fill, & .highlight-stroke":{transition:"all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},":hover":{opacity:1,"& .highlight-fill":{fill:`${t.primaryScale[6]}`},"& .highlight-stroke":{stroke:`${t.primaryScale[6]}`}}},children:[(0,o.BX)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,o.tZ)(y.IconDrag,{className:"drag-icon",style:{cursor:"grab",fontSize:12}}),(0,o.tZ)(l,{css:{color:t.primaryColor},width:26,height:18}),(0,o.tZ)("div",{css:{marginLeft:"7px",whiteSpace:"nowrap"},children:(0,o.tZ)(s.Text,{style:{color:t.textColor},small:!0,children:a})})]}),n?(0,o.tZ)(g.CheckOutlined,{style:{color:t.primaryColor}}):null]})})})},Zt=({isQueryLazyLoaded:e,selectedWidgetState:t,widgetOption:r})=>{const{formatMessage:i}=(0,m.useIntl)(),a=void 0===t?"":t.name??i({id:`aui.plugins.widget.${j(t)&&!t.widgetKey.startsWith("drillthrough")?t.switchedTo??t.widgetKey:t.widgetKey}.defaultName`}),s=i({id:`aui.plugins.widget.${r.key}.key`}),l=void 0!==r.lazyLoading;return(0,o.tZ)(n.Fragment,{children:i({id:"aui.dataVisualization.switchDisabled"},{maxNumberOfFields:r.maxNumberOfFields,nameOfSelectedWidget:a,nameOfTargetWidgetPlugin:s,reason:e&&!l?"lazyLoading":"tooManyFields",type:r.disabledType})})},Tt=()=>{const e=(0,h.Fg)(),{formatMessage:t,locale:r}=(0,m.useIntl)(),i=(0,a.useWidgetPluginKeys)(),s=(0,a.useWidgetPlugins)(i),d=(0,vt.I0)(),c=(0,vt.v9)(bt.X),u=(0,vt.v9)(xt.N),p=(0,vt.v9)(wt.fP),[y,v]=(0,n.useState)(),w=void 0===c||void 0===u?void 0:`${c}/${u}`,b=p&&void 0!==c&&void 0!==u?p.pages[c].content[u]:void 0,{widgetKey:x}=b||{},S=(0,n.useMemo)((()=>x?s.find((({key:e})=>e===x)):null),[x,s]),C=S&&Ke(b,S)&&b.switchedTo||x,M=(0,n.useMemo)((()=>b&&S&&Ie(S)?b.mapping:null),[b,S]),N=we({queryId:w,widgetState:b}),k=(0,n.useMemo)((()=>{const e=[];return Object.values(s).forEach((t=>{const r=void 0!==t.lazyLoading;if(null!==M&&S&&Ie(S)&&Ie(t)&&(!N||r)){const{status:r,maxNumberOfFields:i}=Oe(M,S.attributes,t),n="ok"!==r;e.push({...t,isSwitchDisabled:n,...n&&{maxNumberOfFields:i,disabledType:"tooManyNumeric"===r?"numeric":"ordinal"}})}else e.push({...t,isSwitchDisabled:!0})})),e}),[S,s,M,N]),O=e=>{b&&!e.isSwitchDisabled&&(e=>{if(p&&void 0!==c&&void 0!==u){const t=(0,l.produce)(p,(t=>{(0,I.set)(t,["pages",c,"content",u],e)}));d({type:"dashboardUpdated",dashboardState:t})}})((0,l.produce)(b,(t=>{e.key===t.widgetKey?Reflect.deleteProperty(t,"switchedTo"):t.switchedTo=e.key})))},K=(0,n.useMemo)((()=>{const e={};return k.forEach((t=>{const r=t.category||"misc",i=t.subCategory||"misc";void 0===e[r]&&(e[r]={}),void 0===e[r][i]&&(e[r][i]=[]),e[r][i].push(t)})),e}),[k]),Z=y?(0,Ot.y)(k,y,{keys:[`translations.${r}.key`],threshold:.4}):void 0;return(0,o.BX)("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"},children:[(0,o.tZ)("div",{style:{marginBlock:10,paddingInline:10,height:25},children:(0,o.tZ)(f.Input,{autoFocus:!0,allowClear:!0,value:y,onChange:e=>{v(e.target.value)},prefix:(0,o.tZ)(g.SearchOutlined,{}),placeholder:t({id:"aui.search.widget"}),style:{height:26,marginBottom:8}})}),(0,o.tZ)("div",{style:{position:"relative",display:"flex",flexGrow:1,flexDirection:"column",overflow:"auto",borderTop:`1px solid ${e.cellBorderColor}`},children:(0,o.tZ)("div",{style:{position:"absolute",width:"100%"},children:Z?Z.map((e=>(0,o.tZ)(Kt,{onClick:()=>{O(e)},selectedWidgetKey:C,widget:e},e.key))):Object.entries(K).map((([t,r])=>{const i=Object.entries(r);return i.length>0&&(0,o.tZ)("div",{children:i.map((([t,r])=>(0,o.tZ)("div",{"data-testid":t,css:{display:"flex",flexDirection:"column",borderBottom:`1px solid ${e.cellBorderColor}`},children:r.map((e=>(0,o.tZ)(Kt,{onClick:()=>{O(e)},widget:e,selectedWidgetKey:C,title:void 0!==b&&Ie(e)&&e.isSwitchDisabled?(0,o.tZ)(Zt,{isQueryLazyLoaded:N,selectedWidgetState:b,widgetOption:e}):void 0},e.key)))},t)))},t)}))})})]})},Lt=()=>{const e=(0,h.Fg)(),{formatMessage:t}=(0,m.useIntl)(),[r,a]=(0,n.useState)("widgets"),s=(0,vt.I0)(),l=(0,St.Ct)(),d=(0,vt.v9)(wt.fP),c=(0,vt.v9)(bt.X),p=(0,vt.v9)(xt.N),g=(0,u.f)(d,c),y=(0,n.useCallback)((async(e,t)=>({...it({...t,...await l.fetchFile({id:e,type:"widget",withMetaData:!1})}),id:e})),[l]),v=(0,n.useCallback)(((e,t)=>({type:"WIDGET",getState:()=>y(e,t)})),[y]);return d&&void 0!==c&&void 0!==p&&void 0!==g?(0,o.BX)("div",{css:i.css`
        height: 100%;
        display: flex;
        flex-direction: column;
        background: ${e.backgroundColor};
        .ant-tabs-nav-list {
          display: flex;
          width: 100%;
          > .ant-tabs-tab {
            flex: 1;
            min-width: 12px;
            justify-content: center;
            [role="tab"] {
              overflow: hidden;
              text-overflow: ellipsis;
            }
          }
        }
        .ant-tabs-nav-operations {
          display: none !important;
        }
      `,children:[(0,o.tZ)(f.Tabs,{type:"card",tabBarStyle:{marginTop:6,paddingInline:8,height:20,alignItems:"center"},onTabClick:a,activeKey:r,moreIcon:null,items:[{key:"widgets",label:t({id:"aui.contentTree.widgets"})},{key:"savedWidgets",label:t({id:"aui.dataVisualization.savedWidgets"})}]}),"widgets"===r?(0,o.tZ)(Tt,{}):(0,o.tZ)(kt.m,{hasGhostActions:!0,contentType:"widget",hasFolderTitle:!0,getDragItem:v,onFileOpened:async(e,t)=>{const r=await y(e,t),i=(0,Ct.Y)(g.layout,p),n=(0,Mt.w6)({dashboardState:d,initialWidgetState:r,layoutPath:i,pageKey:c,side:"left"}),a=`${(0,Nt.Q)(g.layout)+1}`;s({type:"dashboardUpdated",dashboardState:n,newSelectedWidget:{leafKey:a,pageKey:c}})},mode:"panel",style:{borderTop:`1px solid ${e.grayScale[5]}`}})]}):null};var Bt=r(37520),Et=r(66164);function Ft(e,t,{cube:r,areFiltersDrivenByMdx:i}){return(0,n.useMemo)((()=>{if(!e.mdx||i)return e;const n=t.map((e=>(0,Bt.l)(e,r))).filter((e=>void 0!==e));return{...e,mdx:(0,Et.r)(e.mdx,{filters:n,cube:r})}}),[e,t,r,i])}function Pt(e,t,r){const[i]=(0,ne.g)("canUseUserQueryContext"),[a]=(0,z.X)("userQueryContext"),o=t?.queryContext,s=(0,u.f)(t,r)?.queryContext,l=e.queryContext;return(0,n.useMemo)((()=>({...o?{dashboard:o}:{},...s?{page:s}:{},...l?{widget:l}:{},...i&&a?{user:a}:{}})),[a,o,s,l,i])}const Wt=e=>e.reduce(((e,{key:t,value:r})=>({...e,[t]:r})),{});function $t(e,t,r){const i=Pt(e,t,r),{query:a}=e,o=(0,n.useMemo)((()=>Wt([...i.user||[],...i.dashboard||[],...i.page||[],...i.widget||[]])),[i]);return(0,n.useMemo)((()=>({...a,context:o})),[a,o])}function Dt(e){return(0,n.useMemo)((()=>{if(e.mdx)return{...e,mdx:(0,_e.P)(e.mdx,{indent:!0})}}),[e])}var Rt=r(72626);function jt({isDeferred:e,pageKey:t}){const r=(0,Rt.T)(),i=Boolean(t&&r&&t!==r);return e||i}function qt({serverKey:e,queryId:t,query:r,pageKey:i,isDeferred:a}){const o=(0,St.uo)(e),s=jt({isDeferred:a,pageKey:i});return(0,n.useEffect)((()=>{if(!o||!t||!s)return;const e=o.getQuery(t);e&&"realTime"===e.updateMode&&o.setQuery(t,{...e,updateMode:"once"})}),[t,s,o]),(0,ve.b)({serverKey:e,queryId:t,query:s?void 0:r})}function At({serverKey:e,queryId:t,widgetState:r,dashboardState:i,pageKey:a,cube:o,queryRanges:s,isDeferred:l}){const d=$t(r,i,a),c=oe(r,i,a),u=Ft(d,(0,n.useMemo)((()=>[...c.user,...c.dashboard,...c.page,...c.widget]),[c]),{cube:o,areFiltersDrivenByMdx:r.areFiltersDrivenByMdx});return qt({serverKey:e,queryId:t,query:Dt((0,n.useMemo)((()=>({...u,ranges:s})),[u,s])),pageKey:a,isDeferred:l})}function Vt({cleanedUpProperty:e,getTrigger:t}){return r=>i=>(0,o.tZ)(r,{...i,onWidgetChange:r=>{const n=t(r)!==t(i.widgetState)?(0,l.produce)(r,(t=>{delete t[e]})):r;i.onWidgetChange(n)}})}const zt=e=>"measure"===e.type;function _t(e){return"kpiProperty"===e.type}const Ut=e=>"hierarchy"===e.type,Xt=e=>"namedSet"===e.type,Gt=e=>"compositeHierarchy"===e.type;var Qt=r(16349),Ht=r(18332);class Jt extends Error{constructor(e){super(`Expected an MdxSelect or an MdxDrillthrough, but received an MDX of type "${e.elementType}".`)}}class Yt extends Error{constructor(){super("The provided MDX is incompatible with the dashboard or page filters.")}}var er=r(62408),tr=r(40926),rr=r(92794),ir=r(84638),nr=r(78422),ar=r(86995),or=r(45379);class sr extends Error{}var lr=r(41448),dr=r(12116);const cr=({dimensionName:e,hierarchyName:t,levelName:r})=>(0,je.mW)(e,t,r),ur=({levels:e,expansionChains:t,cube:r})=>{const i=[],n=e.slice(),a=t.slice();for(;n.length>0;){const t=n.shift(),o=(0,I.remove)(a,(([e])=>(0,lr.i)(e,t)));if(o.length>1)throw new sr(`The level ${cr(t)} belongs to several expansion chains: ${JSON.stringify(o.map((e=>e.map(cr))),null,2)}`);if(0===o.length)i.push({type:"hierarchy",...t});else{const a=[t];o[0].slice(1).forEach((t=>{if(!(0,I.remove)(n,(e=>(0,lr.i)(e,t)))[0]){const r=cr(t),i=JSON.stringify(e.map(cr));throw new sr(`The level ${r} is in an expansion chain, but does not contribute to the axis dimensionality: ${i}.`)}const i=a.at(-1);if((0,Qe.I)(i,t)){const e=(0,dr.W)(t,r).name;i.expandedDownTo=e}else a.push(t)})),i.push(a.length>1?{type:"compositeHierarchy",hierarchies:a}:{type:"hierarchy",...a[0]})}}if(a.length>0)throw new sr(`Some expansion chains are incompatible with the levels used on the axis:\n      Incompatible expansion chains: ${JSON.stringify(a.map((e=>e.map(cr))))}\n      Levels used on axis: ${JSON.stringify(e.map(cr))}\n      `);return i},pr=(e,t)=>(0,lr.i)(e.at(-1),t.fromLevel)?"right":!!(0,lr.i)((0,I.first)(e),t.toLevel)&&"left";function hr(e,t=[]){if(0===e.length)return t;if(0===t.length){const r=e.pop();t.push([r.fromLevel,r.toLevel])}for(let r=0;r<e.length;r++){const i=e[r];for(const n of t){const a=pr(n,i);if(a)return e.splice(r,1),"right"===a?n.push(i.toLevel):n.unshift(i.fromLevel),hr(e,t)}}return[...t,...hr(e)]}function gr(e){return hr(e.slice())}const mr=(e,t)=>(0,I.uniqWith)(e.map((({tupleCoordinates:e,toLevel:r})=>{const i=e.at(-1);if("Measures"===i.dimensionName)throw new sr("'Expand by' under a measure is not supported.");const{dimensionName:n,hierarchyName:a,namePath:o}=i,s=(0,L._)({dimensionName:n,hierarchyName:a},t),l=o.length-1;return{fromLevel:{dimensionName:n,hierarchyName:a,levelName:Object.keys(s.levels)[l]},toLevel:r}})),I.isEqual),yr=["value","goal","start","expiry","status","trend"];function fr({mdx:e,cube:t,widgetPlugin:r}){const{attributes:i,doesSupportMeasuresRedirection:n}=r;if(!i)throw new Error("Cannot derive a mapping from Mdx for a widget plugin which does not define attributes.");if(!e)return r.initialState.mapping;const a=function({mdx:e,cube:t,shouldIncludeAllMeasures:r=!0}){const[i,n]=["ROWS","COLUMNS"].map((r=>{const i=(e?.axes||[]).find((({name:e})=>e.toUpperCase()===r));if(void 0===i)return[];const n=(0,tr.O)(i,{cube:t}).filter((e=>(0,L._)(e,t).slicing||"ALL"!==e.levelName));try{const e=(0,rr.K)(i,t),r=gr(mr(e,t));return ur({levels:n,expansionChains:r,cube:t})}catch(e){if(e instanceof sr)return n.map((e=>({...e,type:"hierarchy"})));throw e}})),a=(0,ir.g)(e),o=(0,nr.a)(e),s=a.map((e=>{const r=(0,je.mW)("Measures",e),i=!1===(0,er.t)(e,t)?.visible;let n;const a=o[e]?.properties.find((({name:e})=>"MEMBER_CAPTION"===e||"CAPTION"===e))?.expression;if(void 0!==a&&(0,ar._)(a)&&(n=a.value),i)for(const i of Object.values(t.kpis))for(const t of yr)if(i[t]===r)return[{type:"kpiProperty",kpiName:i.name,propertyName:`KPI${(0,I.capitalize)(t)}`,underlyingMeasureName:e}];return n?[{measureName:e,type:"measure",caption:n}]:[{measureName:e,type:"measure"}]}));if(r)if(0===a.length)n.unshift({type:"allMeasures"});else{const t=(0,be.S)(e),r=(0,or.n)(e.axes.find((e=>e.name===t)));("ROWS"===t?i:n).splice(r,0,{type:"allMeasures"})}return{numeric:{primaryNumeric:s},ordinal:{primaryOrdinal:[i],secondaryOrdinal:[n]}}}({mdx:e,cube:t,shouldIncludeAllMeasures:n});return ke(a,r)}function vr({widgetState:e,mdx:t,dashboardState:r,pageKey:i,leafKey:n,dataModels:a,widgetPlugin:o,lastUsedCube:s,shouldRemoveFiltersFromQuery:d}){const c=void 0!==r;if(c&&(void 0===i||void 0===n))throw new Error("Must pass a page key and leaf key along with the dashboard state.");if("Select"!==t.elementType&&"Drillthrough"!==t.elementType)throw new Jt(t);const{serverKey:u,cube:p}=function({dataModels:e,lastUsedCube:t,mdx:r,widgetState:i}){const n=r?(0,U.p)(r):void 0;if(i.serverKey&&n)try{const t=i.serverKey;return{serverKey:t,dataModel:e[t],cube:(0,H.s)(e[t],n)}}catch(r){if(r instanceof G.s)return J({serverKey:void 0,dataModels:e,cubeName:n,lastUsedCube:t});throw r}return J({dataModels:e,serverKey:i.serverKey,cubeName:n,lastUsedCube:t})}({dataModels:a,widgetState:e,lastUsedCube:s,mdx:t}),h=(0,Ht.Z)(t,{cube:p}).map((({mdx:e})=>e));let g=0;if(c){const e=[...r.filters??[],...r.pages[i].filters??[]];if(g=e.length,!e.every(((e,t)=>{const r=h[t];if(!r)return!1;const i=(0,Qt.c)(r,p);return"custom"===e.type?"custom"===i.type&&(0,I.isEqual)(e.mdx,r):(0,I.isEqual)((0,I.omit)(e,["isExclusionFilter","isPinned"]),(0,I.omit)(i,["isExclusionFilter","isPinned"]))&&Boolean(i.isExclusionFilter)===Boolean(e.isExclusionFilter)&&Boolean(i.isPinned)===Boolean(e.isPinned)})))throw new Yt}const m=(0,l.produce)(e,(e=>{j(e)&&t&&(d??1?e.query.mdx=(0,Et.r)(t,{filters:[],cube:p}):(e.query.mdx=t,e.areFiltersDrivenByMdx=!0)),e.filters=(c&&g?h.slice(g):h).map((e=>(0,Qt.c)(e,p))),e.serverKey=u,Ke(e,o)&&"Select"===t.elementType&&(e.mapping=fr({widgetPlugin:o,mdx:t,cube:p}))})),y=c?(0,l.produce)(r,(e=>{e.pages[i].content[n]=m})):void 0;return{widgetStateDerivedFromMdx:m,dashboardStateDerivedFromMdx:y}}function wr({kpiName:e,propertyName:t}){return`${e} ${t.slice(3)}`}function br(e,t){return(0,I.mapValues)(t,((t,r)=>e[r]??[]))}const xr=e=>{const t=(0,h.Fg)(),{formatMessage:r}=(0,m.useIntl)(),[a,l]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(e.isLoading){const t=setTimeout((()=>{l(!0)}),e.timeBeforeContinueLoadingButtonAppears??2e4);return()=>{clearTimeout(t)}}l(!1)}),[e.isLoading,e.timeBeforeContinueLoadingButtonAppears]),a?(0,o.tZ)(n.Fragment,{children:(0,o.tZ)("div",{css:i.css`
          background: transparent;
          position: absolute;
          width: 100%;
          z-index: 3;
          display: flex;
          justify-content: center;
        `,children:(0,o.BX)("div",{css:i.css`
            background: ${t.backgroundColor};
            width: calc(100% - 4px);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 8px;
            padding-bottom: 8px;
          `,children:[(0,o.tZ)(s.Text,{style:{marginBottom:8},children:r({id:"aui.longLoading"})}),(0,o.tZ)(f.Button,{type:"primary",onClick:()=>l(!1),children:r({id:"aui.continueLoading"})})]})})}):null},Sr=(0,n.createContext)(xr),Cr=Sr.Provider,Mr=(0,n.forwardRef)(((e,t)=>{const r=(0,n.useContext)(Sr)??xr;return(0,o.BX)("div",{ref:t,className:e.className,css:{height:"100%",position:"relative",padding:"0px 2px 3px"},children:[(0,o.tZ)(r,{...e}),e.children]})}));function Nr(e){const{error:t,onLoaded:r}=e,i=(0,St.oM)();(0,n.useEffect)((()=>{r?.()}),[r]);const{formatMessage:a}=(0,m.useIntl)();let l,d,c=t.stack??t.message,u="error";return(t instanceof G.s||t instanceof X.A)&&Object.values(i).some((e=>e.isDataModelLoading))?(u="info",c=a({id:"aui.dataVisualization.loadingDataModels"})):t instanceof G.s&&(l=y.IconCubeError,c=a({id:"aui.error.cubeNotFoundMessage"},{cubeName:t.cubeName}),d=a({id:"aui.error.cubeNotFound"})),(0,o.tZ)(s.ErrorPlaceholder,{Icon:l,title:d,message:c,type:u})}var kr=r(79218);function Or(e){if(!(e.error instanceof fe.MdxError))throw e.error;return(0,o.tZ)(Nr,{...e})}function Ir(e){const t=t=>(0,o.tZ)(kr.ErrorBoundary,{fallbackRender:e=>(0,o.tZ)(Or,{...e,...t}),resetKeys:[t.queryResult],children:(0,o.tZ)(e,{...t})});return t.displayName=`withWidgetQueryErrorBoundary(${e.displayName})`,t}function Kr(e,t){const r=e.findIndex((({key:e})=>e===t.key));-1===r?e.push(t):e[r]=t}var Zr=r(33005);const Tr="\nposition: absolute;\nborder-radius: 2px;\nheight: 3px;\nz-index: 2;\n",Lr=()=>{const e=(0,h.Fg)();return(0,o.tZ)("div",{css:i.css`
        ${Tr}
        width: calc(100% - 4px);
        background-color: ${e.isDark?e.grayScale[5]:"#f5f9ff"};
      `,children:(0,o.tZ)("div",{css:i.css`
          ${Tr}
          background-color: ${(0,Zr.U)(e.primaryColor,.5)};
          animation: loadingBar 0.9s linear infinite;
          @keyframes loadingBar {
            0% {
              left: 0%;
              right: 100%;
              width: 0%;
            }
            50% {
              left: 0%;
              right: 0%;
              width: 100%;
            }

            100% {
              left: 100%;
              right: 0%;
              width: 0%;
            }
          }
        `})})},Br=700;function Er(e){const t=(0,n.forwardRef)(((t,r)=>{const[i,a]=(0,n.useState)(!1),{queryId:s,widgetState:l}=t,d=j(l)?l.serverKey:void 0,c=(0,ve.b)({queryId:s,serverKey:d});return(0,n.useEffect)((()=>{if(c.isLoading){const e=setTimeout((()=>{a(!0)}),Br);return()=>{clearTimeout(e)}}a(!1)}),[c.isLoading]),(0,o.BX)(o.HY,{children:[i&&(0,o.tZ)(Lr,{}),(0,o.tZ)(e,{ref:r,...t})]})}));return t.displayName=`withWidgetLoadingBar(${e.displayName})`,t}function Fr(e){const t=t=>{const r=(0,n.useRef)((0,o.tZ)("div",{}));return t.queryResult.isLoading||(r.current=(0,o.tZ)(e,{...t})),r.current},r=e.displayName||e.name||"Unknown";return t.displayName=`withoutIrrelevantRenders(${r})`,t}function Pr(e){const t=t=>(0,o.tZ)(Mr,{isLoading:t.queryResult.isLoading,style:{...t.style,height:"100%"},children:(0,o.tZ)(e,{...t})}),r=e.displayName||e.name||"Unknown";return t.displayName=`withLoadingOverlay(${r})`,t}},93388:(e,t,r)=>{r.d(t,{BX:()=>s,HY:()=>a,tZ:()=>o});var i=r(97458),n=r(38530),a=(r(66029),r(21759),r(10063),r(93232),r(78070),i.Fragment);function o(e,t,r){return n.h.call(t,"css")?i.jsx(n.E,(0,n.c)(e,t),r):i.jsx(e,t,r)}function s(e,t,r){return n.h.call(t,"css")?i.jsxs(n.E,(0,n.c)(e,t),r):i.jsxs(e,t,r)}},53031:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,n,a;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=i;0!=n--;){var o=a[n];if(!("_owner"===o&&t.$$typeof||e(t[o],r[o])))return!1}return!0}return t!=t&&r!=r}},56053:(e,t,r)=>{var i=r(66029),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var i,a={},d=null,c=null;for(i in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:n,type:e,key:d,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=d,t.jsxs=d},97458:(e,t,r)=>{e.exports=r(56053)}}]);